{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4241","webpack:///./shared/lib/EquipmentHelper.js","webpack:///./shared/lib/math/CryptoHelper.js","webpack:///./client/js/OrbitControls.js","webpack:///./src/assets/img/ethereum-logo-wireframe.png","webpack:///./src/contracts/contractdata.js","webpack:///./shared/lib/UnitHelper.js","webpack:///./shared/lib/EthereumHelper.js","webpack:///./shared/lib/ItemHelper.js","webpack:///./shared/lib/SalvageHelper.js","webpack:///./src/App.vue?2994","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?3024","webpack:///./src/views/MetamaskDropdown.vue?2c59","webpack:///./src/js/web3-helper.js","webpack:///./client/js/sprites/AnimatedSpriteTexture.js","webpack:///src/views/MetamaskDropdown.vue","webpack:///./src/views/MetamaskDropdown.vue?6c74","webpack:///./src/views/MetamaskDropdown.vue","webpack:///./client/views/GameCanvas.vue?c675","webpack:///./client/js/SkyBox.js","webpack:///./client/js/sprites/TargetReticleFactory.js","webpack:///./client/js/sprites/AnimatedSpriteFactory.js","webpack:///./client/js/EntityManager.js","webpack:///./client/js/PlayerController.js","webpack:///./client/js/ModelLoader.js","webpack:///./client/js/TextureLoader.js","webpack:///./client/js/AudioSystem.js","webpack:///./client/js/LocalTargetManager.js","webpack:///./client/js/ClientConnection.js","webpack:///./client/views/station/StationPanel.vue?486e","webpack:///./client/views/station/components/Sidebar.vue?20a9","webpack:///client/views/station/components/Sidebar.vue","webpack:///./client/views/station/components/Sidebar.vue?43a7","webpack:///./client/views/station/components/Sidebar.vue","webpack:///./client/views/station/components/Header.vue?6c97","webpack:///client/views/station/components/Header.vue","webpack:///./client/views/station/components/Header.vue?3bdb","webpack:///./client/views/station/components/Header.vue","webpack:///./client/views/station/components/ModalContainer.vue?5f0c","webpack:///./client/views/station/components/OrderForm.vue?d804","webpack:///client/views/station/components/OrderForm.vue","webpack:///./client/views/station/components/OrderForm.vue?72e0","webpack:///./client/views/station/components/OrderForm.vue","webpack:///./client/views/station/components/SalvageItemForm.vue?ba0b","webpack:///./client/views/components/ItemList.vue?ac06","webpack:///client/views/components/ItemList.vue","webpack:///./client/views/components/ItemList.vue?e94d","webpack:///./client/views/components/ItemList.vue","webpack:///client/views/station/components/SalvageItemForm.vue","webpack:///client/views/station/InventoryPanel.vue","webpack:///client/views/station/HangarPanel.vue","webpack:///client/views/components/ActiveProductionSlotsTable.vue","webpack:///./client/views/station/components/SalvageItemForm.vue?c5b0","webpack:///./client/views/station/components/SalvageItemForm.vue","webpack:///./client/views/station/components/ProductionForm.vue?a053","webpack:///client/views/station/components/ProductionForm.vue","webpack:///./client/views/station/components/ProductionForm.vue?0880","webpack:///./client/views/station/components/ProductionForm.vue","webpack:///./client/views/station/components/TrashItemForm.vue?eeea","webpack:///client/views/station/components/TrashItemForm.vue","webpack:///./client/views/station/components/TrashItemForm.vue?bb3b","webpack:///./client/views/station/components/TrashItemForm.vue","webpack:///./client/views/station/components/DestackItemForm.vue?4138","webpack:///client/views/station/components/DestackItemForm.vue","webpack:///./client/views/station/components/DestackItemForm.vue?cdf8","webpack:///./client/views/station/components/DestackItemForm.vue","webpack:///client/views/station/components/ModalContainer.vue","webpack:///./client/views/station/components/ModalContainer.vue?1968","webpack:///./client/views/station/components/ModalContainer.vue","webpack:///./client/views/station/InventoryPanel.vue?6da1","webpack:///./client/views/components/ItemTable.vue?0e73","webpack:///client/views/components/ItemTable.vue","webpack:///./client/views/components/ItemTable.vue?4cd3","webpack:///./client/views/components/ItemTable.vue","webpack:///./client/views/station/InventoryPanel.vue?3b57","webpack:///./client/views/station/InventoryPanel.vue","webpack:///./client/views/station/HangarPanel.vue?c57d","webpack:///./client/views/station/hangar/HangarCargoPanel.vue?decf","webpack:///client/views/station/hangar/HangarCargoPanel.vue","webpack:///./client/views/station/hangar/HangarCargoPanel.vue?c219","webpack:///./client/views/station/hangar/HangarCargoPanel.vue","webpack:///./client/views/station/hangar/HangarFittingPanel.vue?42e1","webpack:///./client/views/components/ShipEquipmentTable.vue?8d07","webpack:///client/views/components/ShipEquipmentTable.vue","webpack:///./client/views/components/ShipEquipmentTable.vue?55b3","webpack:///./client/views/components/ShipEquipmentTable.vue","webpack:///client/views/station/hangar/HangarFittingPanel.vue","webpack:///./client/views/station/hangar/HangarFittingPanel.vue?9b95","webpack:///./client/views/station/hangar/HangarFittingPanel.vue","webpack:///./client/views/station/HangarPanel.vue?0f8a","webpack:///./client/views/station/HangarPanel.vue","webpack:///./client/views/station/ProductionPanel.vue?eb85","webpack:///./client/views/components/ProductionBlueprintsTable.vue?9b33","webpack:///client/views/components/ProductionBlueprintsTable.vue","webpack:///./client/views/components/ProductionBlueprintsTable.vue?8d57","webpack:///./client/views/components/ProductionBlueprintsTable.vue","webpack:///./client/views/components/ActiveProductionSlotsTable.vue?3e25","webpack:///./client/views/components/ActiveProductionSlotsTable.vue?61a5","webpack:///./client/views/components/ActiveProductionSlotsTable.vue","webpack:///client/views/station/ProductionPanel.vue","webpack:///./client/views/station/ProductionPanel.vue?e9fc","webpack:///./client/views/station/ProductionPanel.vue","webpack:///./client/views/station/MarketPanel.vue?a1a3","webpack:///./client/views/components/TreeList.vue?48c4","webpack:///./client/views/components/TreeListItem.vue?b48c","webpack:///client/views/components/TreeListItem.vue","webpack:///./client/views/components/TreeListItem.vue?afba","webpack:///./client/views/components/TreeListItem.vue","webpack:///client/views/components/TreeList.vue","webpack:///./client/views/components/TreeList.vue?8c76","webpack:///./client/views/components/TreeList.vue","webpack:///client/views/station/MarketPanel.vue","webpack:///client/views/station/WalletPanel.vue","webpack:///./client/views/station/MarketPanel.vue?43a8","webpack:///./client/views/station/MarketPanel.vue","webpack:///./client/views/station/WalletPanel.vue?da26","webpack:///./client/views/station/WalletPanel.vue?0667","webpack:///./client/views/station/WalletPanel.vue","webpack:///./client/views/station/DevPanel.vue?7a9d","webpack:///client/views/station/DevPanel.vue","webpack:///./client/views/station/DevPanel.vue?35e6","webpack:///./client/views/station/DevPanel.vue","webpack:///client/views/station/StationPanel.vue","webpack:///./client/views/station/StationPanel.vue?4c05","webpack:///./client/views/station/StationPanel.vue","webpack:///./client/views/OverviewPanel.vue?f515","webpack:///client/views/OverviewPanel.vue","webpack:///./client/views/OverviewPanel.vue?84e3","webpack:///./client/views/OverviewPanel.vue","webpack:///./client/views/RightClickMenu.vue?f592","webpack:///./client/views/components/HoverMenu.vue?77fd","webpack:///client/views/components/HoverMenu.vue","webpack:///./client/views/components/HoverMenu.vue?4398","webpack:///./client/views/components/HoverMenu.vue","webpack:///client/views/RightClickMenu.vue","webpack:///./client/views/RightClickMenu.vue?d643","webpack:///./client/views/RightClickMenu.vue","webpack:///./client/views/ItemActionMenu.vue?a374","webpack:///client/views/ItemActionMenu.vue","webpack:///./client/views/ItemActionMenu.vue?8fd0","webpack:///./client/views/ItemActionMenu.vue","webpack:///./client/views/ShipHud.vue?5d41","webpack:///client/views/ShipHud.vue","webpack:///./client/views/ShipHud.vue?00a9","webpack:///./client/views/ShipHud.vue","webpack:///./client/views/StarMap.vue?c9f7","webpack:///client/views/StarMap.vue","webpack:///./client/views/StarMap.vue?31b0","webpack:///./client/views/StarMap.vue","webpack:///./client/views/NavigationPanel.vue?4b46","webpack:///client/views/NavigationPanel.vue","webpack:///./client/views/NavigationPanel.vue?aa3b","webpack:///./client/views/NavigationPanel.vue","webpack:///./client/views/ShipModulesPanel.vue?56e2","webpack:///./client/views/TargetHud.vue?5188","webpack:///client/views/TargetHud.vue","webpack:///./client/views/TargetHud.vue?2cbe","webpack:///./client/views/TargetHud.vue","webpack:///./client/views/components/CustomIcon.vue?7e04","webpack:///client/views/components/CustomIcon.vue","webpack:///./client/views/components/CustomIcon.vue?03d7","webpack:///./client/views/components/CustomIcon.vue","webpack:///client/views/ShipModulesPanel.vue","webpack:///./client/views/ShipModulesPanel.vue?862c","webpack:///./client/views/ShipModulesPanel.vue","webpack:///./client/views/LootPanel.vue?2867","webpack:///client/views/LootPanel.vue","webpack:///./client/views/LootPanel.vue?a3ef","webpack:///./client/views/LootPanel.vue","webpack:///./client/views/ShipCargoPanel.vue?2bff","webpack:///client/views/ShipCargoPanel.vue","webpack:///./client/views/ShipCargoPanel.vue?371d","webpack:///./client/views/ShipCargoPanel.vue","webpack:///client/views/GameCanvas.vue","webpack:///./client/views/GameCanvas.vue?e78e","webpack:///./client/views/GameCanvas.vue","webpack:///./src/js/matic-helper.js","webpack:///./src/views/Footer.vue?417a","webpack:///./src/views/Footer.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./src/views/Login.vue?05ab","webpack:///./src/components/Modal.vue?b952","webpack:///src/components/Modal.vue","webpack:///./src/components/Modal.vue?cf53","webpack:///./src/components/Modal.vue","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue","webpack:///./src/views/Docs.vue?d0ee","webpack:///src/views/Docs.vue","webpack:///./src/views/Docs.vue?b729","webpack:///./src/views/Docs.vue","webpack:///./src/views/NotFound.vue?d8e0","webpack:///src/views/NotFound.vue","webpack:///./src/views/NotFound.vue?6ffc","webpack:///./src/views/NotFound.vue","webpack:///./src/router.js","webpack:///./src/main.js","webpack:///./client/views/components/CustomIcon.vue?c5e4","webpack:///./shared/lib/ProductionHelper.js","webpack:///./node_modules/@maticnetwork/maticjs/node_modules/web3-eth-accounts/src sync","webpack:///./shared/lib/GalaxyHelper.js","webpack:///./shared/lib/math/ImageHelper.js","webpack:///./src/js/cryptoassets.js","webpack:///./shared/contracts/web3connection.config.js","webpack:///./shared/lib/util/MongoHelper.js","webpack:///./shared/lib/StatsHelper.js","webpack:///./src/js/config-0xbtc.js","webpack:///./client/views/station/components/Header.vue?753b","webpack:///./client/js/meshwalk.js","webpack:///./src/assets/img/metamask.svg","webpack:///./src/assets/img/maticlogo.png","webpack:///./shared/lib/math/TrigonometryHelper.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","GalaxyHelper","require","EquipmentHelper","slot","slotId","unit","equipSlot","mongoInterface","existing","findItemEquippedToShip","item","equippingUnit","minSlot","maxSlot","unitTypeData","getUnitBaseTypeData","unitTypeSlotSizes","slots","equipmentTypeData","getEquipmentTypeData","internalName","equipmentSlotType","equipment_slot","possibleSlot","availableSlot","isAvailable","equipmentSlotIsAvailable","console","log","findOne","equippedToUnit","_id","equippedToSlot","unitId","equipment","equipmenttypedata","equipmenttype","target_type","gridUUID","activeModules","unitsOnGrid","findAll","grid","active","dead","dockedInStation","mods","concat","findById","equippedItems","clearAllEquipmentSlotsForUnit","insertOne","engaged","success","deleteMany","hash","Math","floor","random","pow","toString","warn","THREE","domElement","undefined","document","error","this","enabled","target","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","ROTATE","MIDDLE","DOLLY","PAN","target0","clone","position0","position","zoom0","zoom","setPolarAngle","newPhi","spherical","phi","setAzimuthalAngle","newTheta","theta","getPolarAngle","getAzimuthalAngle","handleMouseDown","event","onMouseDown","updatePosition","pos","panCameraToPosition","saveState","scope","copy","reset","updateProjectionMatrix","dispatchEvent","changeEvent","update","state","STATE","NONE","offset","quat","setFromUnitVectors","up","quatInverse","inverse","lastPosition","lastQuaternion","twoPI","sub","applyQuaternion","setFromVector3","rotateLeft","getAutoRotationAngle","sphericalDelta","min","max","isFinite","makeSafe","radius","scale","addScaledVector","panOffset","add","setFromSpherical","lookAt","multiplyScalar","set","zoomChanged","distanceToSquared","EPS","dot","quaternion","dispose","removeEventListener","onContextMenu","onPointerDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","ownerDocument","onPointerMove","onPointerUp","onKeyDown","type","startEvent","endEvent","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","angle","rotateUp","panLeft","v","distance","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","isPerspectiveCamera","targetDistance","tan","fov","clientHeight","matrix","isOrthographicCamera","right","left","clientWidth","top","bottom","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","subVectors","x","y","handleMouseMoveDolly","handleMouseMovePan","handleMouseUp","handleMouseWheel","handleKeyDown","needsUpdate","keyCode","preventDefault","handleTouchStartRotate","touches","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","dx","dy","sqrt","handleTouchStartDollyPan","handleTouchStartDollyRotate","handleTouchMoveRotate","handleTouchMovePan","handleTouchMoveDolly","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","handleTouchEnd","pointerType","onMouseMove","onMouseUp","mouseAction","focus","button","ctrlKey","metaKey","shiftKey","addEventListener","stopPropagation","ONE","TWO","DOLLY_PAN","DOLLY_ROTATE","tabIndex","constructor","entitybasetypes","StatsHelper","UnitHelper","basetype","getBaseTypeData","unittype","updateAndFindOne","warpStartTick","warpDestinationGridUUID","jumpStartTick","jumpDestinationGridUUID","stats","mass","ticksForDistance","getTicksToStartWarp","unitA","unitB","locVector","Vector3","locationVector","z","distanceTo","loc","entityArray","typedata","dist","collisionRadius","aiFaction","isStatic","locA","locB","fromVector","facing","normalize","negate","location","from","to","getFacingVectorFromUnitToLocation","entity","serviceTarget","actualDistance","getDistanceBetweenUnits","serviceDistance","interactRadius","serviceType","services","includes","getUnitType","spawnData","basetypedata","unitType","owningPlayerAddress","trace","newUnitData","griduuid","velocityVector","getInitialStatsForEntityType","vitals","getInitialVitalsForEntityType","invisible","toLowerCase","mobtype","mobSpawnLocationVector","deathrattleIntoGangType","lootingUnitWithId","spawnedAtTick","response","insertedId","invulnerable","activeActionData","findUnitById","targetUnit","targetUnitId","upsertOne","inputUnit","deleted","deletedCount","updateOne","destination","orbitRadius","unitLocation","destinationLocation","yAxis","flattened_destination","directionNormalized","getFacingVectorFromLocationToLocation","applyAxisAngle","targetPointForOrbit","targetDirectionForOrbit","setUnitVelocityTowardsDirection","direction","shipSpeedFactor","speed","web3utils","Web3","contractData","contracts","payspecContractABI","tokenContractABI","EthereumHelper","address","amountPercent","web3Provider","givenProvider","web3","eth","getBlockNumber","lastTimeFetchedBlock","localStorage","getItem","timeNow","Date","getTime","setItem","bNum","getNetworkBlockNumber","options","Contract","matic_network","payspec","_0xbitcoin","chainId","getChainId","publicAddress","paySpecContract","getPayspecContract","paySpecContractAddress","tokenContract","getTokenContract","approvalAmount","methods","approve","send","requestData","order","txData","description","nonce","token","amountDue","payTo","feeAddresses","feePercents","expiresAt","invoiceUUID","ethTx","createAndPayInvoice","err","cancelInvoice","expBlock","currentBlock","getOrCacheNetworkBlockNumber_client","blocksPerMinute","blocksPerHour","blockDifference","hours","ceil","amountRaw","decimals","toFixed","web3details","getWeb3ProviderDetails","walletDetails","tokensBalance","balanceOf","tokensApprovedToPayspec","allowance","tokensBalanceFormatted","formatTokenAmount","tokensApprovedToPayspecFormatted","e","walletdetails","provider","getNetworkDetails","dedicated_rpc","getInvoicePayer","invoiceHasExpired","invoiceWasCancelled","invoiceData","payspecContractAddress","soliditySha3","itembasetypes","MongoHelper","ItemHelper","internalname","allowedToMoveItem","itemIsEscrowedForMarketOrder","itemIsEscrowedForProductionSlot","itemHasRemainderStackPending","itemHasSalvagingPending","itemHasStackAbsorbtionPending","escrowedForMarketOrder","escrowedForProductionSlot","itemId","getAllowedToMoveQueryConcatenation","initialQuery","safeQuery","assign","stackingIntoItemId","absorbingStackItemId","quantityToSalvage","remainingQuantityToSpawn","containerId","newItemData","spawnLockId","stackQuantity","newItem","container","items","newContainer","newContainerId","isValidObjectId","getAllowedToMoveQueryById","remainingQuantity","childStackLockId","spawnNewItem","newStackExists","updateCustomAndFindOne","$unset","beingSalvagedFromItemId","itemContainer","deleteOne","pubAddress","getPlayerOwnerAddressForUnit","getContainerFromPlayerAndUnitOwner","containerOwnerId","containerOwnerUnit","ownerUnitId","existingcontainer","ownerAddress","encapsulatingUnitId","inputContainer","player","playerOwnsContainer","playerUnit","possessedUnitId","containingUnit","documentIdsAreEqual","playerisDockedInStation","playerDockedInStation","playerOwnsUnit","CryptoHelper","salvagedata","SalvageHelper","itemSalvageData","getSalvageData","output","inputItem","inputQuantity","parseInt","isNaN","spawnRemainingSalvageForItem","quantityMultiplier","spawnedItems","outputItems","getItemsOutputForSalvaging","totalQuantity","quantity","newItemInsert","getRandomHash","existingOutputs","newSpawnedItem","finishSalvageItemOutput","outputItem","parentItem","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","staticRenderFns","script","component","_m","activeAccountAddress","providerNetworkID","ref","_v","on","$event","open","_e","staticStyle","_s","acctAddress","contractAddress","disconnect","tipjarContractABI","CryptoAssets","BigNumber","utils","texture","tilesHorizontal","tilesVertical","minTile","maxTile","loop","currentTile","helper","init","ethereum","handleChainChanged","_chainId","reload","handleAccountsChanged","accounts","ethereumChainID","maticChainID","request","method","net_id","contract","at","TippingJar","getTipjarContractAddress","tokenAddress","spender","Promise","resolve","reject","then","catch","spenderAddress","assetName","requestedDepositAmountFormatted","numApproved","getTokensAllowance","assets","numApprovedFormatted","rawAmountToFormatted","parseFloat","tipjarContract","balance","getBalance","amount","formattedAmountToRaw","amountFormatted","multiplier","exponentiatedBy","multipliedBy","params","eth_accounts","props","connected","assetsLoaded","connectionError","loadingStepName","connectToServer","class","hidden","handleOverviewRowClicked","handleLocalActionCommand","handleClientCommand","handleClientDataRequest","handleDevToolsRequest","handleItemActionMenuCallback","SkyBox","texLoader","skyboxnames","createMaterialArray","skyboxName","skyboxGeo","materialArray","skybox","filename","skyboxImageTextureDataArray","getSkyboxImageTextureData","imgData","loadTexture","shortName","fullPath","mat","map","side","basePath","baseFilename","fileType","sides","outputData","TargetReticleFactory","textureLoader","isActive","tex","spriteMaterial","transparent","sprite","AnimatedSpriteTexture","tilingData","tilesHoriz","tilesVert","wrapS","wrapT","repeat","updateOneTick","currentColumn","offX","currentRow","offY","getUpdateCallback","spritesmap","AnimatedSpriteFactory","spriteName","spriteData","textureName","animatedTex","updateTextureOneTick","delay","EventEmitter","entitiesEmitter","targetReticleFactory","animatedSpriteFactory","currentGridUUID","currentGridTick","entitytypes","lerpProgressMs","pastGridEntities","Map","currentGridEntities","sceneObjectsMap","playersOnGrid","spawnedTargetReticles","spawnedDeathSprites","cachedEquipmentSlots","clickableEntities","loadingGrid","SERVER_GRID_UPDATE_RATE","EntityManager","scene","modelLoader","localTargetManager","getEntitiesEventEmitter","getClickableEntities","getMyPlayerData","gridData","newGridEntities","newGridPlayers","clear","forEach","emit","getMyPossessedUnit","examineEntityChangesForEvents","entry","entries","stale","sceneObj","sceneObjectUUID","setVisibilityOfSceneObject","has","visible","unitIsActiveInSpace","modelname","shipModel","loadModel","scaleFactor","newObj","startingLocationVector","userData","uuid","cgEntity","remove","delete","currentEquipmentSlots","foundSlot","cachedSlots","cachedSlot","currentCooldownUntilTick","cooldownUntilTick","cachedCooldownUntilTick","playSoundForEquipmentSlotActivation","existingSlots","equipmentSlot","equipmentType","activationSoundName","activation_sound_name","actionUnitData","findUnitWithId","soundEventData","actionUnit","soundName","currentEntities","newEntitiesArray","newEntities","currentInstance","newInstance","units","spawnedDeathSprite","makeSprite","renderOrder","targetLocks","myUnit","myUnitId","lock","lockingUnitId","lockComplete","lockedUnitId","lockedUnit","tRetEntry","isPrimaryTarget","primaryTargetUnitId","getPrimaryTargetUnitId","lockedTargetRet","parent","makeReticle","removeAllStaleTargetReticles","equipmentSlots","examineEquipmentChangesForEvents","entities","players","gridTick","loadGrid","loadEquipmentSlots","updateTargetLockSprites","updateAnimatedSpritesForUnits","delta","lerpEntities","lerpAlpha","entityPast","entityNow","pastLocVec","pastFacVec","currentFacVec","locationVectorLerped","lerp","facingVectorLerped","getSceneObjectForEntity","futurePos","tRet","obj","vis","traverse","child","getDataForEntityById","entityId","sceneObjectId","myPlayerOnGrid","myPossessedUnitId","myPossessedUnit","playerData","selectedFaction","PlayerController","acceptPlayerDataFromServer","pData","playerFaction","getPlayerData","getSelectedFaction","challenge","web3provider","challengeHash","fromUtf8","sig","async","personal","sign","signature","addr","ecRecover","loader","preloadedAssets","modelcache","modelsmap","ModelLoader","loadingStepCallback","GLTFLoader","cacheid","assetpath","lookupAssetName","filepath","load","gltf","model","modelpath","texturecache","texturesmap","TextureLoader","customPath","path","asset","audioLoader","listener","audiocache","audiomap","AudioSystem","getListener","sound","cachedBuffer","setBuffer","buffer","loadSound","setVolume","play","vol","playerUnitVector","sounds","targettingEmitter","currentlyLootingUnitId","LocalTargetManager","commandCallback","setInterval","lootedUnit","targetIsLootable","unitHasService","targetWithinServiceRange","unitsWithinServiceRange","setPrimaryTarget","targetData","setLootingTarget","getCurrentlyLootingTargetUnitId","getTargettingEventEmitter","channel","entityManager","axios","default","serverConfig","clientConfig","clientEnvironment","environment","ClientConnection","errorMessageCallback","authedCallback","url","gameServer","port","geckos","onConnect","message","onDisconnect","personalSignWithMetamask","recAddress","web3ecRecover","sessionStorage","authToken","receivedGridStateFromServer","datagram","setEntityManager","entMgr","getPublicAddress","factionName","getSessionAuthToken","reliable","cmdName","cmdParams","dataRequest","requestType","serverName","getServerNameForDataRequest","serverProperties","postData","results","sidebarButtonClicked","dataRequestCallback","stationUnitId","activePanel","localActionCallback","myPlayer","devToolsCallback","modalFormSubmitted","activeClass","inactiveClass","clickedButton","setHidden","buttonClickedCallback","buttonName","setActivePanel","scrollingText","getTitle","activeForm","formSubmittedCallback","directives","rawName","itemToSell","expression","domProps","composing","$set","quantityToSell","currencyName","pricePerUnit","totalPrice","submit","web3connectionconfig","components","tokenName","formData","inputItemArray","rightClickRowCallback","outputItemArray","_l","indexOf","_k","onRowClicked","itemTypeData","itemsArray","onClick","clickedCallback","requestTimer","updateTimer","ItemList","rebuild","watch","itemToSalvage","itemToProduce","quantityToProduce","itemToTrash","quantityToTrash","itemToDestack","quantityToDestack","setActiveForm","formName","setTargetData","activeStationPanel","itemCompoundList","array","totalVolume","row","volume","ItemTable","focusedRowId","inventoryDataChanged","setNeedsUpdate","needs","requestItemsFromAPI","onReceivedDataRequestResponse","subPanel","ship","canRequestStarterShip","focusedShip","getShipName","stationInventoryItems","handleRightClickRow","shipCargoItems","cargoInfoResponse","requestShipCargoFromAPI","inventoryInfoResponse","requestStationInventoryFromAPI","inventory","cargo","availableItems","equipmentInfoResponse","requestShipEquipmentFromAPI","rebuildAvailableItems","rebuildEquippedItems","inventoryItems","equippableItems","itemtypedata","equippedItemss","HangarCargoPanel","shipRows","stationPanelIsHidden","requestShipsFromAPI","shipDataChanged","closeSubPanels","openSubPanel","$nextTick","blueprintItems","productionslotItems","status","disabled","ProductionBlueprintsTable","blueprintDataChanged","blueprintData","productionslotDataChanged","productionSlotData","requestBlueprintsFromAPI","requestProductionSlotsFromAPI","selectedItemNameFull","treeListData","handleClickedTreeListItem","orderRows","itemOwnedByMe","itemName","amountDueFormatted","expiresAtFormatted","searchQuery","itemData","title","onClickCallback","hiddenForSearch","isFolder","collapsed","children","focusItemSlot","setCollapsed","TreeListItem","updatedSearchQuery","treelistdata","TreeList","selectedItemName","itemInternalName","setselectedItemName","ordersChanged","ordersData","playersChanged","takeMarketOrder","requestOrdersFromAPI","hasValidNetwork","loading","getTokensApproved","couldApproveMore","getPayspecContractURL","requestWalletDetailsFromAPI","entitiesChanged","panelName","$refs","sidebar","hangarpanel","openModalOfType","modalContainer","modalType","tarData","inventorypanel","productionpanel","partiallyLocked","fullyLocked","onRowLeftClicked","onRowRightClicked","onRowDoubleClicked","lockedClass","entityList","primaryTargetChanged","targetLocksChanged","style","getMenuTitle","targettingData","command","celestials","showCelestials","warpgates","clickedHoverMenuOption","clickedHoverMenu","planets","structures","anomalies","optionArray","toggleMenu","id","clickedOption","openedCallback","optionId","gridChanged","mySolarsystemName","solarsystem","cData","warpgateMenu","planetMenu","anomalyMenu","structureMenu","setOffsets","targetId","buildTargettingData","targetName","canApproach","canOrbit","canDock","canJump","canLoot","canLock","canUnlock","ultimateParent","otherUnitId","basetypeData","targetIsLocked","itemType","context","canCancelOrder","targettedItem","panelFocusedUnit","compiledStats","currentShields","maxShields","currentArmor","maxArmor","currentEnergy","maxEnergy","formattedLocationVector","vec","isHidden","hoveredSystem","constellation","solarsystemdata","jumpgateconnections","hoverableMeshes","toggledOpen","renderer","camera","controls","mouse","RENDER_DISTANCE","setPixelRatio","setClearColor","setSize","getElementById","appendChild","OrbitControls","buildStarMeshes","animate","material","sphere","requestAnimationFrame","canvasRect","getBoundingClientRect","vector","clickables","mesh","color","playeruuid","aspect","width","height","setNewHoveredMesh","setToggledOpen","toggled","equippedModules","mod","iconSlot","textureIconSlot","texturePath","tintColor","textureIconTint","activated","clickedIcon","equipmentSlotId","engage","iconClass","iconImageData","image_path","iconImgData","computedBGPosition","borderColor","commandData","equipmentSlotsChanged","rebuildIcons","myUnitEquipmentSlots","itemtype","iconName","iconDetails","slotType","tint","canLootTarget","itemArray","lootingTargetUnit","dataError","refresh","containerEncapsulatingUnitId","containerOwnerPublicAddress","canLootUnit","lootingTargetChanged","resetPanel","invData","gameClientStarted","clock","audioSystem","playerController","skyboxFactory","pauseRendering","skyMesh","cachedGrid","clientConnection","rect","rightClickTargetData","startGameClient","innerWidth","innerHeight","camera_pivot","dollyTo","rotateTo","intensity","ambientlight","directionallight","getMesh","getMaterial","gamecanvas","onDoubleClick","onWindowResize","requestSpawn","initialize","preloadAssets","getDelta","focusUnit","middleLocation","lerpVectors","onDocumentMouseMove","rightclick","hideStarMap","hideAllRightClickMenus","intersect","intersects","openRightClickMenuForSceneObject","resetAllLootMenus","rclickmenu","top_offset","itemactionmenu","starmap","setPauseRendering","skyboxname","paused","shipcargopanel","lootpanel","openItemActionMenuForItem","stepName","requestAPIData","stationpanel","orderData","playLocalSoundForLocalCommand","sendClientCommand","entityRow","sceneObject","playSoundFromEvent","handleConnectionErrorMessage","msg","MaticPOSClient","requestMetamask","backdropLeaving","close","cardLeaving","_t","showModal","showBackdrop","showContent","onEscape","$once","handler","newValue","show","immediate","$emit","computed","connectEth","enable","Modal","selectedAddress","account","setContent","activeContent","contentName","Vue","use","Router","routes","Home","Login","Docs","NotFound","config","productionTip","PortalVue","router","h","App","$mount","productiondata","blueprintgroups","ProductionHelper","groupName","itemProductionData","getProductionData","input","stationUnit","stationGrid","findGridWithUUID","constellationName","constellationData","getConstellationTypeData","baseBlueprintGroups","base_blueprint_groups","getBlueprintsFromBlueprintGroups","bpGroups","group","blueprintsInGroup","getBlueprintGroupData","playerPublicAddress","producingItemType","itemTypeName","findPlayerByAddress","stationItemContainer","inputItemsTotal","getTotalInputItemsToProduce","hasInputItems","containerHasItems","producingItemTypeName","productionSlot","createNewProductionSlot","updateProductionSlot","inputItems","getItemTypeByInternalName","foundItem","findItemInContainerWithQuantity","escrowItemForProductionSlot","numberOfRequiredInputItems","numberOfItemsEscrowed","escrowedItem","activeSlot","unixTimeStarted","startedAtUnixTime","currentTime","now","timeToProduce","getTimeToProduce","hadEnoughTimeToProduce","removeEscrowedItemsForActiveProductionSlot","escrowedItems","quantityOutputToSpawn","completedSlot","spawnOutputItemForCompletedProductionSlot","productionData","timeFactor","timeMs","quantityToEscrow","initialStackQuantity","remainderQuantity","updatedItemResponse","updatedItem","spawnRemainderStackForItem","producedItemInsert","inputItemsToProduceEach","getItemsInputForProduction","currentUnixTime","newSlotId","getNextAvailableSlotIdForPlayerAtStation","insert","inputItemInternalName","itemQuery","$gte","safeItemQuery","webpackEmptyContext","req","Error","code","solarsystems","celestialtypes","constellationtypes","mobtypes","factiondata","equipmenttypes","constellationname","constellationdata","celestialgrid","celestialtype","typename","homeStationGridUUID","faction","getFactionData","allowsPlayers","homeGrid","homeStationUnitId","ssname","activeGrids","hasActivePlayerUnits","celestial","celestialtypedata","getCelestialName","staticEntities","warpInLocationVector","jumpDestinationSystemName","existingGrid","playerPossessedUnit","getPossessedUnitForPlayer","playerIsDocked","gridLocationVector","iconmap","tileWidth","tilesPerRow","tileX","tileY","pixelX","pixelY","id1","id2","energy","max_energy","shields","max_shields","armor","max_armor","vitalsDelta","oldVitals","newVitals","newUnit","sUnit","newStats","findAllEquipmentOnShip","stat_bonuses_self","statbonuskeys","bonusAmount","stattype","getMinimumValueForStatType","targetEngagedSlots","findAllEquipmentEngagedTargettingShip","engagedSlot","stat_bonuses_target","statType","sensorRange","sensor_range","warpStrength","warp_strength","sensorFrequency","sensor_frequency","signatureRadius","signature_radius","cpuSize","cpu_size","shieldRegen","shield_regen","root","RPC","DERC20","user","privateKey","amount1","global","factory","THREE$1","vec3","vec3_0","vec3_1","center","extents","v0","v1","v2","f0","f1","f2","a00","a01","a02","a10","a11","a12","a20","a21","a22","plane","A","B","C","V","AB","BC","CA","Q1","Q2","Q3","QC","QA","QB","negatedNormal","ab","ac","qp","ap","au","bv","cw","onInstallHandlers","install","_THREE","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Super","NewTarget","arguments","_superPropBase","_get","receiver","base","desc","getOwnPropertyDescriptor","isIntersectionAABBPlane","aabb","Plane","addVectors","abs","normal","constant","isIntersectionTriangleAABB","a","b","p0","p1","p2","cross","isIntersectionSphereAABB","sqDist","isIntersectionSphereTriangle","rr","aa","bb","bc","cc","d1","d2","d3","e1","e2","e3","contactPoint","testSegmentTriangle","q","w","ood","u","Octree","maxDepth","nodes","isOctree","nodeBoxSize","nodeBoxMin","nodeBoxMax","depth","pow2","pow4","divideScalar","indexX","indexY","indexZ","mortonNumber","getMortonNumber","OctreeNode","threeMesh","updateMatrix","geometryId","geometry","applyMatrix4","computeVertexNormals","BufferGeometry","index","indices","positions","attributes","offsets","groups","start","count","materialIndex","ii","ll","vA","fromArray","vB","vC","cb","faceNormal","face","Face","addFace","computeFaceNormals","_i","faces","_face","vertices","tmp","targetNodes","node","isIntersected","trianglePool","getChildNodes","meshID","nodeDepth","newTrianglePool","intersectedNodes","_isIntersected","isAtMaxDepth","separate3Bit","uniqTrianglesFromNodes","uniq","isContained","iii","lll","tree","firstChild","Sphere","direction2D","wallNormal2D","groundingHead","groundingTo","point1","point2","translateScoped","translate","World","colliderPool","characterPool","isCharacterController","world","dt","character","octree","groundPadding","getIntersectedNodes","collisionCandidate","EventDispatcher","_listeners","listeners","listenerArray","FALL_VELOCITY","JUMP_DURATION","PI_HALF","PI_ONE_HALF","Vector2","CharacterController","_EventDispatcher","_super","object3d","_this","maxSlopeGradient","cos","DEG2RAD","isGrounded","isOnSlope","isIdling","isRunning","isJumping","movementSpeed","velocity","currentJumpPower","jumpStartTime","groundHeight","groundNormal","contactInfo","wasGrounded","wasOnSlope","wasRunning","wasJumping","isFirstUpdate","_events","_updateGrounding","_updateJumping","_updatePosition","_collisionDetection","_solvePosition","_updateVelocity","frontDirection","rightDirection","sin","isHittingCeiling","slidingDownVelocity","horizontalSpeed","negativeFrontAngle","atan2","wallAngle","groundContactInfo","groundContactInfoTmp","groundedY","isSlopeFace","plainD","performance","elapsed","progress","TURN_DURATION","TAU","modulo","getDeltaTurnAngle","current","AnimationController","motion","mixer","AnimationMixer","currentMotionName","animations","anim","clipAction","setEffectiveWeight","crossFadeTo","rad","that","prevRotY","rotation","targetRotY","end","_targetRotY","interval","isAborted","KEY_W","KEY_UP","KEY_S","KEY_DOWN","KEY_A","KEY_LEFT","KEY_D","KEY_RIGHT","KEY_SPACE","DEG_0","DEG_45","DEG_90","DEG_135","DEG_180","DEG_225","DEG_270","DEG_315","KeyInputControl","isDisabled","isUp","isDown","isLeft","isRight","isMoveKeyHolding","frontAngle","_keydownListener","_keyupListener","onKeyUp","_blurListener","onBlur","down","isInputEvent","jump","prevAngle","updateAngle","tagName","isContentEditable","ACTION","extendStatics","Array","__extends","__","PI_2","PI_HALF$1","FPS_60","EPSILON","approxZero","number","approxEquals","roundToStep","step","round","infinityToMaxNumber","Number","MAX_VALUE","maxNumberToInfinity","isTouchEvent","TouchEvent","extractClientCoordFromEvent","out","touchEvent","mouseEvent","notSupportedInOrthographicCamera","THREE$2","_ORIGIN","_AXIS_Y","_AXIS_Z","_v2","_v3A","_v3B","_v3C","_xColumn","_yColumn","_sphericalA","_sphericalB","_box3A","_box3B","_quaternionA","_quaternionB","_rotationMatrix","_raycaster","EventDispatcher$1","removeAllEventListeners","isArray","isMac","test","navigator","platform","readonlyACTION","freeze","TOUCH_DOLLY_FACTOR","CameraControls","draggingDampingFactor","azimuthRotateSpeed","polarRotateSpeed","dollySpeed","truckSpeed","dollyToCursor","verticalDragToForward","boundaryFriction","colliderMeshes","_state","_viewport","_dollyControlAmount","_boundaryEnclosesCamera","_needsUpdate","_updatedLastTime","_camera","_yAxisUpSpace","Quaternion","_yAxisUpSpaceInverse","_domElement","_target","_targetEnd","_spherical","Spherical","_sphericalEnd","_zoom","_zoomEnd","_nearPlaneCorners","_updateNearPlaneCorners","_boundary","Box3","_target0","_position0","_zoom0","_dollyControlCoord","middle","TRUCK","wheel","ZOOM","one","two","TOUCH_DOLLY_TRUCK","TOUCH_ZOOM_TRUCK","three","TOUCH_TRUCK","dragStartPosition_1","lastDragPosition_1","dollyStart_1","elementRect_1","Vector4","truckInternal_1","camera_1","getEffectiveFOV","truckX","pedestalY","truck","forward","camera_2","rotateInternal_1","rotate","dollyInternal_1","prevRadius","zoomInternal_1","zoomScale","zoomTo","onMouseDown_1","prevState","MOUSE","startDragging_1","onTouchStart_1","lastScrollTimeStamp_1","onMouseWheel_1","_getClientRect","deltaYFactor","deltaMode","originalEvent","onContextMenu_1","isMultiTouch","dragging_1","passive","endDragging_1","dollyX","dollyY","TOUCH_DOLLY","TOUCH_ZOOM","_removeAllEventListeners","libs","Matrix4","Raycaster","azimuthAngle","polarAngle","boundaryEnclosesCamera","enableTransition","clamp","dolly","zoomStep","_encloseToBoundary","moveTo","fitTo","box3OrObject","_a","_b","paddingLeft","_d","paddingRight","paddingBottom","_f","paddingTop","isBox3","setFromObject","viewFromPolar","multiply","setFromAxisAngle","makeEmpty","expandByPoint","setX","setY","setZ","bbSize","getSize","getCenter","getDistanceToFit","setLookAt","positionX","positionY","positionZ","targetX","targetY","targetZ","normalizeRotations","lerpLookAt","positionAX","positionAY","positionAZ","targetAX","targetAY","targetAZ","positionBX","positionBY","positionBZ","targetBX","targetBY","targetBZ","positionA","targetA","targetB","positionB","deltaTheta","deltaPhi","deltaRadius","setPosition","setTarget","getPosition","setBoundary","box3","clampPoint","setViewport","viewportOrX","boundingRectAspect","heightToFit","getTarget","_out","isVector3","updateCameraUp","lerpRatio","exp","deltaTarget","planeX","lengthSq","planeY","worldToScreen","lerpRatio_1","cursor","_collisionTest","zoomDelta","updated","toJSON","JSON","stringify","toArray","fromJSON","json","parse","friction","offsetLength2","newTarget","clampedTarget","deltaClampedTarget","deltaClampedTargetLength2","offsetFactor","near","heightHalf","widthHalf","zoomInv","top_1","hasCollider","nearPlaneCorner","origin_1","far","intersectObjects","TPSCameraControls","_CameraControls","trackObject","_thisSuper"],"mappings":"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","file":"js/app.a4643008.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","\n\n\nconst GalaxyHelper = require('./GalaxyHelper')\n\nconst EthereumHelper = require('./EthereumHelper')\n\nconst ItemHelper = require('./ItemHelper')\nconst StatsHelper= require('./StatsHelper')\n\n\n\n/*\n  Use the items table as the TRUTH. Use it whenever you can... it is atomic.\n\n   The equipmentSlots table is less reliable data\n*/\nmodule.exports =  class EquipmentHelper {\n\n\n\n\n\n   static getSlotType(slot)\n   {\n     if(slot.slotId <10){\n       return 'high'\n     }\n\n     if(slot.slotId <20){\n       return 'mid'\n     }\n\n     if(slot.slotId <30){\n       return 'low'\n     }\n\n     return 'low'\n\n\n   }\n\n\n\n\n  /*\n    only look at ITEMS and UNIT TYPE\n\n    checks to make sure ship actually has teh slot\n    makes sure no items occupy it\n  */\n  static async equipmentSlotIsAvailable(unit, equipSlot, mongoInterface){\n\n    let existing = await EquipmentHelper.findItemEquippedToShip(unit,equipSlot, mongoInterface)\n\n    if(existing){\n      return false\n    }\n\n    return true\n\n  }\n\n  static async findNextAvailableSlotToEquipItem(item, equippingUnit, mongoInterface ){\n\n    //equipmentSlotIsAvailable\n\n  //  console.log('findNextAvailableSlotToEquipItem', item, equippingUnit)\n    let minSlot = 0;\n    let maxSlot = 9;\n\n    let unitTypeData = GalaxyHelper.getUnitBaseTypeData(equippingUnit)\n    let unitTypeSlotSizes = unitTypeData.slots\n\n    let equipmentTypeData = GalaxyHelper.getEquipmentTypeData( item.internalName )\n  //  console.log(' eq type data', equipmenttypedata)\n\n  //  console.log('eq type', equipmentTypeData , item )\n\n    let equipmentSlotType = equipmentTypeData.equipment_slot\n\n    if(!unitTypeSlotSizes[equipmentSlotType] || unitTypeSlotSizes[equipmentSlotType] < 1 ){\n      return null\n    }\n\n    if(equipmentSlotType == 'high'){\n      minSlot = 0;\n    }\n\n    if(equipmentSlotType == 'mid'){\n      minSlot = 10;\n    }\n\n    if(equipmentSlotType == 'low'){\n      minSlot = 20;\n    }\n\n    maxSlot = minSlot + (unitTypeSlotSizes[equipmentSlotType]-1)\n\n    let possibleSlot = minSlot;\n    let availableSlot = null;\n\n    while(possibleSlot <= maxSlot){\n      let isAvailable = await EquipmentHelper.equipmentSlotIsAvailable(equippingUnit, possibleSlot, mongoInterface)\n      if( isAvailable ){\n        availableSlot = possibleSlot\n        break;\n      }\n      possibleSlot++;\n    }\n\n    console.log('avail', availableSlot)\n\n    return availableSlot\n  }\n\n\n  static async findItemEquippedToShip(unit, equipSlot, mongoInterface){\n\n    //var localUnit = await mongoInterface.findById('units', {_id: unit._id })\n\n    return await mongoInterface.findOne('items', {equippedToUnit: unit._id, equippedToSlot: equipSlot} )\n\n  }\n\n  static async findOneEquipmentOnShip(unit,equipSlot,mongoInterface){\n\n    return await mongoInterface.findOne('equipmentSlots', {unitId: unit._id, slotId: equipSlot} )\n\n  }\n\n\n\n\n  static equipmentRequiresPrimaryTarget(equipment){\n    let equipmenttypedata = GalaxyHelper.getEquipmentTypeData(equipment.equipmenttype)\n\n\n    return (equipmenttypedata.target_type != 'self' && equipmenttypedata.target_type != 'passive')\n\n  }\n\n  static equipmentOfTypeCanBeEngaged(equipment){\n    let equipmenttypedata = GalaxyHelper.getEquipmentTypeData(equipment.equipmenttype)\n\n\n    return (equipmenttypedata.target_type != 'passive')\n\n  }\n\n  /*\n  Bulky.. try to make this more efficient\n\n  Consider just stuffing EquipmentSlots right into the Unit object ..\n  */\n  static async getEquipmentSlotsOnGrid(gridUUID, mongoInterface)\n  {\n\n  //  let joinResult = await mongoInterface.findWithJoin('units', {otherCollection: 'equipmentSlots', localField: '_id' , foreignField: 'unitId', as:'finalresults'}     )\n\n    let activeModules = []\n\n    let unitsOnGrid = await mongoInterface.findAll('units',{grid: gridUUID, active:true,dead:false,  dockedInStation: null })\n\n\n    for(var unit of unitsOnGrid){\n      let mods = await mongoInterface.findAll('equipmentSlots',{unitId: unit._id})\n\n     activeModules=  activeModules.concat(mods)\n    }\n\n\n    //ship modules are objects that are warped along with the ship to a new grid... auto healing on login\n  //  let activeModules = await mongoInterface.findAll('equipmentSlots',{ gridUUID: gridUUID, active:true })\n\n    return activeModules\n\n  }\n\n\n  //happens when items are equipped, unequipped, or when a unit CHANGES GRIDS or SPAWNS IN\n  static async rebuildEquipmentSlotsForUnit(unit, mongoInterface){\n\n    if(!unit)\n    {\n      console.log('WARN: rebuilding slots for null unit ?')\n      return\n    }\n\n    let equippingUnit = await mongoInterface.findById('units',unit._id)\n\n    let equippedItems = await mongoInterface.findAll('items', {equippedToUnit: equippingUnit._id} )\n\n    console.log('rebuilding equipment slots for unit ',unit, equippedItems)\n\n    await EquipmentHelper.clearAllEquipmentSlotsForUnit(equippingUnit,mongoInterface)\n\n    for(var item of equippedItems){\n\n      //equipmenttypes share names with the item basetypes !!  They just have different stats inside\n\n       //all server-unreliable data but used for the client\n      await mongoInterface.insertOne('equipmentSlots', {\n        unitId: equippingUnit._id,\n        slotId: item.equippedToSlot,\n        equipmenttype: item.internalName,\n      //  gridUUID: equippingUnit.grid,\n        active:true, //unit player is logged in (not implemented)\n        engaged:false //cycling\n      } )\n\n\n    }\n\n\n  }\n\n  static async clearAllEquipmentSlotsForUnit(unit, mongoInterface){\n\n    let success = await mongoInterface.deleteMany('equipmentSlots', {unitId: unit._id} )\n\n    return success\n\n  }\n\n}\n","\nmodule.exports =  class CryptoHelper {\n\n  static getRandomHash(){\n\n    let hash = Math.floor(Math.random()*( Math.pow(16 , 16  ) )).toString(16)\n    return hash\n\n  }\n\n\n}\n","console.warn( \"THREE.OrbitControls: As part of the transition to ES6 Modules, the files in 'examples/js' were deprecated in May 2020 (r117) and will be deleted in December 2020 (r124). You can find more information about developing using ES6 Modules in https://threejs.org/docs/#manual/en/introduction/Installation.\" );\n\n import * as THREE from 'three'\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nTHREE.OrbitControls = function ( object, domElement ) {\n\n\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\n\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\tthis.object = object;\n\tthis.domElement = domElement;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new THREE.Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.05;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = false;\n\tthis.panSpeed = 1.0;\n\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// Set to false to disable use of the keys\n\tthis.enableKeys = true;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { LEFT: THREE.MOUSE.ROTATE, MIDDLE: THREE.MOUSE.DOLLY, RIGHT: THREE.MOUSE.PAN };\n\n\t// Touch fingers\n\t//this.touches = { ONE: THREE.TOUCH.ROTATE, TWO: THREE.TOUCH.DOLLY_PAN };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t//\n\t// public methods\n\t//\n\n  this.setPolarAngle = function (newPhi)\n  {\n    spherical.phi = newPhi \n  }\n\n  this.setAzimuthalAngle = function (newTheta)\n  {\n    spherical.theta = newTheta\n  }\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\n\t};\n\n  this.handleMouseDown = function (event) {\n    return onMouseDown(event)\n  }\n\n  this.updatePosition = function (pos) {\n    return panCameraToPosition(pos)\n  }\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy( scope.target );\n\t\tscope.position0.copy( scope.object.position );\n\t\tscope.zoom0 = scope.object.zoom;\n\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy( scope.target0 );\n\t\tscope.object.position.copy( scope.position0 );\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent( changeEvent );\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n\t\tvar quatInverse = quat.clone().inverse();\n\n\t\tvar lastPosition = new THREE.Vector3();\n\t\tvar lastQuaternion = new THREE.Quaternion();\n\n\t\tvar twoPI = 2 * Math.PI;\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3( offset );\n\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t} else {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t}\n\n\t\t\t// restrict theta to be between desired limits\n\n\t\t\tvar min = scope.minAzimuthAngle;\n\t\t\tvar max = scope.maxAzimuthAngle;\n\n\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\tif ( min < max ) {\n\n\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\tspherical.makeSafe();\n\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t// move target to panned location\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t}\n\n\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tscale = 1;\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif ( zoomChanged ||\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t};\n\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n\n\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown, false );\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\n\n\t\tscope.domElement.removeEventListener( 'keydown', onKeyDown, false );\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = {\n\t\tNONE: - 1,\n\t\tROTATE: 0,\n\t\tDOLLY: 1,\n\t\tPAN: 2,\n\t\tTOUCH_ROTATE: 3,\n\t\tTOUCH_PAN: 4,\n\t\tTOUCH_DOLLY_PAN: 5,\n\t\tTOUCH_DOLLY_ROTATE: 6\n\t};\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new THREE.Spherical();\n\tvar sphericalDelta = new THREE.Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new THREE.Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new THREE.Vector2();\n\tvar rotateEnd = new THREE.Vector2();\n\tvar rotateDelta = new THREE.Vector2();\n\n\tvar panStart = new THREE.Vector2();\n\tvar panEnd = new THREE.Vector2();\n\tvar panDelta = new THREE.Vector2();\n\n\tvar dollyStart = new THREE.Vector2();\n\tvar dollyEnd = new THREE.Vector2();\n\tvar dollyDelta = new THREE.Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction rotateLeft( angle ) {\n\n\t\tsphericalDelta.theta -= angle;\n\n\t}\n\n\tfunction rotateUp( angle ) {\n\n\t\tsphericalDelta.phi -= angle;\n\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\tv.multiplyScalar( - distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t} else {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t}\n\n\t\t\tv.multiplyScalar( distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement;\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\tscope.enablePan = false;\n\n\t\t\t}\n\n\t\t};\n\n\t}();\n\n\tfunction dollyOut( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale /= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\tfunction dollyIn( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale *= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate( event ) {\n\n\t\trotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownDolly( event ) {\n\n\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownPan( event ) {\n\n\t\tpanStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseMoveRotate( event ) {\n\n\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMoveDolly( event ) {\n\n\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n  function panCameraToPosition( position ) {\n    console.log('pan',position)\n    panEnd.set( position.x, position.y );\n\n    panDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n    pan( panDelta.x, panDelta.y );\n\n    panStart.copy( panEnd );\n\n    scope.update();\n\n  }\n\n\n\tfunction handleMouseMovePan( event ) {\n\n\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseUp( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\tfunction handleMouseWheel( event ) {\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleKeyDown( event ) {\n\n\t\tvar needsUpdate = false;\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.update();\n\n\t\t}\n\n\n\t}\n\n\tfunction handleTouchStartRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartPan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyStart.set( 0, distance );\n\n\t}\n\n\tfunction handleTouchStartDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchStartPan( event );\n\n\t}\n\n\tfunction handleTouchStartDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchStartRotate( event );\n\n\t}\n\n\tfunction handleTouchMoveRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateEnd.set( x, y );\n\n\t\t}\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t}\n\n\tfunction handleTouchMovePan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanEnd.set( x, y );\n\n\t\t}\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t}\n\n\tfunction handleTouchMoveDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyEnd.set( 0, distance );\n\n\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\tdollyOut( dollyDelta.y );\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t}\n\n\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t}\n\n\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t}\n\n\tfunction handleTouchEnd( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onPointerDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\t\tonMouseDown( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onPointerMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\t\tonMouseMove( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onPointerUp( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\t\tonMouseUp( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onMouseDown( event ) {\n\n\t\t// Prevent the browser from scrolling.\n\t\tevent.preventDefault();\n\n\t\t// Manually set the focus since calling preventDefault above\n\t\t// prevents the browser from setting it automatically.\n\n\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\n\n\t\tvar mouseAction;\n\n\t\tswitch ( event.button ) {\n\n\t\t\tcase 0:\n\n\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\n\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tmouseAction = - 1;\n\n\t\t}\n\n\t\tswitch ( mouseAction ) {\n\n\t\t\tcase THREE.MOUSE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase THREE.MOUSE.ROTATE:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase THREE.MOUSE.PAN:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove, false );\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp, false );\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleMouseUp( event );\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tscope.dispatchEvent( startEvent );\n\n\t\thandleMouseWheel( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n\t\thandleKeyDown( event );\n\n\t}\n\n\tfunction onTouchStart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault(); // prevent scrolling\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\n\n\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\tcase THREE.TOUCH.ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase THREE.TOUCH.PAN:\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\tcase THREE.TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase THREE.TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onTouchMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault(); // prevent scrolling\n\t\tevent.stopPropagation();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction onTouchEnd( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleTouchEnd( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onContextMenu( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t}\n\n\t//\n\n//\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n//\tscope.domElement.addEventListener( 'pointerdown', onPointerDown, false );\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n//\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n//\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n//scope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n//\tscope.domElement.addEventListener( 'keydown', onKeyDown, false );\n\n\t// make sure element can receive keys.\n\n\tif ( scope.domElement.tabIndex === - 1 ) {\n\n\t\tscope.domElement.tabIndex = 0;\n\n\t}\n\n\t// force an update at start\n\n\tthis.update();\n\n};\n\nTHREE.OrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\nTHREE.OrbitControls.prototype.constructor = THREE.OrbitControls;\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nTHREE.MapControls = function ( object, domElement ) {\n\n\tTHREE.OrbitControls.call( this, object, domElement );\n\n\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\tthis.mouseButtons.LEFT = THREE.MOUSE.PAN;\n\tthis.mouseButtons.RIGHT = THREE.MOUSE.ROTATE;\n\n\tthis.touches.ONE = THREE.TOUCH.PAN;\n\tthis.touches.TWO = THREE.TOUCH.DOLLY_ROTATE;\n\n};\n\nTHREE.MapControls.prototype = Object.create( THREE.EventDispatcher.prototype );\nTHREE.MapControls.prototype.constructor = THREE.MapControls;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAA1CAMAAAD4fXLQAAAAb1BMVEVHcEy/abO+bLO5i7O5j7O+brPBWLO+bLO9cbPDTbPCUrO/Z7PDT7PCVLPESLPBW7O6hLO8ebO4krPDT7PAYbPESbO+a7O6h7O7fLO8d7PAX7O4kbO6hrPAYbO4k7O7e7O7gLPES7PCTrO6nrbCVrO00RqtAAAAJXRSTlMAlCGVWla3AhVYOguXdroqRLG8h0umuW+ghqSrNmuG18L94OzSOh2EJwAAAmJJREFUOMt9leeCgjAQhBcwhYQWehBEvXv/Z7zdUI6i8AMwGWe/2QQA2B4CboGAy0PmPze41DQ/eS4v5kV/bx6Px5XifssCP++/1UHMO5Li+atA5hkp4H77VoMIKG3/GVZAlvvgPOARfCRBTNcx15Xsk4QAZwXe67PAhZwVQrTNmSJ4zOviLv3TP2PKfwVerT14aIe5KhDWHGCb+7r6sysz+oTpFCxYCrfD1gQxxX4HIWztHzHdbWnXUevtMN0YArZjNt3jQtblUqdp5/nUmudo2lJT05Cp1hPdjCmywFjJPM2MGaT7SxdPJq6bmrWmwXGGxUXp1TFhpjwlSZZrkI1pb5LWhU14vVd7KUAcOcyM5jMx4TkFWfsx95TsSsR8WhP0sPRj9nC5Bh51XMI4Nv5mBZn3fw+65K8OPRoBS+6dAscUpzJpa9gi2ShwII14SNUwoWn7gweViHkhQUvILF6a2spDlpJHGDeMcbYdmQDfq5lYPNYCafVWVGYcW1ytrOvoF/NwXsY8xjYWycvtEVHWg/F8EEONZ/IIpwJJEUVzBGulrQcNfsFZ6KmOY0JVVUol/txIXTPoO0quut83HxCrSAahk3BtgsINJxintQoLqpfgGaJi0+uhW/koZ0XMYaI3W1lMewUzlpSTGpMmaisAnyu3ECX/jafeVfHuiRKYULq9GUbTHo2r07PvFZMycq1dg25fYtjmxQPkGnQrUUkKk8IF/fSaiqvZ4xD034TwHcc+6FZCM+hxDLqLnAhUYLXvL/aoCItz0N3npaqqD0F3kd+v4vILhN1O9OVHDE3C49gfZJIhMflsAi0AAAAASUVORK5CYII=\"","module.exports = {\n\n  \"contracts\":{\n          \"ethereum_network\":{\n          },\n          \"matic_network\":{\n            \"TippingJar\":{\"address\":\"0x91cdF51E0B06fd0e30A4199a5D572c89FDB9A4ee\"}\n          },\n  }\n\n\n\n}\n","const THREE = require('three')\n\nvar entitybasetypes = require('../../shared/worlddata/entitybasetypes.json')\n\nconst TrigonometryHelper = require('./math/TrigonometryHelper')\nconst GalaxyHelper = require('./GalaxyHelper')\nconst StatsHelper = require('./StatsHelper')\n\n\nconst MongoHelper = require('./util/MongoHelper')\n\n/*\n\nYOU ARE NOT ALLOWEd to make circular references to helpers --will be blank\ncircular dependencies are a code smell\n*/\n\n\nmodule.exports =  class UnitHelper   {\n\n\n\n constructor()\n {\n\n }\n\n\n\nstatic getBaseTypeData(unit)\n{\n  if(unit)\n  {\n    return entitybasetypes[unit.basetype]\n  }\n  return null\n}\n\nstatic getUnitType( unit )\n{\n  if(unit)\n  {\n    return UnitHelper.getBaseTypeData(unit).unittype\n  }\n  return null\n}\n\n  //moved to galaxy helper\n   static async findUnitById(unitId, mongoInterface){\n     return await mongoInterface.findById('units',unitId)\n   }\n\n   // {energy: -5, shields: 0, armor: 0, emDamage: 30}\n\n\n\n    //unitId must be a mongo object id\n    //this un-corrupts data from unplanned server resets/crashes\n    //feel free to add more to this\n    static async refreshUnitData(unitId, mongoInterface)\n    {\n    //  let player  = await mongoInterface.findOne('activePlayers', {possessedUnitId: unitId })\n    //  let playerGrid = player.grid\n\n\n      return await mongoInterface.updateAndFindOne('units',{_id: unitId},\n\n      //cancel warps, sync the unit so it is on the players grid and station\n      { active:true,\n        warpStartTick:undefined,\n        warpDestinationGridUUID:undefined,\n        jumpStartTick:undefined,\n        jumpDestinationGridUUID:undefined\n\n        //,\n\n\n      //  owningPlayerAddress: player.publicAddress.toLowerCase()\n            //  grid:playerGrid,\n       }\n    )\n\n\n\n    }\n\n  /*\n  Do this when a unit fits a new item\n  or when the unit is the target of an activated module\n\n  */\n\n  //the grid updater does this and then saves them to mongo\n  //looks at activated modules like warp jammers and sensor dampeners\n\n\n\n static getTicksToStartWarp(unit)  // a tick is 500 ms\n {\n   if(!unit){\n     console.log('WARN: ticks to start warp for null unit ')\n     return 0\n   }\n\n   return unit.stats.mass / 10;\n }\n\n static getTicksToFinishWarp(unit)  // a tick is 500 ms\n {\n   //stubbed in just for now...\n   let ticksForDistance = 0\n\n   return (UnitHelper.getTicksToStartWarp(unit) * 2 ) + ticksForDistance;\n }\n\n\n\n\n  //an entity is a unit\n  static getDistanceBetweenUnits(unitA, unitB)\n  {\n    var locVector = new THREE.Vector3(unitA.locationVector.x,unitA.locationVector.y,unitA.locationVector.z)\n    return locVector.distanceTo(unitB.locationVector)\n  }\n\n  static collidingWithAnyEntity(loc, entityArray)\n  {\n    var locVector = new THREE.Vector3(loc.x,loc.y,loc.z)\n    for(var i in entityArray)\n    {\n\n      var typedata = entitybasetypes[entityArray[i].basetype]\n      var dist = locVector.distanceTo(entityArray[i].locationVector)\n    //  console.log('meep',typedata.collisionRadius, dist  )\n      if(dist <  typedata.collisionRadius )\n      {\n        return entityArray[i]\n      }\n    }\n\n    return null;\n\n\n\n  }\n\n\n\n\n  static unitHasArtificialIntelligence(unit)\n  {\n    return (unit.aiFaction && !unit.isStatic)\n  }\n\n\n  \n\n\n   static getFacingVectorFromLocationToLocation(locA,locB)\n   {\n\n     var fromVector = new THREE.Vector3(locA.x,locA.y,locA.z  )\n\n     var facing = (fromVector.sub( locB )).normalize().negate()\n     return facing;\n\n   }\n\n   static getFacingVectorFromUnitToLocation(unit,location)\n   {\n\n     var fromVector = new THREE.Vector3(unit.locationVector.x,unit.locationVector.y,unit.locationVector.z  )\n\n     var facing = (fromVector.sub( location )).normalize().negate()\n     return facing;\n\n   }\n\n  static getFacingVectorFromUnitToUnit(from,to)\n  {\n    return UnitHelper.getFacingVectorFromUnitToLocation(from, to.locationVector)\n    /*var fromVector = new THREE.Vector3(from.locationVector.x,from.locationVector.y,from.locationVector.z  )\n\n    var facing = (fromVector.clone().sub(to.locationVector)).normalize()\n    return facing;*/\n\n  }\n\n  static unitHasJumpDestination( unit ){\n\n      return (unit.jumpDestinationGridUUID != null)\n  }\n\n  static unitHasWarpDestination( unit )\n  {\n      return (unit.warpDestinationGridUUID != null)\n  }\n\n  static unitPreparingToWarp( entity )\n  {\n      return (entity.warpDestinationGridUUID != null)\n  }\n\n  static unitsWithinServiceRange(unit, serviceTarget)\n  {\n    var actualDistance = UnitHelper.getDistanceBetweenUnits(unit,serviceTarget)\n    let typedata = UnitHelper.getBaseTypeData( serviceTarget )\n    var serviceDistance = typedata.interactRadius\n\n    return (actualDistance <= serviceDistance)\n\n  }\n\n  static unitIsActiveInSpace( unit )\n  {\n      return (unit.active && !unit.dead && unit.dockedInStation == null)\n\n\n  }\n\n  static unitIsDockedAtStation( unit )\n  {\n    if(unit){\n      return (unit.dockedInStation)\n    }\n\n      return null\n\n  }\n\n\n\n\n  // 'docking', 'market', 'recycling', 'gate'\n  static unitHasService(unit, serviceType )\n  {\n    if(unit)\n    {\n      let typedata = UnitHelper.getBaseTypeData( unit )\n\n      if(typedata.services && typedata.services.length > 0)\n      {\n          return typedata.services.includes(serviceType)\n      }\n\n\n    }\n    console.log('WARN: unitHasService(null) ')\n    return false\n  }\n\n\n//Server Methods below\n\n\n static getWreckTypeForUnit(unit)\n {\n\n   if(UnitHelper.getUnitType(unit) == 'ship'){\n\n         return  'shipwreck'\n   }\n\n\n   return null\n }\n\n\n\n\n      static async spawnNewUnit(spawnData,  mongoInterface )\n      {\n\n        let basetypedata = GalaxyHelper.getUnitBaseTypeData(spawnData  ) //entitybasetypes[spawnData.basetype]\n        let unitType = null\n\n        if(basetypedata)\n        {\n          unitType = basetypedata.unittype\n        }\n\n        if(!spawnData.owningPlayerAddress){\n          console.trace('WARN: Cannot spawn without owning player address')\n        }\n\n\n        //player, aiFaction, location, basetype, dockedInStation\n\n        var newUnitData = {\n          grid: spawnData.location.griduuid,\n          locationVector: spawnData.location.locationVector,// new THREE.Vector3( 0, 1, 0 )  {x: location.x, y: location.y},\n          velocityVector: spawnData.location.velocityVector,\n          basetype: spawnData.basetype,\n          unittype: unitType, // in the basetype\n          stats: StatsHelper.getInitialStatsForEntityType( spawnData.basetype ),\n          vitals: StatsHelper.getInitialVitalsForEntityType(  spawnData.basetype ),\n          active:  true,   //owner not logged out\n          invisible: false,\n          isStatic:spawnData.isStatic,\n          dead:false,\n          owningPlayerAddress: spawnData.owningPlayerAddress.toLowerCase(),\n\n          aiFaction: spawnData.aiFaction,\n          mobtype:spawnData.mobtype,\n          mobSpawnLocationVector: spawnData.mobSpawnLocationVector,\n          deathrattleIntoGangType:  spawnData.deathrattleIntoGangType,\n\n          warpStartTick: undefined,\n          warpDestinationGridUUID: undefined,\n          jumpStartTick: undefined,\n          jumpDestinationGridUUID: undefined,\n\n          dockedInStation: spawnData.dockedInStation,\n          lootingUnitWithId: undefined,\n\n          spawnedAtTick: spawnData.spawnedAtTick\n           }\n\n\n\n        /*   if(spawnData.owningPlayerAddress)\n           {\n             newUnitData.owningPlayerAddress = spawnData.owningPlayerAddress.toLowerCase()\n           }*/\n\n\n        var response = await mongoInterface.insertOne('units',  newUnitData )\n\n        var insertedId = response.insertedId ;\n\n\n        return insertedId\n      }\n\n\n\n /*static async spawnCapsuleForShip( unit, mongoInterface )\n {\n\n   let capsuleBasetype = 'capsule'\n\n   let location = {\n     galaxy: unit.galaxy,    //optional\n     griduuid: unit.grid,\n     locationVector: new THREE.Vector3( unit.locationVector.x, unit.locationVector.y, unit.locationVector.z ),\n     velocityVector: new THREE.Vector3( 0, 0, 0 )\n   }\n\n  // if(!capsuleBasetype) return\n\n\n   let grid = GalaxyHelper.findGridWithUUID( unit.grid, mongoInterface )\n   let gridTick = grid.gridTick\n\n\n\n\n\n    let spawnData = {\n      owningPlayerAddress: unit.owningPlayerAddress,\n      aiFaction: unit.aiFaction,\n      location: location,\n      basetype: capsuleBasetype,\n      dockedInStation: null,\n      isStatic: false,\n      spawnedAtTick: gridTick  //used to remove later\n    }\n\n   console.log('spawn capsule', spawnData)\n\n   var insertedId = await UnitHelper.spawnNewUnit( spawnData, mongoInterface  )\n\n   let capsuleUnit = await mongoInterface.findById('units',insertedId  )\n\n   //the player possesses the new capsule\n   await  mongoInterface.upsertOne('activePlayers',\n   {publicAddress: unit.owningPlayerAddress},\n     {\n       possessedUnitId: insertedId,\n       grid: location.griduuid,\n       active:true\n     }\n   )\n\n\n  // let container = await ItemHelper.getContainerWithinUnit(  wreckUnit , mongoInterface  )\n\n  // await LootHelper.spawnLootFromUnitIntoContainer(unit , container , mongoInterface )\n\n\n   return capsuleUnit\n\n }\n*/\n\n\n\n\n\n  static unitIsInvulnerable(unit){\n    let basetypedata = UnitHelper.getBaseTypeData(unit)\n    return basetypedata.invulnerable\n  }\n\n/*\nlet activeActionData = {\n  unitId: unit._id,\n  gridUUID: unit.grid,\n  actionName: 'approach',\n  targetUnitId: targetUnitId,\n  targetLocationVector: {}\n}\n*/\n\n  static async setUnitActiveAction( activeActionData, mongoInterface )\n  {\n\n\n  //  let unitId\n  let unit = await GalaxyHelper.findUnitById(  activeActionData.unitId, mongoInterface )\n\n  let targetUnit = await GalaxyHelper.findUnitById(  activeActionData.targetUnitId , mongoInterface)\n\n  if(!unit){\n   return  {success:false, error: 'Could not set unit active action, unit null ' }\n  }\n\n    activeActionData.unitId = unit._id\n\n    if(targetUnit){\n      activeActionData.targetUnitId = targetUnit._id\n    }\n\n\n    if(activeActionData.unitId ){\n\n      await mongoInterface.upsertOne('activeUnitAction',{unitId: unit._id}, activeActionData)\n\n      return {success:true }\n    }\n\n    console.log('WARN: could not set unit active action', activeActionData)\n    return  {success:false, error: 'Could not set unit active action ' }\n  }\n\n  static async clearUnitActiveAction( inputUnit, mongoInterface)\n  {\n\n    if(inputUnit && inputUnit._id){\n      var deleted = await mongoInterface.deleteMany('activeUnitAction',{unitId: inputUnit._id} )\n\n\n      if(deleted && deleted.deletedCount > 0){\n          return true\n      }\n\n    }\n\n/*\n    if(activeActionData.unitId  ){\n\n      var deleted = await mongoInterface.deleteOne('activeUnitAction',{unitIdRaw: activeActionData.unitIdRaw} )\n\n    //  console.log('deleted active unit action ', deleted)\n      return true\n    }\n\n    if(activeActionData.targetUnitId  ){\n\n      var deleted = await mongoInterface.deleteOne('activeUnitAction',{targetUnitIdRaw: activeActionData.targetUnitIdRaw} )\n\n    //  console.log('deleted active unit action ', deleted)\n      return true\n    }*/\n\n\n    console.log('WARN: could not clear unit active action', inputUnit)\n    return false\n  }\n\n\n\n\n\n  static async setUnitVelocityToZero( unit,   mongoInterface )\n  {\n    var entity = await mongoInterface.findOne('units', {_id: unit._id } )\n\n     entity.velocityVector = new THREE.Vector3(0,0,0)\n     await mongoInterface.updateOne('units', {_id: entity._id } , {velocityVector: entity.velocityVector})\n  }\n\n\n  static async setUnitVelocityToOrbitLocation( unit, destination, orbitRadius, mongoInterface )\n   {\n     let unitLocation = new THREE.Vector3(unit.locationVector.x, unit.locationVector.y,unit.locationVector.z)\n     let destinationLocation = new THREE.Vector3(destination.x, destination.y,destination.z)\n\n\n     let yAxis = new THREE.Vector3(0,1,0)\n\n     let flattened_destination = destinationLocation.clone()\n     flattened_destination.y = unitLocation.y  //flatten it\n\n\n\n     //let currentAngleToDestinationRadians = unitLocation.angleTo(flattened_destination); //the angle about the Y axis\n\n\n     let directionNormalized = UnitHelper.getFacingVectorFromLocationToLocation(destination, unitLocation)\n     directionNormalized.applyAxisAngle(  yAxis  , Math.PI / 18 )  // 10 degrees\n\n\n\n\n\n\n\n\n     let targetPointForOrbit = destinationLocation.addScaledVector(  directionNormalized, orbitRadius );\n\n    //   console.log('targetPointForOrbit ',targetPointForOrbit , unitLocation , destinationLocation  )\n\n     let targetDirectionForOrbit = UnitHelper.getFacingVectorFromLocationToLocation(unitLocation, targetPointForOrbit)\n\n\n\n      return await UnitHelper.setUnitVelocityTowardsDirection(unit, targetDirectionForOrbit, mongoInterface)\n   }\n\n\n\n  static async setUnitVelocityToApproachLocation( unit, destination, mongoInterface )\n   {\n      let direction = UnitHelper.getFacingVectorFromUnitToLocation(unit, destination)\n\n      return await UnitHelper.setUnitVelocityTowardsDirection(unit,direction, mongoInterface)\n   }\n\n   static async setUnitVelocityTowardsDirection( unit, direction , mongoInterface)\n   {\n\n\n       var entity = await mongoInterface.findOne('units', {_id: unit._id } )\n\n        var shipSpeedFactor = entity.stats.speed\n\n        entity.velocityVector = direction.multiplyScalar( shipSpeedFactor )\n\n       await mongoInterface.updateOne('units', {_id: entity._id } , {velocityVector: entity.velocityVector})\n\n       return true\n\n    }\n\n\n}\n","var web3utils = require('web3-utils')\n\n\nconst Web3 = require('web3')\n\n\nconst contractData = require('../contracts/contractdata.json').contracts\n\nconst payspecContractABI = require('../contracts/abi/PayspecV2.json')\nconst tokenContractABI = require( '../contracts/abi/ERC20.json' )\n\nmodule.exports =  class EthereumHelper {\n\n\n   static getNetworkDetails()\n   {\n\n     return {\n       \"networkName\": \"Matic Mainnet\",\n       \"chainId\": 137,\n       \"rpc\": \"https://rpc-mainnet.matic.network\",\n       \"explorer\": \"https://explorer.matic.network\",\n       \"dedicated_rpc\": \"https://rpc-mainnet.maticvigil.com/v1/3304ec1dd22f6ff1589fd0353a549a70b82d4dfd\"\n     }\n   }\n\n   static getDeveloperFeeData(){\n     return {\n       address: '0x8f700B474a63C4B6D67C080313284879E198D097',\n       amountPercent: 2\n     }\n   }\n\n\n   static async getNetworkBlockNumber( web3Provider )\n   {\n     if(!web3Provider)\n     {\n         var web3Provider = Web3.givenProvider\n     }\n\n     let web3 = new Web3( web3Provider )\n\n      return await web3.eth.getBlockNumber( )\n   }\n\n\n   static async getOrCacheNetworkBlockNumber_client()\n   {\n\n      let lastTimeFetchedBlock = window.localStorage.getItem('lastTimeFetchedBlockNumber')\n\n      let timeNow = new Date().getTime()\n      if(lastTimeFetchedBlock == null ||  (timeNow - lastTimeFetchedBlock) >  5*60*1000  ) //5 minutes\n      {\n        window.localStorage.setItem('lastTimeFetchedBlockNumber',timeNow)\n\n        let bNum = await EthereumHelper.getNetworkBlockNumber()\n        window.localStorage.setItem('blockNumber',bNum)\n      }\n\n      return window.localStorage.getItem('blockNumber')\n\n   }\n\n   static async getCachedNetworkData( mongoInterface )\n   {\n\n     return await mongoInterface.findOne('networkData' )\n\n\n   }\n\n\n\n   //for the client to pop up the metamask window\n   static getPayspecContract(web3Provider,  options )\n   {\n\n    if(!web3Provider)\n    {\n        var web3Provider = Web3.givenProvider\n    }\n\n     let web3 = new Web3( web3Provider )\n\n     return new web3.eth.Contract(payspecContractABI, contractData.matic_network.payspec.address, options);\n\n   }\n\n   static getTokenContract(web3Provider,  options )\n   {\n\n     if(!web3Provider)\n     {\n         var web3Provider = Web3.givenProvider\n     }\n\n     let web3 = new Web3( web3Provider )\n\n     return new web3.eth.Contract(tokenContractABI, contractData.matic_network._0xbitcoin.address, options);\n\n   }\n\n   static async getWeb3ProviderDetails()\n   {\n     let web3 = new Web3( Web3.givenProvider )\n\n      return {\n        chainId: await web3.eth.getChainId()\n\n      }\n\n   }\n\n\n   static async approveTokensToPayspec( publicAddress )\n   {\n\n     let options = {\n          from:  publicAddress//, // default from address\n         // gasPrice: '20000000000' // default gas price in wei, 20 gwei in this case\n      }\n\n\n     let paySpecContract = EthereumHelper.getPayspecContract();\n     let paySpecContractAddress = paySpecContract.options.address;\n\n\n     let tokenContract = EthereumHelper.getTokenContract();\n     let tokenContractAddress = tokenContract.options.address;\n\n     let approvalAmount = 2100000000000000;\n\n     let ethTx = await tokenContract.methods.approve(\n       paySpecContractAddress, approvalAmount\n     ).send( options )\n   }\n\n   static async startBuyoutOrderWeb3(requestData ){\n     let order = requestData.item;\n\n     let txData = {\n       description: order.description,\n       nonce: order.nonce ,\n       token: order.token,\n       amountDue: order.amountDue,\n       payTo: order.payTo,\n       feeAddresses: order.feeAddresses,\n       feePercents: order.feePercents,\n       expiresAt: order.expiresAt,\n       invoiceUUID: order.invoiceUUID\n     }\n\n\n\n\n     let paySpecContract = EthereumHelper.getPayspecContract();\n\n     if(!paySpecContract  )\n     {\n       return {success:false, error: 'No valid web3 provider'}\n     }\n\n\n     let options = {\n          from: requestData.publicAddress//, // default from address\n         // gasPrice: '20000000000' // default gas price in wei, 20 gwei in this case\n      }\n\n\n      try{\n\n\n           let ethTx = await paySpecContract.methods.createAndPayInvoice(\n             txData.description,\n             txData.nonce,\n             txData.token,\n             txData.amountDue,\n             txData.payTo,\n             txData.feeAddresses,\n             txData.feePercents,\n             txData.expiresAt,\n             txData.invoiceUUID\n\n           ).send( options )\n\n            return {success:true, ethTx: ethTx}\n\n     }catch(err)\n     {\n        return {success:false, error: err}\n     }\n\n       return {success:false}\n   }\n\n   static async startCancelOrderWeb3(requestData ){\n     let order = requestData.item;\n\n     let txData = {\n       description: order.description,\n       nonce: order.nonce ,\n       token: order.token,\n       amountDue: order.amountDue,\n       payTo: order.payTo,\n       feeAddresses: order.feeAddresses,\n       feePercents: order.feePercents,\n       expiresAt: order.expiresAt,\n       invoiceUUID: order.invoiceUUID\n     }\n\n\n\n\n     let paySpecContract = EthereumHelper.getPayspecContract();\n\n     if(!paySpecContract  )\n     {\n       return {success:false, error: 'No valid web3 provider'}\n     }\n\n\n     let options = {\n          from: requestData.publicAddress//, // default from address\n         // gasPrice: '20000000000' // default gas price in wei, 20 gwei in this case\n      }\n\n\n      try{\n\n\n           let ethTx = await paySpecContract.methods.cancelInvoice(\n             txData.description,\n             txData.nonce,\n             txData.token,\n             txData.amountDue,\n             txData.payTo,\n             txData.feeAddresses,\n             txData.feePercents,\n             txData.expiresAt,\n             txData.invoiceUUID\n\n           ).send( options )\n\n            return {success:true, ethTx: ethTx}\n\n     }catch(err)\n     {\n        return {success:false, error: err}\n     }\n\n       return {success:false}\n   }\n\n   static async formatExpiration_client(expBlock)\n   {\n      let currentBlock = await EthereumHelper.getOrCacheNetworkBlockNumber_client( )\n\n      let blocksPerMinute = 30 //matic\n      let blocksPerHour = blocksPerMinute * 60\n\n      if( expBlock ==0  ) return 'Never';\n      if( expBlock< currentBlock  ) return 'Expired';\n\n\n      let blockDifference = (expBlock - currentBlock);\n      let hours = Math.ceil(blockDifference / blocksPerHour)\n\n      if(hours >24 ) return ( Math.floor(hours/24).toString().concat('d')   )\n\n      return ( Math.ceil(blockDifference / blocksPerHour) ).toString().concat('hr')\n\n\n   }\n\n\n   static formatTokenAmount(amountRaw, decimals)\n   {\n     return ( amountRaw  / Math.pow(10,decimals)    ).toFixed(decimals)\n\n   }\n\n   static formattedTokenAmountToRaw(amountRaw, decimals)\n   {\n     return Math.floor( amountRaw  *  Math.pow(10,decimals)    )\n\n   }\n\n   static async getWalletDetails( publicAddress )\n   {\n\n      let web3details = await EthereumHelper.getWeb3ProviderDetails();\n\n     let walletDetails = { publicAddress: publicAddress }\n\n     let paySpecContract = EthereumHelper.getPayspecContract();\n     let paySpecContractAddress = paySpecContract.options.address;\n\n\n\n     let tokenContract = EthereumHelper.getTokenContract();\n     let tokenContractAddress = tokenContract.options.address;\n\n     let options = { }\n\n     try{\n       walletDetails.tokensBalance = await tokenContract.methods.balanceOf(publicAddress).call(options)\n\n       walletDetails.tokensApprovedToPayspec = await tokenContract.methods.allowance(publicAddress,paySpecContractAddress).call(options)\n\n       walletDetails.tokensBalanceFormatted = EthereumHelper.formatTokenAmount(walletDetails.tokensBalance , 8)\n       walletDetails.tokensApprovedToPayspecFormatted = EthereumHelper.formatTokenAmount(walletDetails.tokensApprovedToPayspec , 8)\n     }catch(e)\n     {\n       console.log(e)\n     }\n\n\n\n     return {success:true, walletdetails: walletDetails, web3details: web3details, paySpecContractAddress: paySpecContractAddress };\n   }\n\n\n   static async getPaySpecOrderPaidStatus( invoiceUUID )\n   {\n     let provider = EthereumHelper.getNetworkDetails().dedicated_rpc\n\n     let paySpecContract = EthereumHelper.getPayspecContract(provider);\n\n     let options = {}\n     let response =  await paySpecContract.methods.getInvoicePayer(invoiceUUID).call(options)\n\n     return response\n   }\n\n   static async getPaySpecOrderExpiredStatus( invoiceUUID )\n   {\n     let provider = EthereumHelper.getNetworkDetails().dedicated_rpc\n\n     let paySpecContract = EthereumHelper.getPayspecContract(provider);\n\n     let options = {}\n     let response =  await paySpecContract.methods.invoiceHasExpired(invoiceUUID).call(options)\n\n     return response\n   }\n\n   static async getPaySpecOrderCancelledStatus( invoiceUUID )\n   {\n     let provider = EthereumHelper.getNetworkDetails().dedicated_rpc\n\n     let paySpecContract = EthereumHelper.getPayspecContract(provider);\n\n     let options = {}\n     let response =  await paySpecContract.methods.invoiceWasCancelled(invoiceUUID).call(options)\n\n     return response\n   }\n\n\n\n   static getExpectedInvoiceUUID( invoiceData )\n   {\n     var payspecContractAddress = invoiceData.payspecContractAddress;\n     var description = invoiceData.description;\n     var nonce =invoiceData.nonce;\n     var token =invoiceData.token;\n     var amountDue =invoiceData.amountDue;\n     var payTo =invoiceData.payTo;\n\n     var feeAddresses = {t: 'address[]' , v:invoiceData.feeAddresses}\n     var feePercents = {t: 'uint[]' , v:invoiceData.feePercents}\n     var expiresAt =invoiceData.expiresAt;\n\n     console.log( 'meep ' , invoiceData  )\n\n     console.log('meep2',    payspecContractAddress,\n        description,\n        nonce,\n        token,\n        amountDue,\n        payTo,\n        feeAddresses,\n        feePercents,\n        expiresAt)\n\n         return web3utils.soliditySha3(\n           payspecContractAddress,\n           description,\n           nonce,\n           token,\n           amountDue,\n           payTo,\n           feeAddresses,\n           feePercents,\n           expiresAt );\n\n\n    }\n\n\n\n}\n","\nconst itembasetypes = require('../../shared/worlddata/items/itembasetypes.json')\n\n\n const MongoHelper = require('./util/MongoHelper')\n\n const GalaxyHelper = require('./GalaxyHelper')\n\n\n//NOT ALLOWED to include unit helper here.. or any others for that matter\n\nmodule.exports =  class ItemHelper   {\n\n constructor()\n {\n\n }\n\n static getItemTypeByInternalName(internalname)\n {\n   return itembasetypes[internalname] ;\n }\n\n static allowedToSellItem( item )\n {\n   return ItemHelper.allowedToMoveItem(item)// !ItemHelper.itemIsEscrowedForMarketOrder(item) && !ItemHelper.itemHasRemainderStackPending(item)\n\n\n }\n\n static allowedToMoveItem( item )\n {\n   if( ItemHelper.itemIsEscrowedForMarketOrder(item) ){return false}\n   if( ItemHelper.itemIsEscrowedForProductionSlot(item) ){return false}\n   if( ItemHelper.itemHasRemainderStackPending(item) ){return false}\n   if( ItemHelper.itemHasSalvagingPending(item) ){return false}\n   if( ItemHelper.itemHasStackAbsorbtionPending(item) ){return false}\n\n   //if it is being stacked/unstacked/salvaged/made from salvage/ taken for production\n\n   return true\n }\n\n static itemIsEscrowedForMarketOrder( item )\n {\n   return item.escrowedForMarketOrder != null\n\n }\n static itemIsEscrowedForProductionSlot( item )\n {\n   return item.escrowedForProductionSlot != null\n\n }\n\n\n static getAllowedToMoveQueryById( itemId ){\n\n   return ItemHelper.getAllowedToMoveQueryConcatenation({_id: itemId})\n\n   /*\n     escrowedForMarketOrder: null,\n     escrowedForProductionSlot: null, //production slot is a new table\n     equippedToUnit: null,\n     stackingIntoItemId: null,\n     absorbingStackItemId:null,\n      quantityToSalvage:null,\n      remainingQuantityToSpawn:null}*/\n }\n\n//ex: {_id: 1}\n static getAllowedToMoveQueryConcatenation( initialQuery ){\n\n   let safeQuery =  Object.assign({}, initialQuery); //clone\n   safeQuery.escrowedForMarketOrder = null\n   safeQuery.escrowedForProductionSlot = null\n   safeQuery.equippedToUnit = null\n   safeQuery.stackingIntoItemId = null\n   safeQuery.absorbingStackItemId = null\n   safeQuery.quantityToSalvage = null\n   safeQuery.remainingQuantityToSpawn = null\n    return safeQuery;\n\n }\n\n\n\n\n static getMaxStackSize(  )\n {\n   return 5000\n\n }\n\n static async getContainerForItem(item, mongoInterface)\n {\n   return await mongoInterface.findById('itemContainer', item.containerId  )\n\n }\n\n\n/*\nRemember to provide a unique spawnLockHash or this will fail at the db atomically\n\n\n\nitem = {\n  internalName: '',\n  stackQuantity:1 ,\n  spawnLockId: xxxxx,\n\n  remainingQuantityToSpawn: null,\n  childStackLockId: null,\n\n  escrowedForMarketOrder:null\n\n  escrowedForProductionSlot:null\n\n  equippedToUnit: null\n  equippedToSlot: null\n\n  absorbingStackItemId: null\n  stackingIntoItemId: null\n\n  quantityToSalvage: null\n  beingSalvagedFromItemId: null\n\n}\n*/\n static async spawnNewItem(  newItemData, mongoInterface)\n {\n\n   if(!mongoInterface){\n     console.log('WARN: cannot spawn item, mongoInterface null')\n     return null\n   }\n\n   if(!newItemData.spawnLockId){\n     console.trace(\"WARN: Tried to spawn item with null spawnLockId\")\n     return null\n   }\n\n\n   if(  newItemData.containerId && newItemData.internalName && newItemData.stackQuantity && newItemData.stackQuantity > 0  )\n   {\n     newItemData.escrowedForMarketOrder = undefined;\n\n\n     let newItem = await mongoInterface.insertOne('items',  newItemData   )\n     return newItem\n   }else{\n     console.log('WARN: could not spawn item ', newItemData)\n   }\n   return null\n\n\n }\n\n\n static async getItemsWithinContainer( container, mongoInterface )\n {\n\n   //console.log('get items within ', container )\n   let items = await mongoInterface.findAll('items',\n   {containerId: container._id,\n     escrowedForMarketOrder: undefined ,\n  //   remainingQuantityToSpawn:null, //cant move item so may as well not show it ?\n      equippedToUnit: undefined,\n\n      } )\n\n\n   //console.log('found', items)\n   return items;\n }\n\n\n\n static async transferOneItemToContainer(item, newContainer, mongoInterface){\n\n   let newContainerId = newContainer._id\n\n   if(!MongoHelper.isValidObjectId(newContainerId)){\n     console.trace('Error: cannot transfer item to container with invalid id ', newContainerId)\n     return null\n   }\n\n   if(!ItemHelper.allowedToMoveItem(item)){\n     console.trace('Error: cannot transfer item while it is in that state ', item)\n     return null\n   }\n\n   //mark the item and then call a method that has auto healing...\n   return await mongoInterface.updateAndFindOne('items', ItemHelper.getAllowedToMoveQueryById(  item._id ) , {containerId: newContainerId }  )\n }\n\n\n   static async spawnRemainderStackForItem(item,mongoInterface){\n   //  console.log('meep spawn remainder stack' , item )\n\n     if(!item){\n       console.trace('Could not spawn remainder stack for ', item )\n       return null\n     }\n\n     let remainingQuantity = item.remainingQuantityToSpawn\n\n\n     if(item.remainingQuantityToSpawn && !item.childStackLockId){\n       console.trace('WARN: Item has remainingQuantityToSpawn but no childStackLockId!! ', item )\n       return\n     }\n\n     if(remainingQuantity == 0)\n     {\n       //do data healing !!!\n       await mongoInterface.updateCustomAndFindOne('items', {_id: item._id}, { $unset: {remainingQuantityToSpawn: undefined, childStackLockId:undefined } }    )\n\n      // await mongoInterface.updateOne('items', {_id: item._id} , {  remainingQuantityToSpawn: undefined, childStackLockId:undefined  } )\n       return\n     }\n\n     if(remainingQuantity > 0  )\n     {\n\n       try{\n              let remainderItem = await ItemHelper.spawnNewItem({\n\n                containerId: item.containerId,\n                internalName: item.internalName,\n                stackQuantity: remainingQuantity,\n                spawnLockId: item.childStackLockId   //indexed and unique so no dupes can happen\n\n              }, mongoInterface)\n          }catch(e)\n          {\n            console.trace(e)\n          }\n\n      let newStackExists = await mongoInterface.findOne('items',{spawnLockId: item.childStackLockId})\n\n    //  console.log('remainder item' ,remainderItem )\n      if(newStackExists){\n        //this is the ONLY reason an items remainder stack should go null\n        await mongoInterface.updateCustomAndFindOne('items', {_id: item._id}, { $unset: {remainingQuantityToSpawn: undefined, childStackLockId:undefined } }    )\n\n      //  await mongoInterface.updateOne('items', {_id: item._id} , {  remainingQuantityToSpawn: undefined, childStackLockId:undefined  } )\n\n      }\n\n    }\n\n\n   }\n\n   static itemHasStackAbsorbtionPending(item){\n     return (item.absorbingStackItemId != null || item.stackingIntoItemId!=null)\n   }\n\n   static itemHasSalvagingPending(item){\n     return (item.quantityToSalvage != null || item.beingSalvagedFromItemId != null)\n   }\n\n   //dont let the item be moved or used if it has a pending remainder stack!!\n   static itemHasRemainderStackPending(item)\n   {\n     return (item.remainingQuantityToSpawn != null )  //should never become 0\n   }\n\n\n\n  static async removeItemContainer( itemContainer, mongoInterface ){\n\n    await mongoInterface.deleteMany('items', {containerId: itemContainer._id})\n\n    await mongoInterface.deleteOne('itemContainer', {_id: itemContainer._id})\n\n\n  }\n\n\n\n  //only works for ships, not for stations or things you dock inside of\nstatic async getContainerWithinUnit(unit, mongoInterface){\n\n//  let owningPlayer = await GalaxyHelper.findPlayerByAddress(unit.owningPlayerAddress)\n  let pubAddress = GalaxyHelper.getPlayerOwnerAddressForUnit(unit);\n\n  return await ItemHelper.getContainerFromPlayerAndUnitOwner(pubAddress, unit._id, mongoInterface)\n\n}\n\n\n//find or create\n//containerOwnerId is a mongo object id BUT doesnt have to be\n static async  getContainerFromPlayerAndUnitOwner(publicAddress, containerOwnerId, mongoInterface)\n {\n\n   publicAddress = publicAddress.toLowerCase()\n\n   if(!containerOwnerId /*|| typeof containerOwnerId != 'object'*/){\n     console.log('WARN: Cannot get container with invalid containerOwnerId')\n     return null\n   }\n\n   if(!publicAddress){\n     console.log('WARN: Cannot create container with null publicAddress')\n     return null\n   }\n\n  // console.log('getContainerFromPlayerAndUnitOwner',containerOwnerIdRaw,publicAddress)\n\n   let containerOwnerUnit = await mongoInterface.findById('units', containerOwnerId)\n\n   if(containerOwnerUnit)\n   {\n      let ownerUnitId = containerOwnerUnit._id\n     //let containerOwnerId = containerOwnerUnit._id;\n\n     let existingcontainer = await mongoInterface.findOne('itemContainer', {ownerAddress: publicAddress, encapsulatingUnitId:ownerUnitId  } )\n\n     if(!existingcontainer)\n     {\n           await mongoInterface.insertOne('itemContainer', {ownerAddress: publicAddress, encapsulatingUnitId:ownerUnitId  } )\n         existingcontainer = await mongoInterface.findOne('itemContainer', {ownerAddress: publicAddress, encapsulatingUnitId:ownerUnitId  })\n\n     }\n\n     return existingcontainer;\n   }else{\n     console.log('WARN: could not find container for ', publicAddress, containerOwnerUnit)\n     return null\n   }\n\n }\n\n\n\n\n   static async playerAddressHasAccessToContainer(publicAddress, inputContainer, mongoInterface )\n   {\n     let player = await mongoInterface.findOne('activePlayers', {publicAddress: publicAddress } )\n\n     if(player)\n     {\n\n       let container = await mongoInterface.findById('itemContainer', inputContainer._id)\n\n       let playerOwnsContainer = (container.ownerAddress.toLowerCase() == player.publicAddress.toLowerCase())\n\n       let playerUnit = await mongoInterface.findById('units', player.possessedUnitId)\n\n\n       let containerOwnerId = container.encapsulatingUnitId;\n\n\n        let containingUnit = await mongoInterface.findOne('units', {_id: containerOwnerId } )\n\n\n\n       if(!containingUnit)\n        {\n          console.log(\"WARN: null containingUnit for playerAddressHasAccessToContainer\")\n          return false\n        }\n\n        if( playerOwnsContainer ){\n\n          //if the container is owned by the unit that the player is possessing\n           if(MongoHelper.documentIdsAreEqual( player.possessedUnitId, containerOwnerId ) ){return true}\n\n           let playerisDockedInStation = await GalaxyHelper.playerDockedInStation(player,mongoInterface)\n\n          //if the player is docked  and the container is owned by the station they are docked in\n          if(playerisDockedInStation && MongoHelper.documentIdsAreEqual(playerisDockedInStation, containerOwnerId ) ){return true}\n\n\n          //if the ship is docked in station, if the player owns it, and if the player is in the same station...\n          if(playerisDockedInStation   && containingUnit.dockedInStation\n            && GalaxyHelper.playerOwnsUnit(player,containingUnit)\n             && MongoHelper.documentIdsAreEqual(containingUnit.dockedInStation, playerisDockedInStation ) ){return true}\n\n\n        }\n\n          //if the players possessed unit is looting the containing unit ...\n        if(MongoHelper.documentIdsAreEqual( playerUnit.lootingUnitWithId, containerOwnerId  )){return true}\n\n\n      }\n\n\n     console.log('WARN: DOES NOT HAVE ACCESS', publicAddress, container)\n\n     return false;\n   }\n\n\n\n\n}\n","\nconst CryptoHelper = require('./math/CryptoHelper')\n\nconst ItemHelper = require('./ItemHelper')\n\nconst salvagedata = require('../../shared/worlddata/items/salvagedata.json')\n\nmodule.exports =  class SalvageHelper {\n\n\n\n  static getSalvageData(item)\n  {\n    if(item)\n    {\n      return salvagedata[item.internalName]\n    }\n    return null\n  }\n\n\n  static getItemsOutputForSalvaging(item)\n  {\n    let itemSalvageData = SalvageHelper.getSalvageData(item)\n    if(itemSalvageData)\n    {\n      return itemSalvageData.output\n    }\n    return null\n  }\n\n\n\n\n   static async startSalvagingItem(inputItem,  inputQuantity, mongoInterface){\n\n  //   let newContainerId = newContainer._id\n\n     let item = await mongoInterface.findById('items', inputItem._id)\n\n     let quantityToSalvage = parseInt(+inputQuantity)\n\n     if(isNaN(quantityToSalvage)){\n       return {success:false, error: 'cannot salvage that quantity '}\n     }\n\n\n     if(!ItemHelper.allowedToMoveItem(item)){\n       console.trace('Error: cannot salvage item while it is in that state ', item)\n       return null\n     }\n\n     if(quantityToSalvage   > item.stackQuantity){\n       return {success:false, error: 'cannot salvage that quantity '}\n\n     }\n\n\n\n     //console.log('quantityToSalvage', quantityToSalvage , item )\n\n     if(quantityToSalvage && quantityToSalvage > 0){\n\n        //mark the item and then call a method that has auto healing...\n        //make sure we are allowed to move the item according to the database\n         let response = await mongoInterface.updateAndFindOne('items', ItemHelper.getAllowedToMoveQueryById(item._id),\n                                         {quantityToSalvage: quantityToSalvage }  )\n\n          let newItem = response.value\n         await SalvageHelper.spawnRemainingSalvageForItem(newItem, mongoInterface)\n\n         return newItem\n     }\n\n     return null\n   }\n\n\n\n\n   static async spawnRemainingSalvageForItem(item, mongoInterface){\n\n  //   console.log('meep spawnRemainingSalvageForItem', item )\n     let quantityMultiplier = item.quantityToSalvage\n\n     if(!quantityMultiplier  || parseInt(quantityMultiplier) == 0){\n\n         await mongoInterface.updateCustomAndFindOne('items', {_id: item._id}, { $unset: {quantityToSalvage: undefined } }    )\n\n       console.log('WARN: found quantity to salvage of 0 ')\n       return\n     }\n\n     let spawnedItems = []\n\n     let outputItems = SalvageHelper.getItemsOutputForSalvaging( item )\n\n     for(var output of outputItems){\n\n       let totalQuantity = ( parseInt(output.quantity) * parseInt(quantityMultiplier) )\n\n       //the DB will not allow duplicates to be produced\n       try{\n         let newItemInsert = await ItemHelper.spawnNewItem({\n\n           containerId: item.containerId,\n           internalName: output.internalName,\n           beingSalvagedFromItemId: item._id,\n           stackQuantity: totalQuantity,\n           spawnLockId: CryptoHelper.getRandomHash()  //indexed and unique so no dupes can happen\n\n         }, mongoInterface)\n\n         let newItem = await mongoInterface.findById('items', newItemInsert.insertedId)\n\n         spawnedItems.push(newItem)\n       }catch(e){\n         console.trace('could not spawn duplicate salvage output (duplicate?)', e )\n       }\n\n     }\n\n     //make them all - dont worry about double inserts bc mongo protects us\n\n     let existingOutputs = await mongoInterface.findAll('items',{beingSalvagedFromItemId: item._id })\n\n\n\n     //once we know they all exist, delete the original\n     if(existingOutputs.length >= outputItems.length  ){\n       console.log('all salvage outputs found in database ', item )\n        let success =  await mongoInterface.deleteOne('items', {_id: item._id}   )\n\n     }\n\n     for(var newSpawnedItem of spawnedItems){\n\n        await SalvageHelper.finishSalvageItemOutput(newSpawnedItem, mongoInterface)\n     }\n\n\n\n   }\n\n\n\n   //if we notice that the original doesnt exist (point at via beingSalvagedFromItemId) then we remove it from those items\n   static async finishSalvageItemOutput(outputItem, mongoInterface){\n\n     console.log('finishSalvageItemOutput', outputItem)\n\n     let item = await mongoInterface.findById('items', outputItem._id)\n\n    //  console.log('item', item)\n\n     if(item && item.beingSalvagedFromItemId){\n       let parentItem = await mongoInterface.findById('items',item.beingSalvagedFromItemId)\n\n       console.log('parentItem', parentItem)\n\n       if(!parentItem){\n         let newItem = await mongoInterface.updateCustomAndFindOne('items', {_id: item._id}, { $unset: {beingSalvagedFromItemId: undefined } }    )\n\n       }\n\n     }\n\n   }\n\n\n\n\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"antialiased text-gray-900 flex flex-col min-h-screen bg-gray-200\",attrs:{\"id\":\"app\"}},[_c('router-view',{staticClass:\"flex-1\"}),_c('portal-target',{attrs:{\"name\":\"modals\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=a03a2c4c&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"w-full z-10 pin-t\",attrs:{\"id\":\"header\"}},[_c('div',{staticClass:\"w-full mx-auto flex flex-wrap bg-gray-900 items-center justify-between mt-0 py-3 bg-white px-4\"},[_vm._m(0),_c('div',{staticClass:\"  flex items-center w-auto mt-2 lg:mt-0 bg-grey-lightest md:bg-transparent z-20\",attrs:{\"id\":\"nav-content\"}},[_c('div',{staticClass:\" text-white lg:flex justify-end flex-1 items-center\"},[_c('MetamaskDropdown',{attrs:{\"acctAddress\":_vm.activeAccountAddress,\"providerNetworkID\":_vm.providerNetworkID}})],1)])])]),_c('div',{staticClass:\"lg:flex  \"},[_c('GameCanvas',{ref:\"gameCanvas\"})],1),_c('Footer')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pl-4\"},[_c('a',{staticClass:\"text-white text-base no-underline hover:no-underline font-extrabold text-xl\",attrs:{\"href\":\"#\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\tEthereum Space War\\n\\t\\t\\t\\t\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"relative\"},[(_vm.open)?_c('div',{staticClass:\"fixed inset-0\",on:{\"click\":function($event){_vm.open = false}}}):_vm._e(),_c('button',{staticClass:\"relative flex items-center focus:outline-none\",on:{\"click\":function($event){_vm.open = !_vm.open}}},[(_vm.providerNetworkID==0x1)?_c('img',{staticClass:\"rounded-full h-8 w-5\",attrs:{\"src\":require(\"@/assets/img/ethereum-logo-wireframe.png\"),\"alt\":\"ETH avatar\"}}):_vm._e(),(_vm.providerNetworkID==0x89)?_c('img',{staticClass:\"rounded-full h-8 w-6\",attrs:{\"src\":require(\"@/assets/img/maticlogo.png\"),\"alt\":\"Matic avatar\"}}):_vm._e(),_c('span',{staticClass:\"ml-2 font-medium truncate\",staticStyle:{\"max-width\":\"80px\"}},[_vm._v(_vm._s(_vm.acctAddress))]),_c('svg',{staticClass:\"ml-1 h-5 w-5 fill-current text-gray-700\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M15.3 9.3a1 1 0 0 1 1.4 1.4l-4 4a1 1 0 0 1-1.4 0l-4-4a1 1 0 0 1 1.4-1.4l3.3 3.29 3.3-3.3z\"}})])]),_c('transition',{attrs:{\"enter-active-class\":\"transition-all transition-fastest ease-out-quad\",\"leave-active-class\":\"transition-all transition-faster ease-in-quad\",\"enter-class\":\"opacity-0 scale-70\",\"enter-to-class\":\"opacity-100 scale-100\",\"leave-class\":\"opacity-100 scale-100\",\"leave-to-class\":\"opacity-0 scale-70\"}},[(_vm.open)?_c('div',{staticClass:\"origin-top-right absolute right-0 mt-2 w-256 bg-black rounded-lg border shadow-md py-2\"},[_c('ul',[_c('li',[_c('a',{staticClass:\"block px-4 py-2 hover:bg-indigo-500 hover:text-white\",attrs:{\"href\":'https://explorer.matic.network/address/'+_vm.acctAddress,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.acctAddress))])]),_c('li',[_c('a',{staticClass:\"block px-4 py-2 hover:bg-indigo-500 hover:text-white\",attrs:{\"href\":'https://explorer.matic.network/address/'+_vm.contractAddress,\"target\":\"_blank\"}},[_vm._v(\"View Contract In Explorer\")])]),_c('hr'),_c('li',[_c('a',{staticClass:\"block px-4 py-2 hover:bg-indigo-500 hover:text-white\",attrs:{\"href\":\"#\"},on:{\"click\":_vm.disconnect}},[_vm._v(\"Sign out\")])])])]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable */\n\n//https://docs.metamask.io/guide/ethereum-provider.html#using-the-provider\nconst tokenContractABI = require('../abi/MaticERC20ABI.json')\nconst tipjarContractABI = require('../abi/TippingJar.json')\nconst config = require('./config-0xbtc.js')\n\nconst contractData = require('../contracts/contractdata.js')\n\nconst CryptoAssets = require ('./cryptoassets.js')\n\nconst BigNumber = require('bignumber.js');\n\nconst Web3 = require('web3');\nconst web3utils = Web3.utils;\n//var max_target = web3utils.toBN( 2 ).pow( web3utils.toBN( 234 ) ) ;\n\n\nvar helper = {\n\n  init(){\n    console.log('init web3 helper')\n\n    /**********************************************************/\n    /* Handle chain (network) and chainChanged (per EIP-1193) */\n    /**********************************************************/\n\n    // Normally, we would recommend the 'eth_chainId' RPC method, but it currently\n    // returns incorrectly formatted chain ID values.\n    let currentChainId = window.ethereum.chainId;\n\n    window.ethereum.on('chainChanged', handleChainChanged);\n\n    function handleChainChanged(_chainId) {\n      // We recommend reloading the page, unless you must do otherwise\n      window.location.reload();\n    }\n\n\n    window.ethereum.on('accountsChanged', handleAccountsChanged);\n\n      // For now, 'eth_accounts' will continue to always return an array\n      function handleAccountsChanged(accounts) {\n        window.location.reload();\n      }\n\n  },\n\n  ethereumChainID()\n  {\n    return 0x1\n  },\n  maticChainID()\n  {\n    return 0x89\n  },\n\n  async getConnectedAccounts()\n  {\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n    return accounts;\n  },\n\n  async getProviderNetworkID()\n  {\n    var net_id = await  window.ethereum.chainId;\n    console.log('net id is', net_id)\n    return net_id;\n  },\n  async getTokenContract(web3, contractAddress)\n  {\n\n    var tokenContract = web3.eth.contract(tokenContractABI).at(contractAddress)\n\n    return tokenContract;\n  },\n  async getTipjarContractAddress()\n  {\n\n    var contractAddress = contractData.contracts.matic_network.TippingJar.address;\n\n\n    return contractAddress;\n  },\n  async getTipjarContract(web3)\n  {\n\n    var contractAddress = await this.getTipjarContractAddress()\n\n    var tokenContract =  web3.eth.contract(tipjarContractABI).at(contractAddress)\n\n    return tokenContract;\n  },\n\n  async getTokensAllowance(tokenAddress, ownerAddress, spender )\n  {\n\n    var web3 = new Web3(Web3.givenProvider);\n\n\n    console.log('get token allowance', tokenAddress)\n  //    var tokenContract = await this.getTokenContract(web3, tokenAddress);\n    var tokenContract = new web3.eth.Contract(tokenContractABI,tokenAddress)\n\n\n\n    console.log('meep',tokenContract,spender,ownerAddress)\n\n    var allowance =0\n\n     await new Promise((resolve, reject) => {\n\n     tokenContract.methods.allowance( ownerAddress, spender).call( {}  )\n      .then(function(result){\n        console.log('we got ', result)\n        allowance = result;\n        resolve(result);\n      })\n      .catch(function(err){\n        console.error(err)\n        reject(err)\n      })\n    });\n\n\n  //  console.log('get allowance .. promise',tokenAddress,spender,ownerAddress)\n  //  var allowance = new Promise tokenContract.methods.allowance(spender,ownerAddress).call();\n    console.log('allowance!!! ',allowance)\n    return allowance;\n  },\n\n\n  async hasEnoughAllowance(acctAddress,spenderAddress,assetName,requestedDepositAmountFormatted)\n  {\n    console.log('hasEnoughAllowance',acctAddress,spenderAddress,assetName,requestedDepositAmountFormatted)\n\n        var numApproved = await this.getTokensAllowance(CryptoAssets.assets[assetName]['MaticContract'], acctAddress ,spenderAddress)\n\n        var numApprovedFormatted = this.rawAmountToFormatted(numApproved,CryptoAssets.assets[assetName]['Decimals'])\n\n          console.log('num Approved ',assetName, numApproved)\n          console.log('num Approved f ', numApprovedFormatted)\n\n      return  ( parseFloat(numApprovedFormatted) > parseFloat(requestedDepositAmountFormatted) )\n\n\n  },\n  async getTipjarTokensBalance( tokenAddress, ownerAddress)\n  {\n\n    var web3 = new Web3(Web3.givenProvider);\n\n\n    var contractAddress = contractData.contracts.matic_network.TippingJar.address;\n\n\n    var tipjarContract = new web3.eth.Contract(tipjarContractABI, contractAddress, {});\n\n\n    var balance = await tipjarContract.methods.getBalance(tokenAddress,ownerAddress).call();\n\n    return balance;\n  },\n\n  async getMaticTokensBalance(contractAddress, ownerAddress)\n  {\n\n    var web3 = new Web3(Web3.givenProvider);\n\n\n    var tokenContract = new web3.eth.Contract(tokenContractABI, contractAddress, {});\n\n\n    var balance = await tokenContract.methods.balanceOf(ownerAddress).call();\n\n    return balance;\n  },\n\n  rawAmountToFormatted(amount,decimals)\n  {\n    console.log('formatting',amount,decimals)\n    return (amount * Math.pow(10,-1 * decimals)).toFixed(decimals);\n  },\n\n  formattedAmountToRaw(amountFormatted,decimals)\n  {\n\n    var multiplier = new BigNumber( 10 ).exponentiatedBy( decimals ) ;\n\n\n    return multiplier.multipliedBy(amountFormatted).toFixed() ;\n  },\n\n  async connect()\n  {\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n    return accounts\n  },\n\n  async disconnect()\n  {\n    console.log('disconnecting')\n    const accounts = await window.ethereum.request({\n     method: \"eth_requestAccounts\",\n     params: [\n       {\n         eth_accounts: {}\n       }\n     ]\n   });\n   window.location.reload();\n  }\n}\n\nexport default helper\n","import * as THREE from 'three'\n\n\nvar texture;\nvar active;\nvar tilesHorizontal;\nvar tilesVertical;\nvar minTile;\nvar maxTile;\nvar loop;\n\nvar currentTile;\n\nexport default class AnimatedSpriteTexture{\n\n  /*\n  Loops forever... need to change thhat\n  */\n\n  constructor(tex, tilingData )\n  {\n  // note: texture passed by reference, will be updated by the update function.\n    texture = tex;\n\n\n\n      tilesHorizontal = tilingData.tilesHoriz;\n      tilesVertical = tilingData.tilesVert;\n\n      minTile = tilingData.minTile;\n      maxTile = tilingData.maxTile;\n      loop = tilingData.loop\n\n      // how many images does this spritesheet contain?\n      //  usually equals tilesHoriz * tilesVert, but not necessarily,\n      //  if there at blank tiles at the bottom of the spritesheet.\n    /*  this.numberOfTiles = tilingData.tilesHoriz*tilingData.tilesVert;\n      if(tilingData.numberOfTiles){\n        this.numberOfTiles = tilingData.numberOfTiles\n      }*/\n\n      texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\n      texture.repeat.set( 1 / tilesHorizontal, 1 / tilesVertical );\n\n      // how long should each image be displayed?\n    //  this.tileDisplayDuration = tileDispDuration;\n\n      // how long has the current image been displayed?\n    //  this.currentDisplayTime = 0;\n\n      // which image is currently being displayed?\n      currentTile = minTile;\n      active = true\n\n  }\n\n\n\n\n     updateOneTick()\n    {\n\n      if(!active){\n        return false\n      }\n\n\n      if (currentTile == maxTile){\n        if(loop){\n          currentTile = minTile; //repeat from start\n        }else{\n          active=false\n        }\n\n      }\n\n\n      var currentColumn =  currentTile % tilesHorizontal;\n      let offX =  ( currentColumn / tilesHorizontal)\n\n\n      //somehow these magic numbers make it work perfect... lol OK\n      var currentRow = 1+ Math.floor( currentTile / tilesHorizontal );\n      let offY = 1- ( (currentRow ) / tilesVertical )\n\n\n      texture.offset.set( offX, offY   )\n\n      currentTile = currentTile+1;\n\n    /*  let logData = {\n        currentColumn: currentColumn,\n        currentRow: currentRow,\n        tilesHorizontal: tilesHorizontal,\n        tilesVertical: tilesVertical,\n        currentTile: currentTile,\n        textureoff: texture.offset,\n\n        textureoffy:texture.offset.y  //how is this not correct !?\n      }\n\n       console.log('update anim sprite one tick ',logData)\n\n       */\n\n      return true\n  };\n\n\n  getUpdateCallback( ){\n    return this.updateOneTick //pass the function\n  }\n \n\n}\n","\n<template>\n    <div class=\"relative\">\n      <div v-if=\"open\" @click=\"open = false\" class=\"fixed inset-0\"></div>\n      <button @click=\"open = !open\" class=\"relative flex items-center focus:outline-none\">\n\n        <img v-if=\"providerNetworkID==0x1\" src=\"@/assets/img/ethereum-logo-wireframe.png\" alt=\"ETH avatar\" class=\"rounded-full h-8 w-5\">\n        <img v-if=\"providerNetworkID==0x89\" src=\"@/assets/img/maticlogo.png\" alt=\"Matic avatar\" class=\"rounded-full h-8 w-6\">\n\n        <span class=\"ml-2 font-medium truncate\" style=\"max-width:80px\">{{acctAddress}}</span>\n        <svg class=\"ml-1 h-5 w-5 fill-current text-gray-700\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n          <path d=\"M15.3 9.3a1 1 0 0 1 1.4 1.4l-4 4a1 1 0 0 1-1.4 0l-4-4a1 1 0 0 1 1.4-1.4l3.3 3.29 3.3-3.3z\"/>\n        </svg>\n      </button>\n      <transition\n        enter-active-class=\"transition-all transition-fastest ease-out-quad\"\n        leave-active-class=\"transition-all transition-faster ease-in-quad\"\n        enter-class=\"opacity-0 scale-70\"\n        enter-to-class=\"opacity-100 scale-100\"\n        leave-class=\"opacity-100 scale-100\"\n        leave-to-class=\"opacity-0 scale-70\"\n      >\n        <div v-if=\"open\" class=\"origin-top-right absolute right-0 mt-2 w-256 bg-black rounded-lg border shadow-md py-2\">\n          <ul>\n            <!-- <li>\n              <a href=\"#\" class=\"block px-4 py-2 hover:bg-indigo-500 hover:text-white\">Profile</a>\n            </li> -->\n\n            <li>\n              <a v-bind:href=\"'https://explorer.matic.network/address/'+acctAddress\" target=\"_blank\" class=\"block px-4 py-2 hover:bg-indigo-500 hover:text-white\">{{acctAddress}}</a>\n            </li>\n            <li>\n              <a v-bind:href=\"'https://explorer.matic.network/address/'+contractAddress\" target=\"_blank\" class=\"block px-4 py-2 hover:bg-indigo-500 hover:text-white\">View Contract In Explorer</a>\n            </li>\n            <hr>\n            <li>\n              <a href=\"#\" @click=\"disconnect\" class=\"block px-4 py-2 hover:bg-indigo-500 hover:text-white\">Sign out</a>\n            </li>\n          </ul>\n        </div>\n      </transition>\n    </div>\n</template>\n\n<script>\nimport Web3Helper from '../js/web3-helper.js'\n\nexport default {\n  name: 'MetamaskDropdown',\n  props: ['acctAddress','providerNetworkID','contractAddress'],\n  data() {\n    return {\n      open: false\n    }\n  },\n  methods: {\n\n    disconnect () {\n      Web3Helper.disconnect()\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetamaskDropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetamaskDropdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MetamaskDropdown.vue?vue&type=template&id=d7530d26&\"\nimport script from \"./MetamaskDropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./MetamaskDropdown.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"relative w-full  \",staticStyle:{\"min-height\":\"400px\"}},[(!_vm.connected )?_c('div',{staticClass:\"p-12 text-center  w-1/2  \",staticStyle:{\"margin\":\"0 auto\"}},[(!_vm.assetsLoaded && !_vm.connectionError)?_c('div',[_c('div',[_vm._v(\" Loading Assets... \")]),_vm._m(0),_c('div',[_vm._v(\" \"+_vm._s(_vm.loadingStepName)+\" \")])]):_vm._e(),_c('div',[(_vm.assetsLoaded)?_c('div',{staticClass:\"cursor-pointer rounded bg-green-300 text-black p-2 m-2\",on:{\"click\":_vm.connectToServer}},[_vm._v(\" Connect \")]):_vm._e()]),(_vm.connectionError)?_c('div',[_c('div',{staticClass:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\",attrs:{\"role\":\"alert\"}},[_c('strong',{staticClass:\"font-bold\"},[_vm._v(\"Error.\")]),_c('br'),_c('span',{staticClass:\"block sm:inline\"},[_vm._v(_vm._s(_vm.connectionError))])])]):_vm._e()]):_vm._e(),_c('div',{attrs:{\"id\":\"gamecanvas\"}}),_c('OverviewPanel',{ref:\"overview\",class:{hidden: !_vm.connected},attrs:{\"rightClickRowCallback\":_vm.handleOverviewRowClicked,\"localActionCallback\":_vm.handleLocalActionCommand,\"commandCallback\":_vm.handleClientCommand}}),_c('StationPanel',{ref:\"stationpanel\",class:{hidden: !_vm.connected},attrs:{\"commandCallback\":_vm.handleClientCommand,\"localActionCallback\":_vm.handleLocalActionCommand,\"dataRequestCallback\":_vm.handleClientDataRequest,\"devToolsCallback\":_vm.handleDevToolsRequest,\"handleItemActionMenuCallback\":_vm.handleItemActionMenuCallback}}),_c('RightClickMenu',{ref:\"rclickmenu\",attrs:{\"commandCallback\":_vm.handleClientCommand,\"localActionCallback\":_vm.handleLocalActionCommand}}),_c('ItemActionMenu',{ref:\"itemactionmenu\",attrs:{\"localActionCallback\":_vm.handleLocalActionCommand,\"dataRequestCallback\":_vm.handleClientDataRequest}}),_c('ShipHud',{ref:\"shiphud\",class:{hidden: !_vm.connected}}),_c('ShipModulesPanel',{ref:\"shipmodulespanel\",class:{hidden: !_vm.connected},attrs:{\"commandCallback\":_vm.handleClientCommand}}),_c('NavigationPanel',{ref:\"navigationpanel\",class:{hidden: !_vm.connected},attrs:{\"commandCallback\":_vm.handleClientCommand,\"localActionCallback\":_vm.handleLocalActionCommand}}),_c('StarMap',{ref:\"starmap\",class:{hidden: !_vm.connected},attrs:{\"commandCallback\":_vm.handleClientCommand,\"localActionCallback\":_vm.handleLocalActionCommand}}),_c('LootPanel',{ref:\"lootpanel\",class:{hidden: !_vm.connected},attrs:{\"localActionCallback\":_vm.handleLocalActionCommand,\"commandCallback\":_vm.handleClientCommand,\"dataRequestCallback\":_vm.handleClientDataRequest,\"handleItemActionMenuCallback\":_vm.handleItemActionMenuCallback}}),_c('ShipCargoPanel',{ref:\"shipcargopanel\",class:{hidden: !_vm.connected},attrs:{\"commandCallback\":_vm.handleClientCommand,\"dataRequestCallback\":_vm.handleClientDataRequest,\"handleItemActionMenuCallback\":_vm.handleItemActionMenuCallback}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breeding-rhombus-spinner \",staticStyle:{\"margin\":\"8em auto\"}},[_c('div',{staticClass:\"rhombus child-1\"}),_c('div',{staticClass:\"rhombus child-2\"}),_c('div',{staticClass:\"rhombus child-3\"}),_c('div',{staticClass:\"rhombus child-4\"}),_c('div',{staticClass:\"rhombus child-5\"}),_c('div',{staticClass:\"rhombus child-6\"}),_c('div',{staticClass:\"rhombus child-7\"}),_c('div',{staticClass:\"rhombus child-8\"}),_c('div',{staticClass:\"rhombus big\"})])}]\n\nexport { render, staticRenderFns }","import * as THREE from 'three'\n\nexport default class SkyBox {\n\n\n/*\nShould be preloading these with textureloader !\n\nGOOD SKYBOXES:\n\ncorona\nredeclipse\nsimplenebula\npurplenebula\ngreennebula\nbluenebula\ndarknebula\n\n\n\nBorked:\nblueshift\nredshift\n\n\nFIXING SKYBOXES\n\nMake sure\ntop\nright\nbottom\nlooks good in gimp [refer to redeclipse in gimp ]\n\n**for the nebulas from unity.. rotate top 90 CCW and bot 90 CW\n*/\n\n// See this but dont use left as the indicator, use right\n/// https://codinhood.com/post/create-skybox-with-threejs\n\n constructor(texLoader){\n   this.texLoader= texLoader\n }\n\n\n\n async preloadAssets(){\n\n   let skyboxnames = ['corona','redeclipse',\n 'simplenebula','bluenebula','greennebula','purplenebula','darknebula']\n\n   for(var name of skyboxnames){\n         await this.createMaterialArray(name)  //preload in texloader\n   }\n\n\n }\n\n async getMesh(skyboxName)\n {\n   const skyboxGeo = new THREE.BoxGeometry(8000, 8000, 8000);\n\n\n //  let skyboxImage = \"bluenebula2\";\n   const materialArray = await this.createMaterialArray(skyboxName);\n\n   const skybox = new THREE.Mesh(skyboxGeo, materialArray);\n\n   return skybox\n }\n\n async getMaterial(skyboxName){\n   return await this.createMaterialArray(skyboxName);\n }\n\n\n\n\n async createMaterialArray(filename) {\n   const skyboxImageTextureDataArray = this.getSkyboxImageTextureData(filename);\n\nlet materialArray  = []\nfor (var imgData of skyboxImageTextureDataArray ){\n\n let texture = await this.texLoader.loadTexture(imgData.shortName, imgData.fullPath)\n\n let mat = new THREE.MeshBasicMaterial({ map: texture, side: THREE.BackSide }); // <---\n\n\n\n materialArray.push( mat )\n\n}\n\n\n //  console.log( materialArray )\n   return   materialArray;\n }\n\n\n\n   getSkyboxImageTextureData(filename) {\n     const basePath = \"../assets/skybox/\";\n     const baseFilename = basePath + filename;\n     const fileType = \".png\";\n     var sides =  [\"front\", \"back\", \"top\", \"bottom\", \"right\", \"left\"]\n\n\n     const outputData = sides.map(side => {\n       let fullPath =  baseFilename + \"/\" + side + fileType;\n       let shortName = filename + '_' + side\n\n       return {shortName: shortName, fullPath: fullPath }\n     });\n     return outputData;\n   }\n\n\n}\n"," import * as THREE from 'three'\n\n\n\n\n\nexport default class TargetReticleFactory\n {\n\n   constructor(texLoader)\n   {\n     this.textureLoader = texLoader\n\n   }\n\n\n  async makeReticle( isActive )\n  {\n\n    var tex = await this.textureLoader.loadTexture('targetlock')\n    if(isActive){\n       tex = await this.textureLoader.loadTexture('targetlock_green')\n    }\n\n    var spriteMaterial = new THREE.SpriteMaterial( { map: tex , transparent: true} );\n    var sprite = new THREE.Sprite( spriteMaterial );\n\n    return sprite\n  }\n\n\n\n\n\n}\n"," import * as THREE from 'three'\n\n\n\n\n var texturesmap = require('../../../shared/worlddata/textures/texturesmap.json')\n\n var spritesmap = require('../../../shared/worlddata/textures/spritesmap.json')\n\nimport AnimatedSpriteTexture from './AnimatedSpriteTexture'\n\nexport default class AnimatedSpriteFactory\n {\n\n   constructor(texLoader)\n   {\n     this.textureLoader = texLoader\n\n   }\n\n\n\n  async makeSprite( spriteName )   // 'ship_death_explosion'\n  {\n\n    let spriteData = spritesmap[spriteName]\n\n     /*{\n     textureName:'explosions_1'\n      tilesHoriz: 4,\n      tilesVert: 2,\n      minTile: 0,\n      maxTile: 7,\n      loop:false\n    }*/\n\n\n    var tex = await this.textureLoader.loadTexture(spriteData.textureName) //this clones -- thankfully\n    var animatedTex = new AnimatedSpriteTexture( tex , spriteData  )\n\n    //THIS WORKS\n  //  tex = await this.textureLoader.loadTexture('explosions_1')\n\n    var spriteMaterial = new THREE.SpriteMaterial( { map: tex , transparent: true} );\n    var sprite = new THREE.Sprite( spriteMaterial );\n\n  //  var spriteMaterial = new THREE.SpriteMaterial( { map: tex , transparent: true} );\n  ///  var sprite = new THREE.Sprite( spriteMaterial );\n\n\n    //this lets the entityyManager call 'sprite.updateTextureOneTick' to advance the animation\n    sprite.updateTextureOneTick = animatedTex.getUpdateCallback();\n\n    console.log('sprite', sprite)\n\n    return   sprite\n  }\n\n\n\n\n\n}\n","import * as THREE from 'three'\n\nconst delay = require('delay');\n\nconst EventEmitter = require('events');\nconst entitiesEmitter = new EventEmitter();\n\nconst GalaxyHelper = require('../../shared/lib/GalaxyHelper')\nconst UnitHelper = require('../../shared/lib/UnitHelper')\nconst EquipmentHelper = require('../../shared/lib/EquipmentHelper')\nvar entitytypes = require('../../shared/worlddata/entitybasetypes.json')\n\nimport TargetReticleFactory from './sprites/TargetReticleFactory'\nvar targetReticleFactory;\n\nimport AnimatedSpriteFactory from './sprites/AnimatedSpriteFactory'\nvar animatedSpriteFactory;\n\nvar lerpProgressMs = 0;\n\nvar pastGridEntities = new Map() //cache of entities on grid, n-1 ticks (for lerping)\nvar currentGridEntities = new Map() //cache of current enities on grid\nvar sceneObjectsMap = new Map() //cache of the scene objects for entities on grid\n\nvar playersOnGrid = new Map()\n\nvar spawnedTargetReticles = new Map() //mapped by unit id\nvar spawnedDeathSprites = new Map() //mapped by unit id\n\nvar cachedEquipmentSlots = new Map();\n\nvar clickableEntities = []\n\nvar loadingGrid = false;\n\nvar currentGridUUID;\nvar currentGridTick;\n\nconst SERVER_GRID_UPDATE_RATE = 500; //this much match the servers\n\n\nexport default class EntityManager {\n\n\n constructor(player, scene, modelLoader, textureLoader, localTargetManager ) {\n   this.player = player;\n   this.scene = scene;\n   this.modelLoader = modelLoader;\n   this.textureLoader = textureLoader;\n   this.localTargetManager = localTargetManager;\n\n   targetReticleFactory = new TargetReticleFactory(textureLoader)\n   animatedSpriteFactory = new AnimatedSpriteFactory(textureLoader)\n    //do this once we receive data from server about where we are\n   //this.loadGrid()\n }\n\n\n\ngetEntitiesEventEmitter()\n{\n return  entitiesEmitter;\n}\n\ngetClickableEntities()\n{\n  return clickableEntities;\n}\n\ngetMyPlayerData()\n{\n  var address = this.player.publicAddress\n\n  return playersOnGrid.get( address )\n}\n\n /*async setCurrentGrid(data)\n {\n   currentGridUUID = data.gridUUID;\n   console.log('set grid ', currentGridUUID)\n }*/\n\n async clearGrid()\n {\n\n }\n\n\n async loadGrid( gridData, newGridEntities, newGridPlayers ) {\n   if(loadingGrid) return;  //thread lock\n   loadingGrid = true;\n\n   //update hud items\n\n   /// --\n\n   playersOnGrid.clear();\n\n   if(newGridPlayers && newGridPlayers.length > 0)\n   {\n     newGridPlayers.forEach(element => playersOnGrid.set(element.publicAddress, element))\n     //console.log('p on grid', playersOnGrid)\n   }else{\n     console.log('WARN - no grid players')\n   }\n\n   entitiesEmitter.emit('entitiesChanged',this.getMyPossessedUnit(), newGridEntities, gridData )\n\n   entitiesEmitter.emit('playersChanged', this.getMyPlayerData(), newGridPlayers )\n\n\n\n   //copy into past entities for lerping purposes\n    pastGridEntities = new Map(currentGridEntities)\n    lerpProgressMs = 0;\n\n\n    await this.examineEntityChangesForEvents(currentGridEntities, newGridEntities)\n\n  // var missingEntities = [];  //in old but not in new .. remove their scene objects\n\n\n  //setting stale doesnt work !\n   //console.log('load grid ', currentGridEntities.entries())\n  for (const [key, entry] of currentGridEntities.entries()) {\n    //var entry = currentGridEntities.get(key)\n    if(entry){\n        entry.stale = true\n    }\n    currentGridEntities.set(key, entry)\n\n\n    if(entry.grid != currentGridUUID  ){  //hide objects from other grid\n      let sceneObj=  sceneObjectsMap.get(entry.sceneObjectUUID)\n       this.setVisibilityOfSceneObject(sceneObj, false );\n    }\n\n\n    //  console.log('set stale ', currentGridEntities.get(key))\n  }\n\n  clickableEntities = []\n\n\n   for( var i in newGridEntities )\n   {\n     var item = newGridEntities[i];\n\n    // console.log('loading entity from server ', item)\n\n  //   var existingSceneObject = currentGridEntities[item._id];\n\n     if( currentGridEntities.has(item._id) )\n     {\n\n       item.sceneObjectUUID = currentGridEntities.get(item._id).sceneObjectUUID;\n\n       //this has the added side effect of getting rid of 'stale' automatically\n       currentGridEntities.set(item._id, item) //updates the data -course\n\n       var sceneObj = sceneObjectsMap.get(item.sceneObjectUUID)\n       if(sceneObj){\n         sceneObj.position=  new THREE.Vector3(item.locationVector.x,item.locationVector.y,item.locationVector.z )\n         clickableEntities.push(sceneObj)\n        // console.log('meep',clickableEntities)\n       }else{\n         //console.log('WARN: COULD NOT UPDATE LOC', item, sceneObj)\n       }\n\n       //goes invisible if dead\n       let visible = UnitHelper.unitIsActiveInSpace(item)\n        this.setVisibilityOfSceneObject(sceneObj, visible );\n\n\n\n     }else{\n       //make it\n       var basetype= item.basetype;\n       var modelname = entitytypes[basetype].modelname\n       var shipModel = await this.modelLoader.loadModel( modelname )\n\n\n\n        // shipModel.userData = item;  //store server unit data in the mesh\n          var scaleFactor = entitytypes[basetype].scaleFactor\n          shipModel.scale.set(scaleFactor,scaleFactor,scaleFactor)\n\n\n\n          this.scene.add(  shipModel  );\n          var newObj = shipModel\n      //    THREE.SceneUtils.attach( child, scene, parent );\n\n\n            var startingLocationVector = new THREE.Vector3(item.locationVector.x,item.locationVector.y,item.locationVector.z )\n             shipModel.position= (startingLocationVector )\n\n          newObj.name=basetype\n          newObj.userData = item;\n          shipModel.userData = item;\n\n          item.sceneObjectUUID = shipModel.uuid;    //this might be broken\n\n      //   console.log('add object to scene ', item._id, item.sceneObjectUUID, newObj)\n\n         clickableEntities.push(shipModel)\n\n          currentGridEntities.set(item._id, item) //add it\n          sceneObjectsMap.set(item.sceneObjectUUID,shipModel)//cache it  -- why does putting newObj here not work !?\n      //    console.log(   'scenegraph entries ', sceneObjectsMap.entries() )\n     }\n    // gridEntities.push( item  )\n   }\n\n\n   for (const [key, value] of currentGridEntities.entries()) {\n     let cgEntity = currentGridEntities.get(key)\n     if(cgEntity && cgEntity.stale)\n     {\n\n           var sceneObj = sceneObjectsMap.get( cgEntity.sceneObjectUUID )\n           this.scene.remove( sceneObj );\n\n           sceneObjectsMap.delete(cgEntity.sceneObjectUUID)\n           currentGridEntities.delete(key)\n           console.log('removed stale object from scene ',key)\n     }\n   }\n\n\n     loadingGrid = false;\n }\n\n\n\n\nasync examineEquipmentChangesForEvents(currentEquipmentSlots ){\n//  cachedEquipmentSlots = new Map()\n\n//  for (const [key, slot] of currentEquipmentSlots.entries()) {\n\n\n  let foundSlot = false;\n\n   for(var slot of currentEquipmentSlots){\n      let cachedSlots =  cachedEquipmentSlots.get(  slot.unitId  )\n\n\n      if(cachedSlots){\n           //console.log( 'cachedSlots', cachedSlots  , slot.slotId )\n\n        let cachedSlot = cachedSlots.get(  slot.slotId )\n\n          if(cachedSlot){\n\n\n            let currentSlot = currentEquipmentSlots\n\n             let currentCooldownUntilTick = slot.cooldownUntilTick\n\n             let cachedCooldownUntilTick = cachedSlot.cooldownUntilTick\n\n\n             if(currentCooldownUntilTick  && slot.engaged &&  (currentCooldownUntilTick != cachedCooldownUntilTick || slot.engaged != cachedSlot.engaged)  ) {\n              //    console.log('play eq sound ')\n               this.playSoundForEquipmentSlotActivation( slot )\n\n             }\n\n             foundSlot = true\n\n           }\n\n      }\n\n\n\n         let currentCooldownUntilTick = slot.cooldownUntilTick\n\n         if(currentCooldownUntilTick   && slot.engaged && !foundSlot) {\n           //console.log('play starter sound ')\n           this.playSoundForEquipmentSlotActivation( slot )\n\n         }\n\n\n\n       let existingSlots =  cachedEquipmentSlots.get(  slot.unitId  )\n\n\n        if(existingSlots){\n            existingSlots.set(slot.slotId, slot)\n            cachedEquipmentSlots.set(  slot.unitId, existingSlots  )\n\n        }else {\n              existingSlots = new Map()\n              existingSlots.set(slot.slotId, slot)\n            cachedEquipmentSlots.set(  slot.unitId, existingSlots  )\n        }\n\n         //console.log('cachedEquipmentSlots', cachedEquipmentSlots)\n    }\n\n\n\n  //  console.log('meep',  currentEquipmentSlots , cooldownUntilTick  )\n\n\n\n\n}\n\nasync playSoundForEquipmentSlotActivation(equipmentSlot){\n\n\n  await delay(Math.floor(Math.random()*200));\n\n\n\n  let equipmentType = equipmentSlot.equipmenttype\n\n  let equipmentTypeData = GalaxyHelper.getEquipmentTypeData(equipmentType)\n\n  let activationSoundName = equipmentTypeData.activation_sound_name\n\n  if(activationSoundName){\n    let actionUnitData = this.findUnitWithId( equipmentSlot.unitId  )\n\n    if(  !actionUnitData ) {\n      console.log('WARN: Could not play equipment sound, action unit null ')\n      return\n    }\n\n    var soundEventData = {\n      playerUnit: this.getMyPossessedUnit(),\n      actionUnit: actionUnitData,\n      soundName: activationSoundName\n    }\n    entitiesEmitter.emit('entitySoundEvent', soundEventData )\n\n  }\n\n\n}\n\nasync examineEntityChangesForEvents(currentEntities, newEntitiesArray){\n  var newEntities = new Map( newEntitiesArray.map(i => [i._id, i])  )\n\n//  console.log('meep ',newEntitiesArray , newEntities )\n\n  //events for old units\n     for (const [key, value] of currentEntities.entries()) {\n\n        var currentInstance = currentEntities.get(key)\n        if(UnitHelper.getUnitType(currentInstance) == \"ship\" || UnitHelper.getUnitType(currentInstance)==\"capsule\"){\n\n\n          var newInstance= newEntities.get(key)\n\n          //warp out sound for self and others\n          if(currentInstance.warpDestinationGridUUID!=null  )\n          {\n        //    console.log('meep ', currentInstance.warpStartTick,   currentGridTick - UnitHelper.getTicksToStartWarp( currentInstance ) )\n\n            if( currentInstance.warpStartTick == currentGridTick - UnitHelper.getTicksToStartWarp( currentInstance )  )\n            {\n\n              var soundEventData = {\n                playerUnit: this.getMyPossessedUnit(),\n                actionUnit: currentInstance,\n                soundName: 'warpout'\n              }\n              entitiesEmitter.emit('entitySoundEvent', soundEventData )\n            }\n\n          }\n\n\n\n\n        }\n\n\n     }\n\n     //events for new units\n     for (const [key, value] of newEntities.entries()) {\n\n       var newInstance = newEntities.get(key)\n\n\n\n        if(UnitHelper.getUnitType(newInstance) ==\"ship\"  || UnitHelper.getUnitType(currentInstance)==\"capsule\"){\n\n\n          var currentInstance = currentGridEntities.get(key)\n\n          if(newInstance.warpDestinationGridUUID==null  )\n          {\n\n            if(typeof currentInstance  == 'undefined' || currentInstance.grid != newInstance.grid)\n            {\n              var soundEventData = {\n                playerUnit: this.getMyPossessedUnit(),\n                actionUnit: currentInstance,\n                soundName: 'warpin'\n              }\n              entitiesEmitter.emit('entitySoundEvent', soundEventData )\n            }\n\n          }\n\n        }\n\n\n     }\n\n\n\n\n}\n\n//happens each grid tick\nasync updateAnimatedSpritesForUnits( units ){\n\n\n  for(var unit of units){\n\n    if(unit.dead){\n\n      console.log('unit is dead ', unit )\n      let spawnedDeathSprite = spawnedDeathSprites.get(unit._id)\n\n      if(!spawnedDeathSprite){\n        let sprite = await animatedSpriteFactory.makeSprite('ship_death_explosion')\n\n\n        var soundEventData = {\n          playerUnit: this.getMyPossessedUnit(),\n          actionUnit: unit,\n          soundName: 'explosion_medium'\n        }\n        entitiesEmitter.emit('entitySoundEvent', soundEventData )\n\n\n        var sceneObj = sceneObjectsMap.get(unit.sceneObjectUUID)\n        if(sceneObj ){\n\n          let scaleFactor = 10;\n\n            sprite.scale.set(scaleFactor,scaleFactor,scaleFactor)\n            sprite.renderOrder = 102\n\n            sprite.position.set( sceneObj.position.x, sceneObj.position.y, sceneObj.position.z)\n\n            this.scene.add( sprite )\n            spawnedDeathSprites.set(unit._id, sprite)\n\n\n            console.log('add sprite', sceneObj,unit, sprite)\n\n        }\n\n\n      }\n\n\n    }\n\n\n  }\n\n\n  for (const [key, sprite] of spawnedDeathSprites.entries()) {\n\n      let isActive = sprite.updateTextureOneTick()\n\n        if(!isActive){\n              this.scene.remove( sprite );\n               spawnedDeathSprites.delete(key)\n        }\n\n\n  }\n\n\n/*\n//play death sound\n  var soundEventData = {\n    playerUnit: this.getMyPossessedUnit(),\n    actionUnit: currentInstance,\n    soundName: 'neutralized'\n  }\n  entitiesEmitter.emit('entitySoundEvent', soundEventData )\n*/\n\n}\n\nasync updateTargetLockSprites( targetLocks )\n{\n\n\n  //mark all stale\n  for (const [key, value] of spawnedTargetReticles.entries()) {\n  //  await this.removeTargetReticle(key,value)\n    var entry = spawnedTargetReticles.get(key)\n      entry.stale = true\n    spawnedTargetReticles.set(key, entry)\n  }\n\n\n  let myUnit = this.getMyPossessedUnit()\n\n  if(myUnit){\n\n\n\n    let myUnitId = myUnit._id\n\n    entitiesEmitter.emit('targetLocksChanged',  targetLocks )\n\n\n\n     //work on this later\n\n    for(var lock of targetLocks){\n\n\n      if(lock.lockingUnitId == myUnitId && lock.lockComplete){\n\n        //  console.log('found matching lock', lock)\n\n        //spawn a tergetReticle\n\n\n\n        let lockedUnitId = lock.lockedUnitId\n        let lockedUnit = currentGridEntities.get( lockedUnitId )\n\n\n        //set the entry to not stale since unit is still locked\n        let tRetEntry = spawnedTargetReticles.get( lockedUnitId   )\n        if(tRetEntry){\n          tRetEntry.stale=false\n          spawnedTargetReticles.set( lockedUnitId , tRetEntry )\n        }\n\n        let isPrimaryTarget = false\n        let primaryTargetUnitId = this.localTargetManager.getPrimaryTargetUnitId()\n        if(lockedUnitId == primaryTargetUnitId){\n          isPrimaryTarget=true\n        }\n\n            //console.log('tret  ', tRetEntry)\n        if(lockedUnit){\n\n          let lockedTargetRet = spawnedTargetReticles.get( lockedUnitId)\n\n          var sceneObj = sceneObjectsMap.get(lockedUnit.sceneObjectUUID)\n          if(sceneObj &&  (lockedTargetRet == null || lockedTargetRet.isPrimaryTarget!= isPrimaryTarget ) ){\n\n            if(lockedTargetRet&&lockedTargetRet.sprite){\n              let parent = lockedTargetRet.sprite.parent\n              if(parent){\n                  parent.remove( lockedTargetRet.sprite );\n              }\n\n            }\n\n\n              let sprite = await targetReticleFactory.makeReticle( isPrimaryTarget )\n\n              sceneObj.add(   sprite )\n\n\n              //sprite.position.set( sceneObj.position.x,sceneObj.position.y,sceneObj.position.z   )\n\n              let scaleFactor = 10;\n              sprite.scale.set(scaleFactor,scaleFactor,scaleFactor)\n              sprite.renderOrder = 101\n\n              //console.log('spawn reticle')\n              spawnedTargetReticles.set( lockedUnitId , {sprite: sprite, isPrimaryTarget:isPrimaryTarget , stale:false} )\n          }\n        }\n\n\n\n      }\n\n    }\n\n\n  }\n\n  await this.removeAllStaleTargetReticles()\n\n\n}\n\nasync loadEquipmentSlots (equipmentSlots)\n{\n  //need to store this so that on updates , bullets are spawned and sounds are played (sounds first)\n  let myUnit = this.getMyPossessedUnit()\n\n  if(myUnit){\n\n    let myUnitId = myUnit._id\n\n    entitiesEmitter.emit('equipmentSlotsChanged',  equipmentSlots )\n\n  }\n\n\n\n  this.examineEquipmentChangesForEvents( equipmentSlots  )\n\n}\n\n\n\n//OPTIMIZATION: probably want each grid to be a socket channel, this data will automatically be broadcasted by the server-- not asked for\n async receivedGridStateFromServer(data)\n {\n\n   //console.log('received grid state from server', data )\n\n   var newGridEntities = data.entities;\n   var gridUUID = data.grid.uuid;\n   var newGridPlayers = data.players;\n\n   //need to integrate these\n   var targetLocks = data.targetLocks;\n   var equipmentSlots = data.equipmentSlots;\n\n   currentGridUUID  =   gridUUID\n   currentGridTick = data.grid.gridTick\n\n\n\n\n   await this.loadGrid( data.grid, newGridEntities, newGridPlayers  )\n\n   await this.loadEquipmentSlots(  equipmentSlots )\n\n   await this.updateTargetLockSprites(  targetLocks )\n\n   await this.updateAnimatedSpritesForUnits( newGridEntities )\n }\n\n\n //need to add a lerp loop\n async update(scene,delta)\n {\n\n   if(delta > 0 && delta < 1000 ){\n      this.lerpEntities(scene,delta)\n   }\n\n\n }\n\n\n\n\n// map is empty??\n async lerpEntities(scene,delta)\n {\n   lerpProgressMs+= delta;\n\n   var lerpAlpha = lerpProgressMs/SERVER_GRID_UPDATE_RATE;\n\n   if(lerpAlpha < 0) lerpAlpha = 0;\n   if(lerpAlpha > 1) lerpAlpha = 1;\n\n\n\n\n\n   //var delta_seconds = delta / 1000.0;\n// console.log('lerpEntities ',delta ,currentGridEntities.entries()  )// why si this empty\n   for (const [key, value] of currentGridEntities.entries()) {\n\n    // var vz = 5   //velocity\n     var entityPast = pastGridEntities.get(key) //start of lerp\n     var entityNow = currentGridEntities.get(key)  //end of lerp\n\n\n     if(!entityPast || !entityNow) return\n\n\n    // var velocityVectorLerped = entityNow.velocityVector\n\n     //need to lerp the facing and position\n\n     var pastLocVec = new THREE.Vector3(entityPast.locationVector.x,entityPast.locationVector.y,entityPast.locationVector.z)\n     var pastFacVec = new THREE.Vector3(entityPast.velocityVector.x,entityPast.velocityVector.y,entityPast.velocityVector.z).normalize()\n     var currentFacVec = new THREE.Vector3(entityNow.velocityVector.x,entityNow.velocityVector.y,entityNow.velocityVector.z).normalize()\n\n     var locationVectorLerped = pastLocVec.lerp(entityNow.locationVector,  lerpAlpha )\n\n     var facingVectorLerped = pastFacVec.lerp(currentFacVec,  lerpAlpha )\n\n\n     var sceneObj = this.getSceneObjectForEntity(key)\n     sceneObj.position = locationVectorLerped\n\n\n      //console.log('fac vec', currentFacVec)  //this is correct\n     //this is busted\n     //sceneObj.rotation.setFromVector3( facingVectorLerped )\n\n     var pos = new THREE.Vector3(sceneObj.position.x,sceneObj.position.y,sceneObj.position.z )\n     var futurePos = pos.add( facingVectorLerped  )\n\n\n     sceneObj.lookAt( futurePos   )\n\n   }\n\n\n\n }\n\n async removeAllStaleTargetReticles()\n {\n   for (const [key, tRet] of spawnedTargetReticles.entries()) {\n     if(  tRet.stale == true){\n      //  console.log('remove stale reticle', key,tRet)\n        let parent = tRet.sprite.parent\n\n        parent.remove( tRet.sprite );  //not working\n         spawnedTargetReticles.delete(key)\n     }\n\n\n   }\n\n\n }\n\n setVisibilityOfSceneObject(obj, vis)\n {\n   obj.traverse ( function (child) {\n    if (child instanceof THREE.Mesh) {\n        child.visible = vis;\n    }\n  });\n }\n\n getDataForEntityById(entityId)\n {\n   return currentGridEntities.get(entityId)\n }\n\n getSceneObjectForEntity(entityId)  // ._id of entity -- the mongo id of the record on the server\n {\n   let entity = currentGridEntities.get(entityId)\n\n   if(!entity) return null\n\n   var sceneObjectId = entity.sceneObjectUUID;\n\n   return sceneObjectsMap.get(sceneObjectId)\n\n }\n\n getMyPossessedUnit()\n {\n    var myPlayerOnGrid;\n\n  //  console.log('meeep', playersOnGrid.entries() , this.player)\n     for (const [key, value] of playersOnGrid.entries()) {\n\n       if(playersOnGrid.get(key).publicAddress == this.player.publicAddress)\n       {\n         myPlayerOnGrid = playersOnGrid.get(key)\n       }\n     }\n\n     if(myPlayerOnGrid)\n     {\n       var myPossessedUnitId = myPlayerOnGrid.possessedUnitId;\n       var myPossessedUnit = currentGridEntities.get(myPossessedUnitId)\n\n       return myPossessedUnit;\n     }\n\n     return null\n\n }\n\n findUnitWithId(unitId){\n\n   return  currentGridEntities.get(unitId)\n }\n\n\n\n\n}\n","import * as THREE from 'three'\n\n\n\n\n\nvar web3utils = require('web3-utils')\n\n\nvar primaryTargetUnitId; ///local only\n\nvar playerData; //from server upon 'auth' step\n\nvar selectedFaction = 'childrenofethereum'\n\n\nexport default class PlayerController   {\n\n\n   constructor(pubAddress)\n {\n    this.publicAddress = pubAddress.toLowerCase()\n }\n\n\n acceptPlayerDataFromServer(pData){\n      playerData = pData\n\n      if(pData && pData.playerFaction){\n        selectedFaction = pData.playerFaction\n      }\n }\n\n getPlayerData(){\n   return playerData\n }\n\n getSelectedFaction(){\n   return selectedFaction\n }\n\n async personalSignWithMetamask( challenge,address, web3provider)\n {\n   console.log('personal signing ', challenge, address)\n\n\n  var challengeHash =    web3utils.fromUtf8 (challenge)\n\n   var sig =   await new Promise(async (resolve,reject) => {\n\n      web3provider.eth.personal.sign( challengeHash , address, function (err,result){\n            if (err) {return console.error(err)}\n            console.log('PERSONAL SIGNED:' + result)\n            resolve(result);\n     })\n\n   })\n\n   return sig;\n\n }\n\n\n   async web3ecRecover(challenge,signature, web3provider)\n  {\n\n\n    console.log('ecrecover ', challenge, signature, web3)\n\n    var addr =   await new Promise(async (resolve,reject) => {\n\n       web3provider.eth.personal.ecRecover( web3utils.fromUtf8 (challenge) , signature, function (err,result){\n             if (err) {return console.error(err)}\n             console.log('ecrecover:' + result)\n             resolve(result);\n      })\n\n    })\n\n    return addr;\n\n  }\n\n\n\n\n}\n","import * as THREE from 'three'\n\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\n\nvar modelcache = {}\nvar loader\n\nvar modelsmap = require('../../shared/worlddata/modelsmap.json')\n\nvar preloadedAssets\n\n/*\nvar preloadedAssets = ['warpgateA',\n'stationC',\n'shipDebrisA',\n'corvette',\n'capsule',\n'droneA',\n'droneB'\n\n]*/\n\n\nexport default class ModelLoader   {\n\n\n constructor(loadingStepCallback)\n {\n   THREE.Cache.enabled = false\n\n   loader = new GLTFLoader();\n\n   preloadedAssets = Object.keys(modelsmap)\n\n   this.loadingStepCallback = loadingStepCallback;\n\n }\n\n\n async loadModel( name) {\n\n   var cacheid =  (name)\n\n   if(modelcache[cacheid]){\n\n     var existing =  modelcache[cacheid].clone() //need a new id  (for what ?)\n        console.log('loaded model from cache ',cacheid, existing)\n\n     return existing\n   }\n\n   this.loadingStepCallback(name)\n\n   var assetpath = this.lookupAssetName( name)\n\n   var filepath = '../assets/'+assetpath\n\n  console.log(filepath)\n   return new Promise ((resolve, reject) => {\n\n     loader.load(filepath, function ( gltf ) {\n\n       let model = gltf.scene.clone()\n\n       /*model.traverse((o) => {\n        if (o.isMesh) o.material = material;\n      });*/\n\n       modelcache[cacheid]= gltf.scene  //do caching\n       resolve( model )\n     }.bind(this), undefined, function ( error ) {\n       console.error( error );\n       reject(error)\n     } );\n\n\n   })\n\n }\n\n\n lookupAssetName( name)\n {\n   console.log('map', modelsmap, name)\n     return modelsmap[name].modelpath.toString()\n\n\n }\n\n\n async preloadAssets()\n {\n   for(var i in preloadedAssets)\n   {\n     await this.loadModel( preloadedAssets[i] )\n   }\n\n\n }\n\n}\n","import * as THREE from 'three'\n\n\nvar texturecache = {}\nvar loader\n\n\nvar texturesmap = require('../../shared/worlddata/textures/texturesmap.json')\n\nconst preloadedAssets =  Object.keys(texturesmap)\n/*['targetlock',\n'targetlock_green',\n'materials_sheet',\n'weapons_sheet',\n'modules_sheet' ]*/\n\n\nexport default class TextureLoader   {\n\n\n constructor(loadingStepCallback)\n {\n   THREE.Cache.enabled = false\n\n   loader = new THREE.TextureLoader();\n\n   this.loadingStepCallback = loadingStepCallback;\n }\n\n\n async loadTexture( name, customPath ) {\n\n   var cacheid =  (name)\n\n   if(texturecache[cacheid]){\n\n     var existing =  texturecache[cacheid].clone() //need a new id\n        console.log('loaded texture from cache ',cacheid, existing)\n\n     return existing\n   }\n\n\n   this.loadingStepCallback(name)\n\n\n     var filepath\n\n   if(!customPath){\n     var assetpath = TextureLoader.lookupAssetName( name)\n\n        filepath = '../assets/'+assetpath\n   }else{\n     filepath = customPath\n   }\n\n\n  console.log('loading..' ,filepath)\n\n  //this DOES have to  be async\n  let tex = await loader.load(filepath)\n\n\n\n  //  texturecache[cacheid] = tex  //cache  Cant get this to work w skybox \n  return tex\n\n\n }\n\n\n static lookupAssetName( name)\n {\n\n     return texturesmap[name].path.toString()\n\n\n }\n\n\n async preloadAssets()\n {\n   for(var asset of preloadedAssets)\n   {\n     await this.loadTexture( asset )\n   }\n\n\n }\n\n}\n","import * as THREE from 'three'\n\nvar audioLoader\n var listener\n //var soundplayer\n\n var audiocache = {}\n\n//using native cache and user cache ?\n\n\nvar audiomap = require('../../shared/worlddata/audiomap.json')\n\nexport default class AudioSystem   {\n\n\n constructor(loadingStepCallback)\n {\n  //  THREE.Cache.enabled = true\n\n     listener = new THREE.AudioListener();\n\n     audioLoader = new THREE.AudioLoader();\n\n     this.loadingStepCallback=loadingStepCallback;\n\n    // soundplayer = new THREE.Audio( listener );\n }\n\n getListener()\n {\n   return listener;\n }\n\n\n async loadSound( name) {\n\n   var cacheid =  (name)\n\n   if(audiocache[cacheid]){\n\n     var sound  = new THREE.Audio( listener );\n     let cachedBuffer = audiocache[cacheid]\n     sound.setBuffer(cachedBuffer)\n\n     console.log('loaded audio from cache ',cacheid)\n     return sound //need a new id\n   }\n\n\n   this.loadingStepCallback(name)\n\n   var assetpath = this.lookupAssetName( name)\n\n   var filepath = '../assets/sfx/'+assetpath\n\n\n   return  new Promise ((resolve, reject) => {\n\n     audioLoader.load( filepath, function( buffer ) {\n\n    //   var sound = new THREE.PositionalAudio( listener );\n\n       var sound  = new THREE.Audio( listener );\n       sound.setBuffer(buffer)\n\n    //   sound.setRefDistance( 20 );\n       //sound.play();\n\n       audiocache[cacheid] = buffer;\n       resolve(buffer)\n     });\n\n\n\n   })\n\n }\n\n async playSound( name )\n {\n   var sound = await this.loadSound(name)\n\n\n    sound.setVolume( 1.0 );\n    sound.play()\n }\n\n\n\n\n\n/*\n var soundEventData = {\n   actionUnit: item,\n   soundName: 'warpout'\n }*/\n\n async playSoundFromEvent(soundEventData)\n {\n   var playerUnit = soundEventData.playerUnit;\n   var actionUnit = soundEventData.actionUnit;\n\n   var dist = 0\n   var vol = 0.1\n\n   if( playerUnit && actionUnit   )\n   {\n     var playerUnitVector = new THREE.Vector3( playerUnit.locationVector.x, playerUnit.locationVector.y, playerUnit.locationVector.z )\n       dist = playerUnitVector.distanceTo( actionUnit.locationVector )\n\n   }\n\n   if(dist == 0 || isNaN(dist)){\n     vol = 1.0\n   }else{\n      vol = (1.0 - ( dist / 500 ));\n   }\n   if (vol > 1){ vol = 1.0 }\n   if (vol < 0.1 || isNaN(vol)){ vol = 0.1 }\n\n   var soundName = soundEventData.soundName;\n\n   var sound = await this.loadSound(soundName)\n\n   //console.log('play sound ! ', soundEventData, playerUnit, actionUnit ,    vol)\n\n\n   if(actionUnit)\n   {\n     sound.setVolume( vol );\n     sound.play()\n   }else{\n     sound.setVolume( 1.0 );\n     sound.play()\n\n   }\n\n\n }\n\n\n  lookupAssetName( name)\n  {\n\n      return audiomap[name].path.toString()\n\n\n  }\n\n\n\n async preloadAssets()\n {\n\n   var sounds = Object.keys(audiomap)\n\n   for(var i in sounds)\n   {\n     console.log('loading ', sounds[i])\n     await this.loadSound( sounds[i] )\n   }\n    //var name =  ('warpin');\n\n\n }\n\n}\n","import * as THREE from 'three'\n\n\nconst EventEmitter = require('events');\nconst targettingEmitter = new EventEmitter();\n\nimport UnitHelper from  '../../shared/lib/UnitHelper'\n\n\nvar primaryTargetUnitId; ///local only\n\nvar currentlyLootingUnitId;  ///local only\nvar canLootUnit; //the client thinks they can loot it\n\nexport default class LocalTargetManager   {\n\n\n   constructor( commandCallback )\n {\n    this.commandCallback = commandCallback\n\n   setInterval(this.update.bind(this), 500)\n }\n/*\n getSetPrimaryTargetCallback(){\n\n   return this.setPrimaryTarget\n }*/\n\n\n //do this on 500ms ticks.... if you have a 'currentlyLootingUnitId' and you are close enough, try to do the\n //   this.commandCallback('loot', {targetUnitId: targetId}  )  //just for the approach\n //again\n update()\n {\n   /*canLootUnit = false\n\n   if(currentlyLootingUnitId){\n\n     if(LocalTargetManager.canLootUnit( currentlyLootingUnitId )){\n        //this.commandCallback('loot', {targetUnitId: currentlyLootingUnitId}  )\n        canLootUnit = true\n\n        console.log('can loot unit !!')\n     }\n\n   }*/\n\n\n }\n\n\n static canLootUnit(unit,lootedUnit){\n\n         let targetIsLootable = UnitHelper.unitHasService( lootedUnit, 'looting'  )\n         let targetWithinServiceRange = UnitHelper.unitsWithinServiceRange(unit, lootedUnit )\n\n         return (targetIsLootable && targetWithinServiceRange)\n\n\n }\n\n\n\n setPrimaryTarget(targetData){\n   console.log('setPrimaryTarget',targetData)\n   primaryTargetUnitId = targetData.unit._id\n\n   targettingEmitter.emit('primaryTargetChanged',targetData.unit )\n\n }\n\n setLootingTarget(targetData){\n   console.log('setLootingUnit',targetData)\n   currentlyLootingUnitId = targetData.unit._id\n\n   targettingEmitter.emit('lootingTargetChanged', targetData.unit )\n\n }\n\n getPrimaryTargetUnitId(){\n    return primaryTargetUnitId\n }\n\n getCurrentlyLootingTargetUnitId(){\n   return currentlyLootingUnitId\n }\n\n\n getTargettingEventEmitter()\n {\n  return  targettingEmitter;\n }\n\n}\n","\n\n// import geckos.io client\nimport geckos from '@geckos.io/client'\n\n\nimport Web3 from 'web3'\n\n\nvar web3utils = require('web3-utils')\n\nvar channel = null\nvar publicAddress = null\nvar entityManager = null\n\nconst axios = require('axios').default;\n\nconst serverConfig = require('../../config/server.config.json')\nconst clientConfig = require('../../config/client.config.json')\n\nconst clientEnvironment = clientConfig.environment\n\n\n\nexport default class ClientConnection {\n\n\n\n\n constructor()\n {\n\n }\n\n\n async init(  player, errorMessageCallback, authedCallback  )\n {\n   var web3 = new Web3(Web3.givenProvider );\n\n   this.web3 = web3;\n\n   //console.log('web3 is ',web3)\n\n   /**\n    * start geckos client with these options\n    * @param options.url default is `${location.protocol}//${location.hostname}`\n    * @param options.port default is 9208\n    * @param options.label Default: 'geckos.io'\n    * @param options.iceServers Default: []\n    * @param options.iceTransportPolicy Default: 'all'\n    */\n\n    var auth = \"\"\n\n    console.log('init client connections with serverconfig ', serverConfig[clientEnvironment])\n\n    let options = {\n    //  authorization: auth,\n      url: serverConfig[clientEnvironment].gameServer.url, //\"http://localhost\",\n      port: serverConfig[clientEnvironment].gameServer.port\n    }\n\n     channel = geckos(options)\n\n\n     publicAddress = player.publicAddress\n  // var id = \"game\"\n   //var maxMessageSize = 512;\n\n   // the channel's id and maxMessageSize (in bytes)\n//   const { id, maxMessageSize } = channel\n\n   // once the channel is connected to the server\n   channel.onConnect(error => {     //THIS is failing in mocha ...\n     if (error) {\n       console.log('on connect error - geckos!! ')\n       console.error(error.message)\n\n       errorMessageCallback('Failed to connect to socket server.')\n     }\n\n     // listens for a disconnection\n     channel.onDisconnect(() => {})\n\n     // listens for a custom event from the server\n     channel.on('chat message', data => {})\n\n\n     channel.on('errormessage', data => {\n       console.log('got error from server', data.message)\n\n     })\n\n\n     channel.on('challenge', async (data) => {\n       console.log('got challenge from socket serv ..opening web3 to personalsign')\n\n      var signature = await player.personalSignWithMetamask(data.challenge, publicAddress, this.web3)\n\n      var recAddress = await player.web3ecRecover(data.challenge, signature, this.web3)\n\n       if(recAddress.toLowerCase() != publicAddress.toLowerCase()){\n         console.log('ERROR: client side check of sig failed ', recAddress ,  publicAddress)\n       }\n\n       console.log('made signature',signature)\n\n       channel.emit('signature', {publicAddress: publicAddress, signature: signature   } )\n     })\n\n     channel.on('authorized', async (data) => {\n\n       //save the auth token so we can send it with all socket messages to the server\n       window.sessionStorage.setItem('authToken', data.authToken);\n       console.log('got auth token ', data.authToken)\n\n       console.log('got player data ', data.playerData)\n\n       authedCallback( data.playerData )\n\n     })\n\n\n     channel.on('setGrid', async (data) => {\n\n         //DEPRECATED\n\n      //  entityManager.setCurrentGrid( data )\n\n\n        //channel.join(  data.gridUUID  ) //join room\n     })\n\n     //receive data about all entities on my grid\n     channel.on('gridState', async (data) => {\n\n       await entityManager.receivedGridStateFromServer( data )\n\n     })\n\n     // emits a message to the server\n    // channel.emit('chat message', 'Hi!')\n\n    var datagram = {publicAddress: publicAddress}\n    channel.emit('connect', datagram )  //start trying to connect !  Uses metamask to prove ownership\n  //   channel.emit('connect', publicAddress )\n     console.log('emit ', datagram )\n\n     // closes the WebRTC connection\n//     channel.close()\n   })\n\n\n\n\n }\n\n setEntityManager(entMgr)\n {\n    entityManager = entMgr;\n }\n\n getPublicAddress()\n {\n   return publicAddress\n }\n\n async requestSpawn( factionName )\n {\n   console.log('request spawn')\n   var datagram = {authToken: this.getSessionAuthToken(),\n      publicAddress: publicAddress,\n    playerFaction: factionName }\n\n   console.log(channel )\n     channel.emit('spawn', datagram , { reliable: true })\n }\n\n/* async requestGridState( entityManager )\n {\n   //DEPRECATED\n  // var datagram = {authToken: this.getSessionAuthToken(), publicAddress: publicAddress }\n  //   channel.emit('getGridState', datagram , { reliable: true })\n}*/\n\n\n async sendClientCommand(cmdName, cmdParams)\n {\n\n   /*\n     ('setShipDirectionVector',{vector: x})\n     ('initiateWarp',{griduuid: x})\n   */\n   console.log('sending client command ', cmdName, cmdParams)\n   var datagram = {cmdName: cmdName, cmdParams:cmdParams, authToken: this.getSessionAuthToken(), publicAddress: publicAddress}\n    channel.emit('clientCommand', datagram , { reliable: true }) //should it be reliable ?\n\n }\n\n\n async getSessionAuthToken()\n {\n     return window.sessionStorage.getItem('authToken' );\n }\n\n\n\n static getServerNameForDataRequest(dataRequest)\n {\n   console.log('get server name ', dataRequest)\n   switch(dataRequest.requestType)\n   {\n     case 'inventory': return 'gameServer';\n\n     case 'orders': return 'marketServer';\n     case 'makeMarketOrder': return 'marketServer';\n     case 'buyoutOrderTx': return 'marketServer';\n     case 'cancelOrderTx': return 'marketServer';\n\n     default: return 'gameServer';\n\n   }\n\n\n }\n\n //may need to change me !\n async requestAPIData(dataRequest){\n\n\n\n\n    let serverName = ClientConnection.getServerNameForDataRequest(dataRequest)\n    let serverProperties = serverConfig[clientEnvironment][serverName]\n\n    console.log('server name for request is ', serverName)\n   //let url = \"http://localhost:9208/api/v1\"\n\n   let url = serverProperties.url + ':' + serverProperties.port + '/api/v1'\n\n\n   var postData =  Object.assign({}, dataRequest);\n\n   postData.authToken = await this.getSessionAuthToken()\n   postData.publicAddress = publicAddress\n\n  /* var postData = {\n     requestType: dataRequest.requestType,\n     authToken: await this.getSessionAuthToken(),\n     publicAddress: publicAddress\n   }*/\n\n\n/*\n     let options = {\n       url: serverConfig.gameServer.url,\n       port: serverConfig.gameServer.port\n     }\n*/\n\n\n\n   let response = await axios({\n        method: 'post',\n        url: url,\n        data: postData\n      });\n\n    let results = response.data\n\n    console.log('got from api ', results)\n\n    if(results.success)\n    {\n      return results ;\n\n    }\n\n\n\n\n }\n\n\n/*\n async personalSignWithMetamask(challenge,address, web3provider)\n {\n   console.log('personal signing ', challenge, address, web3provider)\n\n\n  var challengeHash =    web3utils.fromUtf8 (challenge)\n\n   var sig =   await new Promise(async (resolve,reject) => {\n\n      web3provider.personal.sign( challengeHash , address, function (err,result){\n            if (err) {return console.error(err)}\n            console.log('PERSONAL SIGNED:' + result)\n            resolve(result);\n     })\n\n   })\n\n   return sig;\n\n }\n\n\n\n\n  async web3ecRecover(challenge,signature)\n {\n\n\n   console.log('ecrecover ', challenge, signature, web3)\n\n   var addr =   await new Promise(async (resolve,reject) => {\n\n      this.web3.personal.ecRecover( web3.fromUtf8 (challenge) , signature, function (err,result){\n            if (err) {return console.error(err)}\n            console.log('ecrecover:' + result)\n            resolve(result);\n     })\n\n   })\n\n   return addr;\n\n }\n*/\n\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.hidden)?_c('div',{staticClass:\"absolute p-0 m-0\",staticStyle:{\"background\":\"#111a\",\"width\":\"80%\",\"height\":\"80%\",\"margin\":\"auto\",\"top\":\"0\",\"left\":\"0\",\"bottom\":\"0\",\"right\":\"0\"}},[_c('div',{staticClass:\"m-4 p-4 h-full\",staticStyle:{\"margin\":\"auto\"}},[_c('div',{staticClass:\"flex h-full bg-gray-800 font-roboto\"},[_c('Sidebar',{ref:\"sidebar\",attrs:{\"buttonClickedCallback\":_vm.sidebarButtonClicked}}),_c('div',{staticClass:\"flex-1 flex flex-col overflow-hidden\"},[_c('Header',{staticClass:\"hidden\"}),_c('div',{staticClass:\"flex-1 overflow-x-hidden overflow-y-auto bg-gray-900 relative\"},[_c('div',{staticClass:\"container mx-auto px-6 py-8 \"},[_c('div',{staticClass:\"text-centered w-full text-gray-100\"},[_c('InventoryPanel',{ref:\"inventorypanel\",attrs:{\"rightClickRowCallback\":_vm.handleItemActionMenuCallback,\"dataRequestCallback\":_vm.dataRequestCallback,\"stationUnitId\":_vm.stationUnitId,\"activeStationPanel\":_vm.activePanel}}),_c('HangarPanel',{ref:\"hangarpanel\",attrs:{\"stationPanelIsHidden\":_vm.hidden,\"stationUnitId\":_vm.stationUnitId,\"myPossessedUnit\":_vm.myPossessedUnit,\"activeStationPanel\":_vm.activePanel,\"rightClickRowCallback\":_vm.handleItemActionMenuCallback,\"dataRequestCallback\":_vm.dataRequestCallback}}),_c('ProductionPanel',{ref:\"productionpanel\",attrs:{\"rightClickRowCallback\":_vm.handleItemActionMenuCallback,\"dataRequestCallback\":_vm.dataRequestCallback,\"stationUnitId\":_vm.stationUnitId,\"activeStationPanel\":_vm.activePanel}}),_c('WalletPanel',{ref:\"walletpanel\",attrs:{\"dataRequestCallback\":_vm.dataRequestCallback,\"localActionCallback\":_vm.localActionCallback,\"activeStationPanel\":_vm.activePanel}}),_c('MarketPanel',{ref:\"marketpanel\",attrs:{\"rightClickRowCallback\":_vm.handleItemActionMenuCallback,\"dataRequestCallback\":_vm.dataRequestCallback,\"stationUnitId\":_vm.stationUnitId,\"activeStationPanel\":_vm.activePanel,\"myPlayer\":_vm.myPlayer}}),_c('DevPanel',{attrs:{\"devtoolsCallback\":_vm.devToolsCallback,\"activeStationPanel\":_vm.activePanel}})],1)]),_c('ModalContainer',{ref:\"modalContainer\",attrs:{\"formSubmittedCallback\":_vm.modalFormSubmitted}})],1)],1)],1),_c('div')])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"h-full\",staticStyle:{\"overflow-y\":\"scroll\",\"max-height\":\"100%\"}},[_c('div',{staticClass:\"flex items-center justify-center mt-8\"},[_c('div',{staticClass:\"flex items-center\"},[_c('svg',{staticClass:\"h-12 w-12\",attrs:{\"viewBox\":\"0 0 512 512\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M364.61 390.213C304.625 450.196 207.37 450.196 147.386 390.213C117.394 360.22 102.398 320.911 102.398 281.6C102.398 242.291 117.394 202.981 147.386 172.989C147.386 230.4 153.6 281.6 230.4 307.2C230.4 256 256 102.4 294.4 76.7999C320 128 334.618 142.997 364.608 172.989C394.601 202.981 409.597 242.291 409.597 281.6C409.597 320.911 394.601 360.22 364.61 390.213Z\",\"fill\":\"#4C51BF\",\"stroke\":\"#4C51BF\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}}),_c('path',{attrs:{\"d\":\"M201.694 387.105C231.686 417.098 280.312 417.098 310.305 387.105C325.301 372.109 332.8 352.456 332.8 332.8C332.8 313.144 325.301 293.491 310.305 278.495C295.309 263.498 288 256 275.2 230.4C256 243.2 243.201 320 243.201 345.6C201.694 345.6 179.2 332.8 179.2 332.8C179.2 352.456 186.698 372.109 201.694 387.105Z\",\"fill\":\"white\"}})]),_c('span',{staticClass:\"text-white text-2xl mx-2 font-semibold pr-8\"},[_vm._v(\"Station\")])])]),_c('div',{staticClass:\"mt-10 text-gray-500\"},[_c('div',{staticClass:\"flex items-center mt-4 py-2 px-6 border-l-4    cursor-pointer\",class:(_vm.activePanel == 'hangar') ? _vm.activeClass : _vm.inactiveClass,on:{\"click\":function($event){return _vm.clickedButton('hangar')}}},[_c('svg',{staticClass:\"h-5 w-5\",attrs:{\"viewBox\":\"0 0 20 20\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M7 3C6.44772 3 6 3.44772 6 4C6 4.55228 6.44772 5 7 5H13C13.5523 5 14 4.55228 14 4C14 3.44772 13.5523 3 13 3H7Z\",\"fill\":\"currentColor\"}}),_c('path',{attrs:{\"d\":\"M4 7C4 6.44772 4.44772 6 5 6H15C15.5523 6 16 6.44772 16 7C16 7.55228 15.5523 8 15 8H5C4.44772 8 4 7.55228 4 7Z\",\"fill\":\"currentColor\"}}),_c('path',{attrs:{\"d\":\"M2 11C2 9.89543 2.89543 9 4 9H16C17.1046 9 18 9.89543 18 11V15C18 16.1046 17.1046 17 16 17H4C2.89543 17 2 16.1046 2 15V11Z\",\"fill\":\"currentColor\"}})]),_c('span',{staticClass:\"mx-4\"},[_vm._v(\"Hangar\")])]),_c('div',{staticClass:\"  flex items-center mt-4 py-2 px-6 border-l-4    cursor-pointer\",class:(_vm.activePanel == 'wallet') ? _vm.activeClass : _vm.inactiveClass,on:{\"click\":function($event){return _vm.clickedButton('wallet')}}},[_c('svg',{staticClass:\"svg-icon\",attrs:{\"viewBox\":\"0 0 20 20\"}},[_c('path',{attrs:{\"fill\":\"none\",\"d\":\"M15.123,9.991c-0.944,0-1.71,0.766-1.71,1.71c0,0.945,0.766,1.711,1.71,1.711c0.945,0,1.711-0.766,1.711-1.711\\n\\t\\t\\t\\t\\t\\t\\t\\tC16.834,10.756,16.068,9.991,15.123,9.991z M15.703,12.281h-1.141v-1.141h1.141V12.281z M17.984,4.867h-2.288v-0.57h-0.024\\n\\t\\t\\t\\t\\t\\t\\t\\tc0.011-0.086,0.025-0.17,0.025-0.26V2.852c0-1.092-0.838-1.977-1.871-1.977H2.745C1.8,0.875,1.027,1.618,0.9,2.58H0.875v15.404\\n\\t\\t\\t\\t\\t\\t\\t\\tc0,0.629,0.511,1.141,1.141,1.141h15.969c0.629,0,1.14-0.512,1.14-1.141V6.008C19.124,5.377,18.613,4.867,17.984,4.867z\\n\\t\\t\\t\\t\\t\\t\\t\\t M2.016,2.586c0-0.315,0.255-0.57,0.57-0.57h11.406c0.314,0,0.57,0.255,0.57,0.57v2.275H2.016V2.586z M17.984,17.414\\n\\t\\t\\t\\t\\t\\t\\t\\tc0,0.314-0.257,0.57-0.57,0.57H2.586c-0.315,0-0.57-0.256-0.57-0.57V6.578c0-0.315,0.255-0.57,0.57-0.57h14.828\\n\\t\\t\\t\\t\\t\\t\\t\\tc0.313,0,0.57,0.255,0.57,0.57V17.414z\"}})]),_c('span',{staticClass:\"mx-4\"},[_vm._v(\"Wallet \")])]),_c('div',{staticClass:\"flex items-center mt-4 py-2 px-6 border-l-4    cursor-pointer\",class:(_vm.activePanel == 'inventory') ? _vm.activeClass : _vm.inactiveClass,on:{\"click\":function($event){return _vm.clickedButton('inventory')}}},[_c('svg',{staticClass:\"h-5 w-5\",attrs:{\"viewBox\":\"0 0 20 20\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M5 3C3.89543 3 3 3.89543 3 5V7C3 8.10457 3.89543 9 5 9H7C8.10457 9 9 8.10457 9 7V5C9 3.89543 8.10457 3 7 3H5Z\",\"fill\":\"currentColor\"}}),_c('path',{attrs:{\"d\":\"M5 11C3.89543 11 3 11.8954 3 13V15C3 16.1046 3.89543 17 5 17H7C8.10457 17 9 16.1046 9 15V13C9 11.8954 8.10457 11 7 11H5Z\",\"fill\":\"currentColor\"}}),_c('path',{attrs:{\"d\":\"M11 5C11 3.89543 11.8954 3 13 3H15C16.1046 3 17 3.89543 17 5V7C17 8.10457 16.1046 9 15 9H13C11.8954 9 11 8.10457 11 7V5Z\",\"fill\":\"currentColor\"}}),_c('path',{attrs:{\"d\":\"M11 13C11 11.8954 11.8954 11 13 11H15C16.1046 11 17 11.8954 17 13V15C17 16.1046 16.1046 17 15 17H13C11.8954 17 11 16.1046 11 15V13Z\",\"fill\":\"currentColor\"}})]),_c('span',{staticClass:\"mx-4\"},[_vm._v(\"Items\")])]),_c('div',{staticClass:\"flex items-center mt-4 py-2 px-6 border-l-4    cursor-pointer\",class:(_vm.activePanel == 'market') ? _vm.activeClass : _vm.inactiveClass,on:{\"click\":function($event){return _vm.clickedButton('market')}}},[_c('svg',{staticClass:\"svg-icon\",attrs:{\"viewBox\":\"0 0 20 20\"}},[_c('path',{attrs:{\"fill\":\"none\",\"d\":\"M16.227,16.672c0,0.49-0.396,0.889-0.889,0.889H2.883c-0.491,0-0.889-0.398-0.889-0.889V5.107c0-0.491,0.398-0.89,0.889-0.89h7.562V3.328H2.883c-0.982,0-1.779,0.796-1.779,1.779v11.565c0,0.982,0.796,1.779,1.779,1.779h12.455c0.982,0,1.779-0.797,1.779-1.779V10h-0.891V16.672z M15.338,1.549c-1.965,0-3.559,1.593-3.559,3.558c0,1.966,1.594,3.558,3.559,3.558s3.559-1.592,3.559-3.558C18.896,3.142,17.303,1.549,15.338,1.549z M15.338,7.776c-1.475,0-2.668-1.195-2.668-2.669c0-1.474,1.193-2.669,2.668-2.669s2.668,1.195,2.668,2.669C18.006,6.581,16.812,7.776,15.338,7.776z\"}})]),_c('span',{staticClass:\"mx-4\"},[_vm._v(\"Market\")])]),_c('div',{staticClass:\"  flex items-center mt-4 py-2 px-6 border-l-4    cursor-pointer\",class:(_vm.activePanel == 'production') ? _vm.activeClass : _vm.inactiveClass,on:{\"click\":function($event){return _vm.clickedButton('production')}}},[_c('svg',{staticClass:\"svg-icon\",attrs:{\"viewBox\":\"0 0 20 20\"}},[_c('path',{attrs:{\"fill\":\"none\",\"d\":\"M16.382,15.015h0.455h0.457V4.985h-0.457h-0.455V15.015z M16.837,4.985c1.008,0,1.824-0.816,1.824-1.822c0-1.008-0.816-1.824-1.824-1.824c-1.006,0-1.822,0.816-1.822,1.824C15.015,4.169,15.831,4.985,16.837,4.985z M16.837,2.25c0.504,0,0.913,0.409,0.913,0.913c0,0.502-0.409,0.911-0.913,0.911c-0.502,0-0.911-0.409-0.911-0.911C15.926,2.659,16.335,2.25,16.837,2.25z M15.015,3.618V3.163V2.706H4.986v0.457v0.455H15.015z M3.162,15.01c-1.007,0-1.823,0.816-1.823,1.822c0,1.008,0.816,1.824,1.823,1.824s1.824-0.816,1.824-1.824C4.986,15.831,4.169,15.015,3.162,15.015z M3.162,17.75c-0.503,0-0.911-0.409-0.911-0.913c0-0.502,0.408-0.911,0.911-0.911c0.504,0,0.912,0.409,0.912,0.911C4.074,17.341,3.666,17.75,3.162,17.75z M4.986,16.382v0.455v0.457h10.029v-0.457v-0.455H4.986zM16.837,15.015c-1.006,0-1.822,0.816-1.822,1.822c0,1.008,0.816,1.824,1.822,1.824c1.008,0,1.824-0.816,1.824-1.824C18.661,15.831,17.845,15.015,16.837,15.015z M16.837,17.75c-0.502,0-0.911-0.409-0.911-0.913c0-0.502,0.409-0.911,0.911-0.911c0.504,0,0.913,0.409,0.913,0.911C17.75,17.341,17.341,17.75,16.837,17.75z M3.618,4.985H3.162H2.707v10.029h0.456h0.456V4.985zM4.986,3.163c0-1.008-0.817-1.824-1.824-1.824S1.339,2.155,1.339,3.163c0,1.006,0.816,1.822,1.823,1.822S4.986,4.169,4.986,3.163zM3.162,4.074c-0.503,0-0.911-0.409-0.911-0.911c0-0.504,0.408-0.913,0.911-0.913c0.504,0,0.912,0.409,0.912,0.913C4.074,3.665,3.666,4.074,3.162,4.074z\"}})]),_c('span',{staticClass:\"mx-4\"},[_vm._v(\"Production\")])]),_c('div',{staticClass:\" hidden flex items-center mt-4 py-2 px-6 border-l-4    cursor-pointer\",class:(_vm.activePanel == 'salvage') ? _vm.activeClass : _vm.inactiveClass,on:{\"click\":function($event){return _vm.clickedButton('salvage')}}},[_c('svg',{staticClass:\"svg-icon\",attrs:{\"viewBox\":\"0 0 20 20\"}},[_c('path',{attrs:{\"d\":\"M12.319,5.792L8.836,2.328C8.589,2.08,8.269,2.295,8.269,2.573v1.534C8.115,4.091,7.937,4.084,7.783,4.084c-2.592,0-4.7,2.097-4.7,4.676c0,1.749,0.968,3.337,2.528,4.146c0.352,0.194,0.651-0.257,0.424-0.529c-0.415-0.492-0.643-1.118-0.643-1.762c0-1.514,1.261-2.747,2.787-2.747c0.029,0,0.06,0,0.09,0.002v1.632c0,0.335,0.378,0.435,0.568,0.245l3.483-3.464C12.455,6.147,12.455,5.928,12.319,5.792 M8.938,8.67V7.554c0-0.411-0.528-0.377-0.781-0.377c-1.906,0-3.457,1.542-3.457,3.438c0,0.271,0.033,0.542,0.097,0.805C4.149,10.7,3.775,9.762,3.775,8.76c0-2.197,1.798-3.985,4.008-3.985c0.251,0,0.501,0.023,0.744,0.069c0.212,0.039,0.412-0.124,0.412-0.34v-1.1l2.646,2.633L8.938,8.67z M14.389,7.107c-0.34-0.18-0.662,0.244-0.424,0.529c0.416,0.493,0.644,1.118,0.644,1.762c0,1.515-1.272,2.747-2.798,2.747c-0.029,0-0.061,0-0.089-0.002v-1.631c0-0.354-0.382-0.419-0.558-0.246l-3.482,3.465c-0.136,0.136-0.136,0.355,0,0.49l3.482,3.465c0.189,0.186,0.568,0.096,0.568-0.245v-1.533c0.153,0.016,0.331,0.022,0.484,0.022c2.592,0,4.7-2.098,4.7-4.677C16.917,9.506,15.948,7.917,14.389,7.107 M12.217,15.238c-0.251,0-0.501-0.022-0.743-0.069c-0.212-0.039-0.411,0.125-0.411,0.341v1.101l-2.646-2.634l2.646-2.633v1.116c0,0.174,0.126,0.318,0.295,0.343c0.158,0.024,0.318,0.034,0.486,0.034c1.905,0,3.456-1.542,3.456-3.438c0-0.271-0.032-0.541-0.097-0.804c0.648,0.719,1.022,1.659,1.022,2.66C16.226,13.451,14.428,15.238,12.217,15.238\"}})]),_c('span',{staticClass:\"mx-4\"},[_vm._v(\"Salvage\")])]),_c('div',{staticClass:\"  flex items-center mt-4 py-2 px-6 border-l-4    cursor-pointer\",class:(_vm.activePanel == 'dev') ? _vm.activeClass : _vm.inactiveClass,on:{\"click\":function($event){return _vm.clickedButton('dev')}}},[_c('svg',{staticClass:\"svg-icon\",attrs:{\"viewBox\":\"0 0 20 20\"}},[_c('path',{attrs:{\"fill\":\"none\",\"d\":\"M10.841,13.784c0-0.232-0.188-0.421-0.42-0.421c-0.116,0-0.222,0.048-0.297,0.124l-2.522,2.521c-0.076,0.077-0.123,0.183-0.123,0.298c0,0.232,0.188,0.421,0.42,0.421h1.508l-1.805,1.805c-0.076,0.076-0.123,0.182-0.123,0.298c0,0.232,0.188,0.42,0.42,0.42c0.116,0,0.222-0.047,0.298-0.123l2.522-2.523c0.076-0.075,0.123-0.181,0.123-0.297c0-0.232-0.188-0.42-0.42-0.42h0H8.913l1.805-1.805C10.794,14.005,10.841,13.9,10.841,13.784 M6.216,14.205c-0.116,0-0.221,0.047-0.297,0.123l-2.522,2.522c-0.077,0.076-0.124,0.181-0.124,0.297c0,0.232,0.188,0.421,0.421,0.421c0.116,0,0.221-0.047,0.297-0.123l2.523-2.523c0.077-0.075,0.123-0.181,0.123-0.297C6.636,14.394,6.448,14.205,6.216,14.205M16.722,5.063c0.001-0.036,0.006-0.072,0.006-0.109c0-1.393-1.13-2.523-2.523-2.523c-0.635,0-1.215,0.237-1.658,0.625C11.648,1.671,10.094,0.75,8.318,0.75c-2.533,0-4.623,1.867-4.985,4.299C1.853,5.401,0.75,6.729,0.75,8.318c0,1.857,1.506,3.363,3.364,3.363h11.773c1.857,0,3.363-1.506,3.363-3.363C19.25,6.75,18.174,5.436,16.722,5.063 M15.887,10.841H4.114c-1.391,0-2.523-1.132-2.523-2.523c0-1.172,0.796-2.18,1.938-2.451c0.334-0.079,0.587-0.354,0.638-0.694c0.303-2.042,2.088-3.582,4.152-3.582c1.425,0,2.321,0.299,3.102,1.502c0.132,0.205,0.768,0.762,1.009,0.796c0.039,0.006,0.117,0.008,0.117,0.008c0.202,0,0.398-0.072,0.554-0.208c0.307-0.269,0.699-0.417,1.104-0.417c0.928,0,1.683,0.755,1.682,1.691l-0.005,0.062c-0.018,0.398,0.246,0.754,0.632,0.853c1.116,0.286,1.896,1.289,1.896,2.44C18.409,9.709,17.277,10.841,15.887,10.841 M15.045,14.205c-0.116,0-0.221,0.047-0.297,0.123l-2.522,2.522c-0.076,0.076-0.123,0.181-0.123,0.297c0,0.232,0.188,0.421,0.42,0.421c0.116,0,0.221-0.047,0.298-0.123l2.522-2.523c0.076-0.075,0.123-0.181,0.123-0.297C15.466,14.394,15.277,14.205,15.045,14.205\"}})]),_c('span',{staticClass:\"mx-4\"},[_vm._v(\"Dev Tools\")])]),_c('div',{staticClass:\"flex items-center mt-4 py-2 px-6 border-l-4  bg-yellow-500 text-black  cursor-pointer\",class:(_vm.activePanel == 'undock') ? _vm.activeClass : _vm.inactiveClass,on:{\"click\":function($event){return _vm.clickedButton('undock')}}},[_c('svg',{staticClass:\"svg-icon\",attrs:{\"viewBox\":\"0 0 20 20\"}},[_c('path',{staticStyle:{\"fill\":\"#111\"},attrs:{\"d\":\"M11.739,13.962c-0.087,0.086-0.199,0.131-0.312,0.131c-0.112,0-0.226-0.045-0.312-0.131l-3.738-3.736c-0.173-0.173-0.173-0.454,0-0.626l3.559-3.562c0.173-0.175,0.454-0.173,0.626,0c0.173,0.172,0.173,0.451,0,0.624l-3.248,3.25l3.425,3.426C11.911,13.511,11.911,13.789,11.739,13.962 M18.406,10c0,4.644-3.763,8.406-8.406,8.406S1.594,14.644,1.594,10S5.356,1.594,10,1.594S18.406,5.356,18.406,10 M17.521,10c0-4.148-3.373-7.521-7.521-7.521c-4.148,0-7.521,3.374-7.521,7.521c0,4.148,3.374,7.521,7.521,7.521C14.147,17.521,17.521,14.148,17.521,10\"}})]),_c('span',{staticClass:\"mx-4\"},[_vm._v(\"Undock\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"h-full\" style=\"overflow-y: scroll; max-height:100%\">\n  <div class=\"flex items-center justify-center mt-8\">\n  <div class=\"flex items-center\">\n    <svg\n      class=\"h-12 w-12\"\n      viewBox=\"0 0 512 512\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M364.61 390.213C304.625 450.196 207.37 450.196 147.386 390.213C117.394 360.22 102.398 320.911 102.398 281.6C102.398 242.291 117.394 202.981 147.386 172.989C147.386 230.4 153.6 281.6 230.4 307.2C230.4 256 256 102.4 294.4 76.7999C320 128 334.618 142.997 364.608 172.989C394.601 202.981 409.597 242.291 409.597 281.6C409.597 320.911 394.601 360.22 364.61 390.213Z\"\n        fill=\"#4C51BF\"\n        stroke=\"#4C51BF\"\n        stroke-width=\"2\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      />\n      <path\n        d=\"M201.694 387.105C231.686 417.098 280.312 417.098 310.305 387.105C325.301 372.109 332.8 352.456 332.8 332.8C332.8 313.144 325.301 293.491 310.305 278.495C295.309 263.498 288 256 275.2 230.4C256 243.2 243.201 320 243.201 345.6C201.694 345.6 179.2 332.8 179.2 332.8C179.2 352.456 186.698 372.109 201.694 387.105Z\"\n        fill=\"white\"\n      />\n    </svg>\n\n    <span class=\"text-white text-2xl mx-2 font-semibold pr-8\">Station</span>\n  </div>\n</div>\n\n\n\n\n  <div class=\"mt-10 text-gray-500\">\n\n    <div\n      @click=\"clickedButton('hangar')\"\n      class=\"flex items-center mt-4 py-2 px-6 border-l-4    cursor-pointer\"\n      :class=\"(activePanel == 'hangar') ? activeClass : inactiveClass\"\n    >\n    <svg class=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        d=\"M7 3C6.44772 3 6 3.44772 6 4C6 4.55228 6.44772 5 7 5H13C13.5523 5 14 4.55228 14 4C14 3.44772 13.5523 3 13 3H7Z\"\n        fill=\"currentColor\"\n      />\n      <path\n        d=\"M4 7C4 6.44772 4.44772 6 5 6H15C15.5523 6 16 6.44772 16 7C16 7.55228 15.5523 8 15 8H5C4.44772 8 4 7.55228 4 7Z\"\n        fill=\"currentColor\"\n      />\n      <path\n        d=\"M2 11C2 9.89543 2.89543 9 4 9H16C17.1046 9 18 9.89543 18 11V15C18 16.1046 17.1046 17 16 17H4C2.89543 17 2 16.1046 2 15V11Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n\n\n\n      <span class=\"mx-4\">Hangar</span>\n    </div>\n\n\n\n    <div\n      @click=\"clickedButton('wallet')\"\n      class=\"  flex items-center mt-4 py-2 px-6 border-l-4    cursor-pointer\"\n      :class=\"(activePanel == 'wallet') ? activeClass : inactiveClass\"\n    >\n    <svg class=\"svg-icon\" viewBox=\"0 0 20 20\">\n\t\t\t\t\t\t\t<path fill=\"none\" d=\"M15.123,9.991c-0.944,0-1.71,0.766-1.71,1.71c0,0.945,0.766,1.711,1.71,1.711c0.945,0,1.711-0.766,1.711-1.711\n\t\t\t\t\t\t\t\tC16.834,10.756,16.068,9.991,15.123,9.991z M15.703,12.281h-1.141v-1.141h1.141V12.281z M17.984,4.867h-2.288v-0.57h-0.024\n\t\t\t\t\t\t\t\tc0.011-0.086,0.025-0.17,0.025-0.26V2.852c0-1.092-0.838-1.977-1.871-1.977H2.745C1.8,0.875,1.027,1.618,0.9,2.58H0.875v15.404\n\t\t\t\t\t\t\t\tc0,0.629,0.511,1.141,1.141,1.141h15.969c0.629,0,1.14-0.512,1.14-1.141V6.008C19.124,5.377,18.613,4.867,17.984,4.867z\n\t\t\t\t\t\t\t\t M2.016,2.586c0-0.315,0.255-0.57,0.57-0.57h11.406c0.314,0,0.57,0.255,0.57,0.57v2.275H2.016V2.586z M17.984,17.414\n\t\t\t\t\t\t\t\tc0,0.314-0.257,0.57-0.57,0.57H2.586c-0.315,0-0.57-0.256-0.57-0.57V6.578c0-0.315,0.255-0.57,0.57-0.57h14.828\n\t\t\t\t\t\t\t\tc0.313,0,0.57,0.255,0.57,0.57V17.414z\"></path>\n\t\t\t\t\t\t</svg>\n\n      <span class=\"mx-4\">Wallet </span>\n    </div>\n\n\n    <div\n      @click=\"clickedButton('inventory')\"\n      class=\"flex items-center mt-4 py-2 px-6 border-l-4    cursor-pointer\"\n      :class=\"(activePanel == 'inventory') ? activeClass : inactiveClass\"\n    >\n    <svg class=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        d=\"M5 3C3.89543 3 3 3.89543 3 5V7C3 8.10457 3.89543 9 5 9H7C8.10457 9 9 8.10457 9 7V5C9 3.89543 8.10457 3 7 3H5Z\"\n        fill=\"currentColor\"\n      />\n      <path\n        d=\"M5 11C3.89543 11 3 11.8954 3 13V15C3 16.1046 3.89543 17 5 17H7C8.10457 17 9 16.1046 9 15V13C9 11.8954 8.10457 11 7 11H5Z\"\n        fill=\"currentColor\"\n      />\n      <path\n        d=\"M11 5C11 3.89543 11.8954 3 13 3H15C16.1046 3 17 3.89543 17 5V7C17 8.10457 16.1046 9 15 9H13C11.8954 9 11 8.10457 11 7V5Z\"\n        fill=\"currentColor\"\n      />\n      <path\n        d=\"M11 13C11 11.8954 11.8954 11 13 11H15C16.1046 11 17 11.8954 17 13V15C17 16.1046 16.1046 17 15 17H13C11.8954 17 11 16.1046 11 15V13Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n\n      <span class=\"mx-4\">Items</span>\n    </div>\n\n\n\n    <div\n      @click=\"clickedButton('market')\"\n      class=\"flex items-center mt-4 py-2 px-6 border-l-4    cursor-pointer\"\n      :class=\"(activePanel == 'market') ? activeClass : inactiveClass\"\n    >\n\n\n    <svg class=\"svg-icon\" viewBox=\"0 0 20 20\">\n  \t\t\t\t\t\t\t<path fill=\"none\" d=\"M16.227,16.672c0,0.49-0.396,0.889-0.889,0.889H2.883c-0.491,0-0.889-0.398-0.889-0.889V5.107c0-0.491,0.398-0.89,0.889-0.89h7.562V3.328H2.883c-0.982,0-1.779,0.796-1.779,1.779v11.565c0,0.982,0.796,1.779,1.779,1.779h12.455c0.982,0,1.779-0.797,1.779-1.779V10h-0.891V16.672z M15.338,1.549c-1.965,0-3.559,1.593-3.559,3.558c0,1.966,1.594,3.558,3.559,3.558s3.559-1.592,3.559-3.558C18.896,3.142,17.303,1.549,15.338,1.549z M15.338,7.776c-1.475,0-2.668-1.195-2.668-2.669c0-1.474,1.193-2.669,2.668-2.669s2.668,1.195,2.668,2.669C18.006,6.581,16.812,7.776,15.338,7.776z\"></path>\n  \t\t\t\t\t\t</svg>\n\n\n      <span class=\"mx-4\">Market</span>\n    </div>\n\n\n\n\n\n    <div\n      @click=\"clickedButton('production')\"\n      class=\"  flex items-center mt-4 py-2 px-6 border-l-4    cursor-pointer\"\n      :class=\"(activePanel == 'production') ? activeClass : inactiveClass\"\n    >\n\n    <svg class=\"svg-icon\" viewBox=\"0 0 20 20\">\n              <path fill=\"none\" d=\"M16.382,15.015h0.455h0.457V4.985h-0.457h-0.455V15.015z M16.837,4.985c1.008,0,1.824-0.816,1.824-1.822c0-1.008-0.816-1.824-1.824-1.824c-1.006,0-1.822,0.816-1.822,1.824C15.015,4.169,15.831,4.985,16.837,4.985z M16.837,2.25c0.504,0,0.913,0.409,0.913,0.913c0,0.502-0.409,0.911-0.913,0.911c-0.502,0-0.911-0.409-0.911-0.911C15.926,2.659,16.335,2.25,16.837,2.25z M15.015,3.618V3.163V2.706H4.986v0.457v0.455H15.015z M3.162,15.01c-1.007,0-1.823,0.816-1.823,1.822c0,1.008,0.816,1.824,1.823,1.824s1.824-0.816,1.824-1.824C4.986,15.831,4.169,15.015,3.162,15.015z M3.162,17.75c-0.503,0-0.911-0.409-0.911-0.913c0-0.502,0.408-0.911,0.911-0.911c0.504,0,0.912,0.409,0.912,0.911C4.074,17.341,3.666,17.75,3.162,17.75z M4.986,16.382v0.455v0.457h10.029v-0.457v-0.455H4.986zM16.837,15.015c-1.006,0-1.822,0.816-1.822,1.822c0,1.008,0.816,1.824,1.822,1.824c1.008,0,1.824-0.816,1.824-1.824C18.661,15.831,17.845,15.015,16.837,15.015z M16.837,17.75c-0.502,0-0.911-0.409-0.911-0.913c0-0.502,0.409-0.911,0.911-0.911c0.504,0,0.913,0.409,0.913,0.911C17.75,17.341,17.341,17.75,16.837,17.75z M3.618,4.985H3.162H2.707v10.029h0.456h0.456V4.985zM4.986,3.163c0-1.008-0.817-1.824-1.824-1.824S1.339,2.155,1.339,3.163c0,1.006,0.816,1.822,1.823,1.822S4.986,4.169,4.986,3.163zM3.162,4.074c-0.503,0-0.911-0.409-0.911-0.911c0-0.504,0.408-0.913,0.911-0.913c0.504,0,0.912,0.409,0.912,0.913C4.074,3.665,3.666,4.074,3.162,4.074z\"></path>\n            </svg>\n\n      <span class=\"mx-4\">Production</span>\n    </div>\n\n\n\n\n        <div\n          @click=\"clickedButton('salvage')\"\n          class=\" hidden flex items-center mt-4 py-2 px-6 border-l-4    cursor-pointer\"\n          :class=\"(activePanel == 'salvage') ? activeClass : inactiveClass\"\n        >\n\n            <svg class=\"svg-icon\" viewBox=\"0 0 20 20\">\n            \t\t\t\t\t\t\t<path d=\"M12.319,5.792L8.836,2.328C8.589,2.08,8.269,2.295,8.269,2.573v1.534C8.115,4.091,7.937,4.084,7.783,4.084c-2.592,0-4.7,2.097-4.7,4.676c0,1.749,0.968,3.337,2.528,4.146c0.352,0.194,0.651-0.257,0.424-0.529c-0.415-0.492-0.643-1.118-0.643-1.762c0-1.514,1.261-2.747,2.787-2.747c0.029,0,0.06,0,0.09,0.002v1.632c0,0.335,0.378,0.435,0.568,0.245l3.483-3.464C12.455,6.147,12.455,5.928,12.319,5.792 M8.938,8.67V7.554c0-0.411-0.528-0.377-0.781-0.377c-1.906,0-3.457,1.542-3.457,3.438c0,0.271,0.033,0.542,0.097,0.805C4.149,10.7,3.775,9.762,3.775,8.76c0-2.197,1.798-3.985,4.008-3.985c0.251,0,0.501,0.023,0.744,0.069c0.212,0.039,0.412-0.124,0.412-0.34v-1.1l2.646,2.633L8.938,8.67z M14.389,7.107c-0.34-0.18-0.662,0.244-0.424,0.529c0.416,0.493,0.644,1.118,0.644,1.762c0,1.515-1.272,2.747-2.798,2.747c-0.029,0-0.061,0-0.089-0.002v-1.631c0-0.354-0.382-0.419-0.558-0.246l-3.482,3.465c-0.136,0.136-0.136,0.355,0,0.49l3.482,3.465c0.189,0.186,0.568,0.096,0.568-0.245v-1.533c0.153,0.016,0.331,0.022,0.484,0.022c2.592,0,4.7-2.098,4.7-4.677C16.917,9.506,15.948,7.917,14.389,7.107 M12.217,15.238c-0.251,0-0.501-0.022-0.743-0.069c-0.212-0.039-0.411,0.125-0.411,0.341v1.101l-2.646-2.634l2.646-2.633v1.116c0,0.174,0.126,0.318,0.295,0.343c0.158,0.024,0.318,0.034,0.486,0.034c1.905,0,3.456-1.542,3.456-3.438c0-0.271-0.032-0.541-0.097-0.804c0.648,0.719,1.022,1.659,1.022,2.66C16.226,13.451,14.428,15.238,12.217,15.238\"></path>\n            \t\t\t\t\t\t</svg>\n\n          <span class=\"mx-4\">Salvage</span>\n        </div>\n\n\n        <div\n          @click=\"clickedButton('dev')\"\n          class=\"  flex items-center mt-4 py-2 px-6 border-l-4    cursor-pointer\"\n          :class=\"(activePanel == 'dev') ? activeClass : inactiveClass\"\n        >\n        <svg class=\"svg-icon\" viewBox=\"0 0 20 20\">\n\t\t\t\t\t\t\t<path fill=\"none\" d=\"M10.841,13.784c0-0.232-0.188-0.421-0.42-0.421c-0.116,0-0.222,0.048-0.297,0.124l-2.522,2.521c-0.076,0.077-0.123,0.183-0.123,0.298c0,0.232,0.188,0.421,0.42,0.421h1.508l-1.805,1.805c-0.076,0.076-0.123,0.182-0.123,0.298c0,0.232,0.188,0.42,0.42,0.42c0.116,0,0.222-0.047,0.298-0.123l2.522-2.523c0.076-0.075,0.123-0.181,0.123-0.297c0-0.232-0.188-0.42-0.42-0.42h0H8.913l1.805-1.805C10.794,14.005,10.841,13.9,10.841,13.784 M6.216,14.205c-0.116,0-0.221,0.047-0.297,0.123l-2.522,2.522c-0.077,0.076-0.124,0.181-0.124,0.297c0,0.232,0.188,0.421,0.421,0.421c0.116,0,0.221-0.047,0.297-0.123l2.523-2.523c0.077-0.075,0.123-0.181,0.123-0.297C6.636,14.394,6.448,14.205,6.216,14.205M16.722,5.063c0.001-0.036,0.006-0.072,0.006-0.109c0-1.393-1.13-2.523-2.523-2.523c-0.635,0-1.215,0.237-1.658,0.625C11.648,1.671,10.094,0.75,8.318,0.75c-2.533,0-4.623,1.867-4.985,4.299C1.853,5.401,0.75,6.729,0.75,8.318c0,1.857,1.506,3.363,3.364,3.363h11.773c1.857,0,3.363-1.506,3.363-3.363C19.25,6.75,18.174,5.436,16.722,5.063 M15.887,10.841H4.114c-1.391,0-2.523-1.132-2.523-2.523c0-1.172,0.796-2.18,1.938-2.451c0.334-0.079,0.587-0.354,0.638-0.694c0.303-2.042,2.088-3.582,4.152-3.582c1.425,0,2.321,0.299,3.102,1.502c0.132,0.205,0.768,0.762,1.009,0.796c0.039,0.006,0.117,0.008,0.117,0.008c0.202,0,0.398-0.072,0.554-0.208c0.307-0.269,0.699-0.417,1.104-0.417c0.928,0,1.683,0.755,1.682,1.691l-0.005,0.062c-0.018,0.398,0.246,0.754,0.632,0.853c1.116,0.286,1.896,1.289,1.896,2.44C18.409,9.709,17.277,10.841,15.887,10.841 M15.045,14.205c-0.116,0-0.221,0.047-0.297,0.123l-2.522,2.522c-0.076,0.076-0.123,0.181-0.123,0.297c0,0.232,0.188,0.421,0.42,0.421c0.116,0,0.221-0.047,0.298-0.123l2.522-2.523c0.076-0.075,0.123-0.181,0.123-0.297C15.466,14.394,15.277,14.205,15.045,14.205\"></path>\n\t\t\t\t\t\t</svg>\n\n          <span class=\"mx-4\">Dev Tools</span>\n        </div>\n\n\n\n    <div\n      @click=\"clickedButton('undock')\"\n      class=\"flex items-center mt-4 py-2 px-6 border-l-4  bg-yellow-500 text-black  cursor-pointer\"\n      :class=\"(activePanel == 'undock') ? activeClass : inactiveClass\"\n    >\n\n\n\n    <svg class=\"svg-icon\" viewBox=\"0 0 20 20\">\n  \t\t\t\t\t\t\t<path style=\"fill:#111\" d=\"M11.739,13.962c-0.087,0.086-0.199,0.131-0.312,0.131c-0.112,0-0.226-0.045-0.312-0.131l-3.738-3.736c-0.173-0.173-0.173-0.454,0-0.626l3.559-3.562c0.173-0.175,0.454-0.173,0.626,0c0.173,0.172,0.173,0.451,0,0.624l-3.248,3.25l3.425,3.426C11.911,13.511,11.911,13.789,11.739,13.962 M18.406,10c0,4.644-3.763,8.406-8.406,8.406S1.594,14.644,1.594,10S5.356,1.594,10,1.594S18.406,5.356,18.406,10 M17.521,10c0-4.148-3.373-7.521-7.521-7.521c-4.148,0-7.521,3.374-7.521,7.521c0,4.148,3.374,7.521,7.521,7.521C14.147,17.521,17.521,14.148,17.521,10\"></path>\n  \t\t\t\t\t\t</svg>\n\n\n    <span class=\"mx-4\">Undock</span>\n  </div>\n\n\n\n\n\n  </div>\n\n</div>\n</template>\n\n\n<script>\n\n\n\n\nimport UnitHelper from '../../../../shared/lib/UnitHelper'\n\nimport GalaxyHelper from '../../../../shared/lib/GalaxyHelper'\n\nimport { defineComponent, ref } from \"vue\";\n\n\nconst activeClass = \"bg-blue-600 bg-opacity-25 text-gray-100 border-gray-100 text-gray-200\"\n\nconst inactiveClass =   \"border-gray-900   hover:bg-gray-600 hover:bg-opacity-25 hover:text-gray-100\"\n\nconst buttons = ['dashboard', 'market', 'ships', 'inventory']\n\nexport default {\n  setup()\n  {\n\n\n  },\n\n\n  name: 'StationPanel',\n  props: ['buttonClickedCallback'],\n  data() {\n    return {\n      myPlayer: null,\n      activePanel: 'hangar'\n    }\n  },\n  created(){\n\n    this.activeClass= activeClass,\n    this.inactiveClass= inactiveClass\n  },\n  methods: {\n\n\n    setHidden: function(hidden){\n        this.hidden=hidden\n        console.log('station panel is hidden: ', hidden)\n    },\n\n    clickedButton: function(buttonName)\n    {\n      //bubble out to a callback\n      this.buttonClickedCallback(buttonName)\n    },\n\n   \n    setActivePanel: function(panelName)\n    {\n\n      this.activePanel= panelName\n\n    }\n\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=749e2cfd&\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"scroll-left\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.scrollingText))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n\n  <div class=\"scroll-left\">\n  <p> {{scrollingText}}</p>\n  </div>\n\n</div>\n</template>\n\n\n<style style=\"text/css\">\n.scroll-left {\n height: 30px;\n overflow: hidden;\n position: relative;\n color: orange;\n}\n.scroll-left p {\n position: absolute;\n\n height: 100%;\n margin: 0;\n line-height: 30px;\n text-align: center;\n /* Starting position */\n -moz-transform:translateX(100%);\n -webkit-transform:translateX(100%);\n transform:translateX(100%);\n /* Apply animation to this element */\n -moz-animation: scroll-left 15s linear infinite;\n -webkit-animation: scroll-left 15s linear infinite;\n animation: scroll-left 15s linear infinite;\n}\n/* Move it (define the animation) */\n@-moz-keyframes scroll-left {\n 0%   { -moz-transform: translateX(100%); }\n 100% { -moz-transform: translateX(-100%); }\n}\n@-webkit-keyframes scroll-left {\n 0%   { -webkit-transform: translateX(100%); }\n 100% { -webkit-transform: translateX(-100%); }\n}\n@keyframes scroll-left {\n 0%   {\n -moz-transform: translateX(100%); /* Browser bug fix */\n -webkit-transform: translateX(100%); /* Browser bug fix */\n transform: translateX(100%);\n }\n 100% {\n -moz-transform: translateX(-100%); /* Browser bug fix */\n -webkit-transform: translateX(-100%); /* Browser bug fix */\n transform: translateX(-100%);\n }\n}\n</style>\n\n\n\n\n\n\n<script>\n\n\n\nexport default {\n\n\n\n  name: 'Header',\n  props: [ ],\n  data() {\n    return {\n      scrollingText: \"BREAKING: The Imperial Legion of Satoshi's Children has sent a patrol of starships to the Badlands. \"\n    }\n  },\n  methods: {\n\n\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=7709a236&\"\nimport script from \"./Header.vue?vue&type=script&lang=js&\"\nexport * from \"./Header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&style=text%2Fcss&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.hidden)?_c('div',{staticClass:\"absolute p-0 m-0\",staticStyle:{\"background\":\"#111e\",\"width\":\"70%\",\"height\":\"70%\",\"margin\":\"auto\",\"top\":\"0\",\"left\":\"0\",\"bottom\":\"0\",\"right\":\"0\"}},[_c('div',{staticClass:\"flex flex-col m-4 p-4 h-full text-white\",staticStyle:{\"margin\":\"auto\"}},[_c('div',{staticClass:\"flex-3 m-4 p-4 bg-blue-800  text-white capitalize\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.getTitle())+\"\\n\\n                  \"),_c('div',{staticClass:\"float-right p-2 bg-gray-800 rounded cursor-pointer hover:bg-gray-600\",on:{\"click\":function($event){return _vm.setHidden(true)}}},[_vm._v(\"  Close \")])]),_c('div',{staticClass:\"flex-1 m-4 p-4 bg-blue-900 text-white relative \"},[(_vm.activeForm == 'makeMarketOrder')?_c('OrderForm',{attrs:{\"targetData\":_vm.targetData,\"formSubmittedCallback\":_vm.formSubmittedCallback}}):_vm._e(),(_vm.activeForm == 'salvageItem')?_c('SalvageItemForm',{attrs:{\"targetData\":_vm.targetData,\"formSubmittedCallback\":_vm.formSubmittedCallback}}):_vm._e(),(_vm.activeForm == 'trashItem')?_c('TrashItemForm',{attrs:{\"targetData\":_vm.targetData,\"formSubmittedCallback\":_vm.formSubmittedCallback}}):_vm._e(),(_vm.activeForm == 'destackItem')?_c('DestackItemForm',{attrs:{\"targetData\":_vm.targetData,\"formSubmittedCallback\":_vm.formSubmittedCallback}}):_vm._e(),(_vm.activeForm == 'produceItem')?_c('ProductionForm',{attrs:{\"targetData\":_vm.targetData,\"formSubmittedCallback\":_vm.formSubmittedCallback}}):_vm._e()],1)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.itemToSell)?_c('form',{staticClass:\"w-full max-w-lg\"},[_c('div',{staticClass:\"flex flex-wrap -mx-3 mb-6\"},[_c('div',{staticClass:\"w-full md:w-1/2 px-3 mb-6 md:mb-0\"},[_c('label',{staticClass:\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\",attrs:{\"for\":\"grid-first-name\"}},[_vm._v(\"\\n        Item Name\\n      \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.itemToSell.name ),expression:\"itemToSell.name \"}],staticClass:\"appearance-none  block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\",attrs:{\"disabled\":\"\",\"type\":\"text\"},domProps:{\"value\":(_vm.itemToSell.name )},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.itemToSell, \"name\", $event.target.value)}}}),_c('p',{staticClass:\" hidden text-red-500 text-xs italic\"},[_vm._v(\"Please fill out this field.\")])]),_c('div',{staticClass:\"w-full md:w-1/2 px-3\"},[_c('label',{staticClass:\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\",attrs:{\"for\":\"grid-last-name\"}},[_vm._v(\"\\n        Quantity To Sell\\n      \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.quantityToSell),expression:\"quantityToSell\"}],staticClass:\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.quantityToSell)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.quantityToSell=$event.target.value}}})])]),_c('div',{staticClass:\"flex flex-wrap -mx-3 mb-6\"},[_c('div',{staticClass:\"w-full md:w-1/2 px-3\"},[_c('label',{staticClass:\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\",attrs:{\"for\":\"grid-password\"}},[_vm._v(\"\\n        Price per Unit (\"+_vm._s(this.currencyName)+\")\\n      \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pricePerUnit),expression:\"pricePerUnit\"}],staticClass:\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.pricePerUnit)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.pricePerUnit=$event.target.value}}})]),_c('div',{staticClass:\"w-full md:w-1/2 px-3\"},[_c('label',{staticClass:\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\",attrs:{\"for\":\"grid-password\"}},[_vm._v(\"\\n        Total Price\\n      \")]),_c('div',{staticClass:\"appearance-none  block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\",attrs:{\"type\":\"text\"}},[_vm._v(_vm._s(_vm.totalPrice()))])])]),_c('div',[_c('button',{staticClass:\"float-right bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline cursor-pointer hover:bg-yellow-500\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.submit}},[_vm._v(\"\\n        Create Sell Order\\n      \")])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div >\n\n\n    <form class=\"w-full max-w-lg\"  v-if=\"itemToSell\" >\n  <div class=\"flex flex-wrap -mx-3 mb-6\">\n    <div class=\"w-full md:w-1/2 px-3 mb-6 md:mb-0\">\n      <label class=\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\" for=\"grid-first-name\">\n        Item Name\n      </label>\n      <input disabled class=\"appearance-none  block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\"  type=\"text\" v-model=\"itemToSell.name \">\n      <p class=\" hidden text-red-500 text-xs italic\">Please fill out this field.</p>\n    </div>\n    <div class=\"w-full md:w-1/2 px-3\">\n      <label class=\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\" for=\"grid-last-name\">\n        Quantity To Sell\n      </label>\n      <input class=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"  type=\"text\" v-model=\"quantityToSell\">\n    </div>\n  </div>\n  <div class=\"flex flex-wrap -mx-3 mb-6\">\n    <div class=\"w-full md:w-1/2 px-3\">\n      <label class=\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\" for=\"grid-password\">\n        Price per Unit ({{this.currencyName}})\n      </label>\n      <input class=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"  type=\"text\"  v-model=\"pricePerUnit\">\n\n    </div>\n    <div class=\"w-full md:w-1/2 px-3\">\n      <label class=\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\" for=\"grid-password\">\n        Total Price\n      </label>\n      <div  class=\"appearance-none  block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\"  type=\"text\"  >{{totalPrice() }}</div>\n\n    </div>\n  </div>\n\n  <div >\n     <button @click=\"submit\" class=\"float-right bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline cursor-pointer hover:bg-yellow-500\" type=\"button\">\n        Create Sell Order\n      </button>\n  </div>\n\n</form>\n\n  </div>\n</template>\n\n\n<script>\n\n\n\n\nimport GalaxyHelper from '../../../../shared/lib/GalaxyHelper'\n\nconst web3connectionconfig = require('../../../../shared/contracts/web3connection.config')\n\nexport default {\n\n\n  name: 'OrderForm',\n  props: ['formSubmittedCallback','targetData'],\n  components: {\n\n  },\n  data() {\n    return {\n      itemToSell: null,\n      quantityToSell: 0,\n      pricePerUnit: 0,\n      currencyName: \"\"\n\n    }\n  },\n  created()\n  {\n    this.itemToSell = this.targetData.item\n    this.quantityToSell = this.itemToSell.stackQuantity\n\n\n    this.currencyName = web3connectionconfig.tokenName\n  },\n  methods: {\n\n\n\n    submit: function()\n    {\n\n\n      let formData = {\n        requestType: 'makeMarketOrder',\n        item: this.itemToSell,\n        quantity: this.quantityToSell,\n        pricePerUnit: this.pricePerUnit\n\n      }\n\n      this.formSubmittedCallback( formData  )\n\n\n\n      this.reset()\n\n    },\n    reset: function()\n    {\n      this.quantity=0;\n      this.pricePerUnit=0;\n    },\n\n    totalPrice: function(){\n      if( this.pricePerUnit && this.quantityToSell){\n        return  ( parseFloat(this.pricePerUnit) * parseFloat(this.quantityToSell) ).toFixed(8)\n      }\n      return '?'\n    }\n\n\n\n \n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderForm.vue?vue&type=template&id=78e8e322&\"\nimport script from \"./OrderForm.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.targetData)?_c('form',{staticClass:\"w-full max-w-lg\"},[_c('div',{staticClass:\"flex flex-wrap   \"},[_c('div',{staticClass:\"w-1/2\"},[_c('div',[_vm._v(\" Input \")]),_c('ItemList',{attrs:{\"itemArray\":_vm.inputItemArray,\"rightClickRowCallback\":_vm.rightClickRowCallback,\"context\":\"salvage\"}}),_vm._m(0),_c('div',{staticClass:\" hidden w-full   px-3\"},[_c('label',{staticClass:\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\",attrs:{\"for\":\"grid-last-name\"}},[_vm._v(\"\\n        Quantity To Salvage\\n      \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.quantityToSalvage),expression:\"quantityToSalvage\"}],staticClass:\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",attrs:{\"disabled\":\"\",\"type\":\"text\"},domProps:{\"value\":(_vm.quantityToSalvage)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.quantityToSalvage=$event.target.value}}})])],1),_c('div',{staticClass:\"w-1/2\"},[_c('div',[_vm._v(\" Output \")]),_c('ItemList',{attrs:{\"itemArray\":_vm.outputItemArray,\"rightClickRowCallback\":_vm.rightClickRowCallback,\"context\":\"salvage\"}})],1)]),_c('div',{staticClass:\"mt-4\"},[_c('button',{staticClass:\"float-right bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline cursor-pointer hover:bg-yellow-500\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.submit}},[_vm._v(\"\\n        Salvage Items\\n      \")])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hidden w-full  px-3 mb-6 md:mb-0\"},[_c('label',{staticClass:\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\",attrs:{\"for\":\"grid-first-name\"}},[_vm._v(\"\\n        Item Name\\n      \")]),_c('input',{staticClass:\"appearance-none  block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\",attrs:{\"disabled\":\"\",\"type\":\"text\"}}),_c('p',{staticClass:\" hidden text-red-500 text-xs italic\"},[_vm._v(\"Please fill out this field.\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-1  text-white  text-xs\"},[(!_vm.items )?_c('div',[_c('div',{staticClass:\"px-2\"},[_vm._v(\" ? \")])]):_vm._e(),(_vm.items && _vm.items.length ==0)?_c('div',[_c('div',{staticClass:\"px-2\"},[_vm._v(\"Empty\")])]):_vm._e(),(_vm.items && _vm.items.length >0)?_c('div',_vm._l((_vm.items),function(item){return _c('div',{key:item._id,staticClass:\"w-full cursor-pointer\",on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"right\",39,$event.key,[\"Right\",\"ArrowRight\"])){ return null; }if('button' in $event && $event.button !== 2){ return null; }return _vm.onRowClicked(item)}}},[_c('div',{staticClass:\"w-3/4 inline-block px-2 truncate\",staticStyle:{\"line-height\":\"normal\"}},[_vm._v(\" \"+_vm._s(item.name)+\"  \")]),_c('div',{staticClass:\"w-1/4 text-right inline-block px-2\",staticStyle:{\"line-height\":\"normal\"}},[_vm._v(\" \"+_vm._s(item.stackQuantity)+\" \")])])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"my-1  text-white  text-xs\"   >\n\n    <div v-if=\"!items \"><div class=\"px-2\"> ? </div></div>\n      <div v-if=\"items && items.length ==0\"><div class=\"px-2\">Empty</div></div>\n\n    <div v-if=\"items && items.length >0\">\n\n      <div class=\"w-full cursor-pointer\" v-for=\"item in items\" :key=\"item._id\"  @mousedown.right=\"onRowClicked(item)\"  >\n\n        <div class=\"w-3/4 inline-block px-2 truncate\" style=\"line-height: normal;\"> {{item.name}}  </div>\n        <div class=\"w-1/4 text-right inline-block px-2\"  style=\"line-height: normal;\"> {{item.stackQuantity}} </div>\n      </div>\n\n\n\n    </div>\n\n\n  </div>\n</template>\n\n<style>\n\n\n</style>\n\n\n\n<script>\nimport * as THREE from 'three'\n\nimport ItemHelper from '../../../shared/lib/ItemHelper'\n\n\nexport default {\n  name: 'ItemList',\n  props: [ 'itemArray','rightClickRowCallback' ,'context'],\n  data() {\n    return {\n      hidden: false,\n      items: []\n\n    }\n  },\n  created()\n  {\n   this.rebuild(this.itemArray)\n  },\n   watch: {\n      \titemArray: function(newVal, oldVal) { // watch it\n           this.rebuild( newVal )\n        }\n      },\n  methods: {\n\n  rebuild: function( itemsArray ){\n\n    if(!itemsArray){\n      this.items = null\n      return\n    }\n\n\n\n    this.items = []\n    if(itemsArray){\n      for(var i in itemsArray){\n\n        console.log('rebuild', itemsArray[i])\n\n          let itemTypeData = ItemHelper.getItemTypeByInternalName(itemsArray[i].internalName)\n\n\n          itemsArray[i].name = itemTypeData.name\n\n          this.items.push( itemsArray[i] )\n        //  console.log('push', itemsArray[i])\n      }\n\n    }\n\n  },\n\n    onRowClicked: function(item)\n    {\n        console.log('on row clicked ')\n  \n         this.rightClickRowCallback({item:item,itemType:'item', context: this.context})\n\n    },\n\n\n    setHidden: function(hidden){\n        this.hidden=hidden\n\n    },\n\n\n    onClick: function( ){\n      this.clickedCallback(   )\n    }\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemList.vue?vue&type=template&id=0c3921b2&\"\nimport script from \"./ItemList.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div >\n\n\n    <form class=\"w-full max-w-lg\"  v-if=\"targetData\" >\n  <div class=\"flex flex-wrap   \">\n    <div class=\"w-1/2\">\n\n        <div> Input </div>\n\n      <ItemList\n      v-bind:itemArray=\"inputItemArray\"\n      v-bind:rightClickRowCallback=\"rightClickRowCallback\"\n       context=\"salvage\"\n      />\n\n\n    <div class=\"hidden w-full  px-3 mb-6 md:mb-0\">\n      <label class=\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\" for=\"grid-first-name\">\n        Item Name\n      </label>\n      <input disabled class=\"appearance-none  block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\"  type=\"text\"  >\n      <p class=\" hidden text-red-500 text-xs italic\">Please fill out this field.</p>\n    </div>\n    <div class=\" hidden w-full   px-3\">\n      <label class=\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\" for=\"grid-last-name\">\n        Quantity To Salvage\n      </label>\n      <input disabled class=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"  type=\"text\" v-model=\"quantityToSalvage\">\n    </div>\n\n      </div>\n      <div class=\"w-1/2\">\n          <div> Output </div>\n\n\n          <ItemList\n          v-bind:itemArray=\"outputItemArray\"\n          v-bind:rightClickRowCallback=\"rightClickRowCallback\"\n           context=\"salvage\"\n          />\n\n        </div>\n  </div>\n\n\n  <div class=\"mt-4\" >\n     <button @click=\"submit\" class=\"float-right bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline cursor-pointer hover:bg-yellow-500\" type=\"button\">\n        Salvage Items\n      </button>\n  </div>\n\n</form>\n\n  </div>\n</template>\n\n\n<script>\n\n\n\n\nimport GalaxyHelper from '../../../../shared/lib/GalaxyHelper'\n\nimport ItemList from '../../components/ItemList'\n\nimport SalvageHelper from '../../../../shared/lib/SalvageHelper'\n\nconst web3connectionconfig = require('../../../../shared/contracts/web3connection.config')\n\nexport default {\n\n\n  name: 'SalvageItemForm',\n  props: ['formSubmittedCallback','targetData'],\n  components: {\n    ItemList\n  },\n  data() {\n    return {\n      inputItemArray: null,\n\n      quantityToSalvage: 0,\n      outputItemArray: null\n\n    }\n  },\n  created()\n  {\n    this.rebuild()\n  },\n\n  watch: {\n   quantityToSalvage: function (val) {\n       this.rebuild()\n   }\n },\n\n  methods: {\n\n    rightClickRowCallback: function(){\n\n    },\n\n    rebuild: function(){\n\n        this.outputItemArray=null\n\n       this.inputItemArray = []\n\n        let firstItem = this.targetData.item\n\n\n\n        this.inputItemArray.push(firstItem)\n\n      //  this.quantityToSalvage = this.targetData.stackQuantity\n\n      console.log('rebuild', this.targetData )\n\n        this.outputItemArray=[]\n        for(var inputItem of this.inputItemArray)  {\n\n\n          if(inputItem && !isNaN(inputItem.stackQuantity) && parseInt(inputItem.stackQuantity) >=1 ){\n            let baseOutput = SalvageHelper.getItemsOutputForSalvaging(  inputItem  )\n\n\n            if(baseOutput){\n\n\n\n              for(var row of baseOutput){\n                row.stackQuantity = row.quantity * parseInt(inputItem.stackQuantity);\n\n                this.outputItemArray.push(row)\n              }\n            }\n\n\n          }\n\n        }\n\n\n\n\n    },\n\n    submit: function()\n    {\n\n\n      let formData = {\n        requestType: 'salvageItem',\n        item: this.targetData.item,\n        quantity: this.quantityToSalvage\n\n      }\n\n      this.formSubmittedCallback( formData  )\n\n\n\n      this.reset()\n\n    },\n    reset: function()\n    {\n      this.itemToSalvage=null;\n      this.quantityToSalvage=0;\n    },\n\n\n\n\n\n\n\n  }\n\n}\n</script>\n","<template>\n  <div class=\"p12\" v-if=\"activeStationPanel=='inventory'\" >\n\n    <div class=\"text-lg\"> Inventory   </div>\n\n\n    <ItemTable\n      v-bind:itemCompoundList=\"itemCompoundList\"\n      v-bind:rightClickRowCallback=\"rightClickRowCallback\"\n      context='inventory'\n\n    />\n\n\n\n\n  </div>\n</template>\n\n\n<script>\n\n\n\n\nimport GalaxyHelper from '../../../shared/lib/GalaxyHelper'\n\n\nimport ItemHelper from '../../../shared/lib/ItemHelper'\n\nimport ItemTable from '../components/ItemTable'\n\n\nvar requestTimer;\nexport default {\n\n\n  name: 'InventoryPanel',\n  props: ['rightClickRowCallback','dataRequestCallback','stationUnitId','activeStationPanel'],\n  components: {\n    ItemTable\n  },\n  data() {\n    return {\n      itemCompoundList: [],\n      focusedRowId: null,\n\n      needsUpdate: false\n    }\n  },\n  created(){\n      this.requestItemsFromAPI()\n      requestTimer = setInterval( this.requestItemsFromAPI, 5000 )\n  },\n  beforeDestroy(){\n\n      clearInterval( requestTimer )\n  },\n  methods: {\n\n\n\n  /*  clickedButton: function(buttonName)\n    {\n\n\n    },\n\n    onRowClicked: function(item)\n    {\n        console.log('on row clicked ')\n\n\n\n         this.rightClickRowCallback({item: item, itemType:'item', context:'inventory'})\n\n    },*/\n\n\n    inventoryDataChanged: function(inventoryData)\n    {\n      this.itemCompoundList = null\n        var itemRows = []\n\n        for(var i in inventoryData)\n        {\n          try{\n\n            let typedata = ItemHelper.getItemTypeByInternalName(inventoryData[i].internalName)\n\n            //  console.log('got inv type ', typedata)\n\n            let row = {\n              name: typedata.name,\n              internalName: typedata.internalName,\n              volume: typedata.volume,\n              totalVolume: typedata.volume*inventoryData[i].stackQuantity,\n              stackQuantity: inventoryData[i].stackQuantity,\n              _id: inventoryData[i]._id\n\n            }\n\n             itemRows.push(row)\n\n          }catch(e){\n            console.log(e)\n          }\n\n        }\n\n        this.itemCompoundList = {inventory: itemRows}\n\n\n    },\n\n\n    setActiveForm: function(formName)\n    {\n\n      this.activeForm = formName\n\n    },\n\n    setNeedsUpdate: function(needs){\n      this.needsUpdate = needs\n      this.requestItemsFromAPI()\n    },\n\n    requestItemsFromAPI: async function()\n    {\n      if(this.activeStationPanel == 'inventory' || this.needsUpdate) {\n        this.needsUpdate=false\n        console.log('request items from api ')\n        console.log('this.activeStationPanel',this.activeStationPanel)\n        var results = await this.dataRequestCallback({\n          requestType:'inventory',\n        containerEncapsulatingUnitId: this.stationUnitId//,\n      //  containerOwnerPublicAddress:\n      })\n\n        this.inventoryDataChanged(results.data)\n      }\n\n\n    },\n\n    onReceivedDataRequestResponse: function( response){\n\n      //improves the snappiness of the hangar tab\n      console.log('on re', response )\n\n      if(response.requestType == 'destackItem'\n      ||  response.requestType == 'trashItem'\n      ||  response.requestType == 'stackAll'\n      ||  response.requestType == 'salvageItem'\n      ||  response.requestType == 'makeMarketOrder'\n      ){\n          this.setNeedsUpdate(true)\n      }\n\n    }\n\n\n\n\n\n  }\n\n}\n</script>\n","<template>\n  <div v-if=\"activeStationPanel=='hangar'\" >\n\n\n\n    <div v-if=\"!subPanel\" class=\"flex\">\n\n      <div class=\"w-1/2\">\n\n      <div class=\"text-lg\"> Hangar   </div>\n\n      <table class=\"table-fixed text-xs text-gray-100 mt-4 border-t-0 border-b-0\"   >\n\n        <thead>\n         <tr>\n            <th class=\"px-1 py-1\">Icon</th>\n           <th class=\"px-1 py-1\">Base type</th>\n           <th class=\"px-1 py-1\">Volume (m3)</th>\n           <th class=\"px-1 py-1\">Est. Value</th>\n         </tr>\n       </thead>\n       <tbody>\n        <tr v-for=\"ship in shipRows\" v-bind:key=\"ship._id\"  @mousedown.right=\"onRowClicked(ship)\" class=\"cursor-pointer\" :class=\"{'bg-blue-700': (myPossessedUnit._id == ship._id)}\">\n          <td class=\"border px-4 py-4 text-right border-gray-700\">   </td>\n\n          <td class=\"border px-4 py-4 capitalize  border-gray-700 \" > {{ ship.basetype }}</td>\n\n\n\n        </tr>\n      </tbody>\n\n      </table>\n\n\n    </div>\n    <div class=\"w-1/2 text-sm\">\n\n      <div v-if=\"canRequestStarterShip()\">\n\n       <p>  You seem to have lost your ship.   You may board a new ship requisitoned from your home system.  </p>\n\n        <div @click=\"clickedButton('boardStarterShip')\" class=\"cursor-pointer m-2 p-1 bg-yellow-500 text-black text-sm inline-block\">  Board My Corvette </div>\n\n\n      </div>\n\n    </div>\n\n    </div>\n\n      <div v-if=\"subPanel\">\n        <div class=\"p-1 m-1 text-sm cursor-pointer bg-yellow-500 text-black rounded  inline\" @click=\"clickedButton('closeSubpanel')\"> Back </div>\n\n          <HangarCargoPanel\n            v-bind:subPanel=\"subPanel\"\n            v-bind:focusedShip=\"focusedShip\"\n            v-bind:dataRequestCallback=\"dataRequestCallback\"\n            v-bind:stationUnitId=\"stationUnitId\"\n            v-bind:rightClickRowCallback=\"rightClickRowCallback\"\n            ref=\"hangarcargopanel\"\n            />\n\n            <HangarFittingPanel\n              v-bind:subPanel=\"subPanel\"\n            v-bind:focusedShip=\"focusedShip\"\n            v-bind:dataRequestCallback=\"dataRequestCallback\"\n            v-bind:stationUnitId=\"stationUnitId\"\n            v-bind:rightClickRowCallback=\"rightClickRowCallback\"\n            ref=\"hangarfittingpanel\"\n            />\n\n      </div>\n\n\n  </div>\n</template>\n\n\n<script>\n\n\n/*\nthere will be submenu panels in here for :\n\ncargo inside of ship\nfitting\n\n*/\n\nimport HangarCargoPanel from './hangar/HangarCargoPanel'\nimport HangarFittingPanel from './hangar/HangarFittingPanel'\n\nimport GalaxyHelper from '../../../shared/lib/GalaxyHelper'\n\nvar requestTimer;\nexport default {\n\n\n  name: 'HangarPanel',\n  props: ['stationPanelIsHidden','rightClickRowCallback','dataRequestCallback','stationUnitId','myPossessedUnit','activeStationPanel'],\n  components: {\n    HangarCargoPanel,HangarFittingPanel\n  },\n  data() {\n    return {\n      shipRows: [],\n\n      needsUpdate: false,\n      subPanel: null,\n      focusedShip: null\n\n    }\n  },\n  mounted(){\n      this.update()\n      requestTimer = setInterval( this.update, 5000 )\n  },\n  beforeDestroy(){\n\n      clearInterval( requestTimer )\n  },\n  methods: {\n\n\n\n    clickedButton: async function(buttonName)\n    {\n      if(buttonName == 'closeSubpanel'){\n          this.subPanel=null\n      }\n\n\n      if(buttonName == 'boardStarterShip'){\n\n        let result = await this.dataRequestCallback({\n          requestType:'boardStarterShip'\n        })\n\n        console.log('result' , result)\n\n      }\n\n    },\n\n    onRowClicked: function(ship)\n    {\n        console.log('on row clicked ')\n\n\n\n         this.rightClickRowCallback({item: ship, itemType:'ship', context:'hangar'})\n\n    },\n\n    setNeedsUpdate: function(needs){\n      this.needsUpdate = needs\n      this.update()\n    },\n\n    update: async function()\n    {\n    //  console.log('requestShipsFromAPI ',this.activeStationPanel)\n\n      console.log('this.stationPanelIsHidden', this.stationPanelIsHidden)\n        if(this.stationPanelIsHidden){\n          return\n        }\n\n      if(this.activeStationPanel == 'hangar' || this.needsUpdate) {\n        this.needsUpdate=false\n\n          console.log('  this.$refs',  this.$refs)\n\n        if(this.subPanel=='hangarCargo' && this.$refs.hangarcargopanel){\n              this.$refs.hangarcargopanel.update()\n        }\n        if(this.subPanel=='hangarFitting' && this.$refs.hangarfittingpanel){\n\n              this.$refs.hangarfittingpanel.update()\n        }\n\n\n\n        var results = await this.requestShipsFromAPI()\n\n        this.shipDataChanged(results.data)\n      }\n\n\n    },\n\n    requestShipsFromAPI: async function()\n    {\n\n        console.log('request ships from api ')\n        console.log('this.activeStationPanel',this.activeStationPanel)\n\n        let results = await this.dataRequestCallback({\n          requestType:'dockedships',\n          dockedInUnitId: this.stationUnitId\n        })\n\n          return results\n\n\n\n    },\n\n    shipDataChanged: function(shipsData)\n    {\n\n\n\n        this.shipRows = []\n\n        for(var ship of shipsData)\n        {\n\n          this.shipRows.push(ship)\n\n        }\n\n    },\n\n    setActiveForm: function(formName)\n    {\n\n      this.activeForm = formName\n\n    },\n\n    closeSubPanels: function(){\n      this.subPanel = null\n      this.focusedShip = null\n    },\n\n    openSubPanel: function(name, params){\n      if(name == 'hangarFitting'){\n        this.subPanel = name\n        this.focusedShip = params.item\n      }\n      if(name == 'hangarCargo'){\n        this.subPanel = name\n        this.focusedShip = params.item\n      }\n\n      console.log('open sub panel', name )\n\n      this.$nextTick(()=>{\n          this.setNeedsUpdate(true)\n        })\n\n\n\n    },\n\n    onReceivedDataRequestResponse: function( response){\n\n      //improves the snappiness of the hangar tab\n      console.log('on re', response )\n\n      if(response.requestType == 'unequipItemFromShip'\n      ||  response.requestType == 'equipItemToShip'\n      ||  response.requestType == 'moveItemToShip'\n      ||  response.requestType == 'moveItemToStation'\n\n      ){\n          this.setNeedsUpdate(true)\n      }\n\n    },\n\n    canRequestStarterShip: function(){\n\n      for(var ship of this.shipRows){\n\n        if(ship.basetype != 'capsule'){\n          return false\n        }\n      }\n\n      return true\n    }\n\n\n\n\n\n  }\n\n}\n</script>\n","<template>\n  <div class=\"my-1  text-white  text-xs overflow-hidden px-2\"   >\n\n    <div v-if=\"!items \"><div class=\"px-2\"> ? </div></div>\n      <div v-if=\"items && items.length ==0\"><div class=\"px-2\">Empty</div></div>\n\n    <div v-if=\"items  \">\n\n      <table class=\"table-auto text-xs text-gray-100 mt-4 border-t-0 border-b-0 w-full  px-2\"   >\n\n        <thead>\n         <tr>\n            <th class=\"px-1 py-1\">Slot</th>\n           <th class=\"px-1 py-1\">Name</th>\n\n            <th class=\"px-1 py-1\">Quantity </th>\n             <th class=\"px-1 py-1\">Status</th>\n\n\n\n         </tr>\n       </thead>\n       <tbody v-for=\"(array,key) in items\">\n\n           <th colspan=\"5\" class=\"bg-blue-400 p-2 text-black capitalize w-full\">  {{key}}   </th>\n          <tr v-for=\"item in array\" v-bind:key=\"item._id\"  @mousedown.right=\"onRowClicked(item)\" class=\"cursor-pointer\">\n\n                <td class=\"border px-4 py-4 text-right border-gray-700\"> {{ item.slotId }} </td>\n            <td class=\"border px-4 py-4 capitalize  border-gray-700 \" > {{ item.name }}</td>\n            <td class=\"border px-4 py-4 capitalize  border-gray-700 \" > {{ item.quantityToProduce }}</td>\n            <td class=\"border px-4 py-4 capitalize  border-gray-700 \" > {{ item.status }}</td>\n\n           </tr>\n\n      </tbody>\n\n      </table>\n\n    </div>\n\n\n  </div>\n</template>\n\n<style>\n\n\n</style>\n\n\n\n<script>\nimport * as THREE from 'three'\n\nimport ItemHelper from '../../../shared/lib/ItemHelper'\nimport ProductionHelper from '../../../shared/lib/ProductionHelper'\n\nvar updateTimer ;\n\nexport default {\n  name: 'ActiveProductionSlotsTable',\n  props: [ 'itemCompoundList','rightClickRowCallback' ,'context'],\n  data() {\n    return {\n      hidden: false,\n      items: []\n\n    }\n  },\n  created()\n  {\n    this.disabled = false;\n\n   this.rebuild(this.itemCompoundList)\n    updateTimer =  setInterval(this.updateSlotRenderStatus, 500)\n  },\n  beforeDestroy(){\n\n      clearInterval( updateTimer )\n  },\n   watch: {\n      \titemCompoundList: function(newVal, oldVal) { // watch it\n           this.rebuild( newVal )\n        }\n      },\n  methods: {\n\n  rebuild: function( itemCompoundList ){\n\n    if(!itemCompoundList  ){\n      this.items = null\n      return\n    }\n\n    let keys = Object.keys(  itemCompoundList )\n\n    if(!keys || keys.length ==0  ){\n      this.items = null\n      return\n    }\n\n\n    this.items = {}\n\n    for(var key of keys){\n      let slotsArray = itemCompoundList[key]\n\n      /*\n      productionslots [ { _id: 5f9203122900f81d48b6c1a4,\n          playerPublicAddress: '0x7132c9f36abe62eab74cdfdd08c154c9ae45691b',\n          stationUnitId: 5f91f8e2afa3f2115aad5d94,\n          producingItemTypeName: 'basicarmorplating',\n          quantityToProduce: 1,\n          startedAtUnixTime: 1603404562239,\n          status: 'complete',\n          childStackLockId: '71b2ea40a7bf9000',\n          quantityOutputToSpawn: 0 } ]\n\n      */\n\n\n\n  //    console.log('rebuild production slot   table', key ,  slotsArray)\n\n\n      if(slotsArray){\n        this.items[key] = []\n        for(var slot of slotsArray){\n\n\n\n           let itemTypeData = ItemHelper.getItemTypeByInternalName( slot.producingItemTypeName )\n\n           slot.name = itemTypeData.name\n           slot.internalName = itemTypeData.internalName\n\n           let currentTime = Date.now()\n\n           if(slot.status != 'complete' ){\n             let currentProductionTime = (  currentTime -  slot.startedAtUnixTime )\n             let timeToProduce = ProductionHelper.getTimeToProduce(slot)\n\n             //console.log('currentProductionTime' , currentProductionTime )\n\n            // console.log('timeToProduce' , timeToProduce )\n             let timeRemainingMs = ( timeToProduce - currentProductionTime   )\n\n             let timeRemainingSeconds = Math.max(  Math.floor(timeRemainingMs/1000) , 0 )\n             slot.status = timeRemainingSeconds + ' s'\n\n             if(timeRemainingSeconds == 0){\n                slot.status = \"finishing\"\n             }\n           }\n\n\n\n\n            this.items[key].push( slot )\n          //  console.log('push', itemsArray[i])\n        }\n\n      }\n\n\n\n    }//for each key\n\n\n\n\n  },\n\n      updateSlotRenderStatus:function(){\n           this.rebuild(this.itemCompoundList)\n      },\n\n    onRowClicked: function(item)\n    {\n\n\n         this.rightClickRowCallback({itemType:'productionSlot', item:item, context:this.context})\n\n    },\n\n\n    setHidden: function(hidden){\n        this.hidden=hidden\n\n    },\n\n\n    onClick: function( ){\n      this.clickedCallback(   )\n    }\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SalvageItemForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SalvageItemForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SalvageItemForm.vue?vue&type=template&id=0e5f8306&\"\nimport script from \"./SalvageItemForm.vue?vue&type=script&lang=js&\"\nexport * from \"./SalvageItemForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.targetData)?_c('form',{staticClass:\"w-full max-w-lg\"},[_c('div',{staticClass:\"flex flex-wrap   \"},[_c('div',{staticClass:\"w-1/2\"},[_c('div',{staticClass:\"w-full  px-3 mb-6 md:mb-0\"},[_c('label',{staticClass:\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\",attrs:{\"for\":\"grid-first-name\"}},[_vm._v(\"\\n        Item Name\\n      \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.itemToProduce.name ),expression:\"itemToProduce.name \"}],staticClass:\"appearance-none  block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\",attrs:{\"disabled\":\"\",\"type\":\"text\"},domProps:{\"value\":(_vm.itemToProduce.name )},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.itemToProduce, \"name\", $event.target.value)}}}),_c('p',{staticClass:\" hidden text-red-500 text-xs italic\"},[_vm._v(\"Please fill out this field.\")])]),_c('div',{staticClass:\"w-full   px-3\"},[_c('label',{staticClass:\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\",attrs:{\"for\":\"grid-last-name\"}},[_vm._v(\"\\n        Quantity To Produce\\n      \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.quantityToProduce),expression:\"quantityToProduce\"}],staticClass:\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.quantityToProduce)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.quantityToProduce=$event.target.value}}})])]),_c('div',{staticClass:\"w-1/2\"},[_c('div',[_vm._v(\" Input \")]),_c('ItemList',{attrs:{\"itemArray\":_vm.inputItemArray,\"rightClickRowCallback\":_vm.rightClickRowCallback,\"context\":\"production\"}})],1)]),_c('div',[_c('button',{staticClass:\"float-right bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline cursor-pointer hover:bg-yellow-500\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.submit}},[_vm._v(\"\\n        Produce Item\\n      \")])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div >\n\n\n    <form class=\"w-full max-w-lg\"  v-if=\"targetData\" >\n  <div class=\"flex flex-wrap   \">\n    <div class=\"w-1/2\">\n\n\n    <div class=\"w-full  px-3 mb-6 md:mb-0\">\n      <label class=\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\" for=\"grid-first-name\">\n        Item Name\n      </label>\n      <input disabled class=\"appearance-none  block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\"  type=\"text\" v-model=\"itemToProduce.name \">\n      <p class=\" hidden text-red-500 text-xs italic\">Please fill out this field.</p>\n    </div>\n    <div class=\"w-full   px-3\">\n      <label class=\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\" for=\"grid-last-name\">\n        Quantity To Produce\n      </label>\n      <input class=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"  type=\"text\" v-model=\"quantityToProduce\">\n    </div>\n\n      </div>\n      <div class=\"w-1/2\">\n          <div> Input </div>\n\n\n          <ItemList\n          v-bind:itemArray=\"inputItemArray\"\n          v-bind:rightClickRowCallback=\"rightClickRowCallback\"\n           context=\"production\"\n          />\n\n        </div>\n  </div>\n\n\n  <div >\n     <button @click=\"submit\" class=\"float-right bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline cursor-pointer hover:bg-yellow-500\" type=\"button\">\n        Produce Item\n      </button>\n  </div>\n\n</form>\n\n  </div>\n</template>\n\n\n<script>\nimport GalaxyHelper from '../../../../shared/lib/GalaxyHelper'\nimport ItemList from '../../components/ItemList'\nimport ProductionHelper from '../../../../shared/lib/ProductionHelper'\n\n\nexport default {\n  name: 'ProductionForm',\n  props: ['formSubmittedCallback','targetData'],\n  components: {\n    ItemList\n  },\n  data() {\n    return {\n      itemToProduce: null,\n      quantityToProduce: 1,\n      inputItemArray: null\n    }\n  },\n  created()\n  {\n    this.rebuild()\n  },\n  watch: {\n   quantityToProduce: function (val) {\n       this.rebuild()\n   }\n },\n  methods: {\n    rightClickRowCallback: function(){\n    },\n    rebuild: function(){\n        this.inputItemArray=null\n\n        this.itemToProduce = this.targetData.item   ///blueprint\n\n          console.log('rebuild', this.itemToProduce )\n\n        if(this.itemToProduce && !isNaN(this.quantityToProduce) && parseInt(this.quantityToProduce) >=1 ){\n\n            let baseInput = ProductionHelper.getItemsInputForProduction( this.itemToProduce )\n\n\n          console.log('baseinput', baseInput)\n          if(baseInput){\n                this.inputItemArray=[]\n            for(var row of baseInput){\n              row.stackQuantity = row.quantity * parseInt(this.quantityToProduce);\n              this.inputItemArray.push(row)\n            }\n          }\n        }\n    },\n    submit: function()\n    {\n      let formData = {\n        requestType: 'produceItem',\n        item: this.itemToProduce,\n        quantity: this.quantityToProduce\n      }\n      this.formSubmittedCallback( formData  )\n      this.reset()\n    },\n    reset: function()\n    {\n      this.itemToProduce=null;\n      this.quantityToProduce=0;\n    },\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductionForm.vue?vue&type=template&id=28ea7b98&\"\nimport script from \"./ProductionForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductionForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.targetData)?_c('form',{staticClass:\"w-full max-w-lg\"},[_c('div',{staticClass:\"flex flex-wrap   \"},[_c('div',{staticClass:\"w-1/2\"},[_c('div',{staticClass:\"  w-full  px-3 mb-6 md:mb-0\"},[_c('label',{staticClass:\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\",attrs:{\"for\":\"grid-first-name\"}},[_vm._v(\"\\n          Item Name\\n        \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.itemToTrash.internalName),expression:\"itemToTrash.internalName\"}],staticClass:\"appearance-none  block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\",attrs:{\"disabled\":\"\",\"type\":\"text\"},domProps:{\"value\":(_vm.itemToTrash.internalName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.itemToTrash, \"internalName\", $event.target.value)}}}),_c('p',{staticClass:\" hidden text-red-500 text-xs italic\"},[_vm._v(\"Please fill out this field.\")])]),_c('div',{staticClass:\"   w-full   px-3\"},[_c('label',{staticClass:\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\",attrs:{\"for\":\"grid-last-name\"}},[_vm._v(\"\\n          Quantity To Destroy\\n        \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.quantityToTrash),expression:\"quantityToTrash\"}],staticClass:\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.quantityToTrash)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.quantityToTrash=$event.target.value}}})])])]),_c('div',{staticClass:\"mt-4\"},[_c('button',{staticClass:\"float-right bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline cursor-pointer hover:bg-yellow-500\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.submit}},[_vm._v(\"\\n        Trash Items\\n      \")])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div >\n\n\n    <form class=\"w-full max-w-lg\"  v-if=\"targetData\" >\n  <div class=\"flex flex-wrap   \">\n    <div class=\"w-1/2\">\n\n      <div class=\"  w-full  px-3 mb-6 md:mb-0\">\n        <label class=\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\" for=\"grid-first-name\">\n          Item Name\n        </label>\n        <input disabled class=\"appearance-none  block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\"  type=\"text\" v-model=\"itemToTrash.internalName\" >\n        <p class=\" hidden text-red-500 text-xs italic\">Please fill out this field.</p>\n      </div>\n      <div class=\"   w-full   px-3\">\n        <label class=\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\" for=\"grid-last-name\">\n          Quantity To Destroy\n        </label>\n        <input   class=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"  type=\"text\" v-model=\"quantityToTrash\">\n      </div>\n\n\n\n      </div>\n\n  </div>\n\n\n  <div class=\"mt-4\" >\n     <button @click=\"submit\" class=\"float-right bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline cursor-pointer hover:bg-yellow-500\" type=\"button\">\n        Trash Items\n      </button>\n  </div>\n\n</form>\n\n  </div>\n</template>\n\n\n<script>\n\n\n\n\nimport GalaxyHelper from '../../../../shared/lib/GalaxyHelper'\n\nimport ItemList from '../../components/ItemList'\n\n\n\nexport default {\n\n\n  name: 'TrashItemForm',\n  props: ['formSubmittedCallback','targetData'],\n  components: {\n    ItemList\n  },\n  data() {\n    return {\n      itemToTrash: null,\n      quantityToTrash: 0\n    }\n  },\n  created()\n  {\n    this.itemToTrash= this.targetData.item\n  },\n\n\n  methods: {\n\n\n    submit: function()\n    {\n\n\n      let formData = {\n        requestType: 'trashItem',\n        item: this.itemToTrash,\n        quantity: this.quantityToTrash\n\n      }\n\n      this.formSubmittedCallback( formData  )\n\n\n\n      this.reset()\n\n    },\n    reset: function()\n    {\n\n    },\n\n\n\n\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrashItemForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrashItemForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TrashItemForm.vue?vue&type=template&id=63f0eeb6&\"\nimport script from \"./TrashItemForm.vue?vue&type=script&lang=js&\"\nexport * from \"./TrashItemForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.targetData)?_c('form',{staticClass:\"w-full max-w-lg\"},[_c('div',{staticClass:\"flex flex-wrap   \"},[_c('div',{staticClass:\"w-1/2\"},[_c('div',{staticClass:\"  w-full  px-3 mb-6 md:mb-0\"},[_c('label',{staticClass:\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\",attrs:{\"for\":\"grid-first-name\"}},[_vm._v(\"\\n            Item Name\\n          \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.itemToDestack.internalName),expression:\"itemToDestack.internalName\"}],staticClass:\"appearance-none  block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\",attrs:{\"disabled\":\"\",\"type\":\"text\"},domProps:{\"value\":(_vm.itemToDestack.internalName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.itemToDestack, \"internalName\", $event.target.value)}}}),_c('p',{staticClass:\" hidden text-red-500 text-xs italic\"},[_vm._v(\"Please fill out this field.\")])]),_c('div',{staticClass:\"   w-full   px-3\"},[_c('label',{staticClass:\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\",attrs:{\"for\":\"grid-last-name\"}},[_vm._v(\"\\n            Quantity To Separate\\n          \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.quantityToDestack),expression:\"quantityToDestack\"}],staticClass:\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.quantityToDestack)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.quantityToDestack=$event.target.value}}})])])]),_c('div',{staticClass:\"mt-4\"},[_c('button',{staticClass:\"float-right bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline cursor-pointer hover:bg-yellow-500\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.submit}},[_vm._v(\"\\n        Destack Items\\n      \")])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div >\n\n\n    <form class=\"w-full max-w-lg\"  v-if=\"targetData\" >\n  <div class=\"flex flex-wrap   \">\n    <div class=\"w-1/2\">\n\n\n\n        <div class=\"  w-full  px-3 mb-6 md:mb-0\">\n          <label class=\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\" for=\"grid-first-name\">\n            Item Name\n          </label>\n          <input disabled class=\"appearance-none  block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\"  type=\"text\" v-model=\"itemToDestack.internalName\" >\n          <p class=\" hidden text-red-500 text-xs italic\">Please fill out this field.</p>\n        </div>\n        <div class=\"   w-full   px-3\">\n          <label class=\"block uppercase tracking-wide text-gray-200 text-xs font-bold mb-2\" for=\"grid-last-name\">\n            Quantity To Separate\n          </label>\n          <input   class=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"  type=\"text\" v-model=\"quantityToDestack\">\n        </div>\n\n\n\n      </div>\n\n  </div>\n\n\n  <div class=\"mt-4\" >\n     <button @click=\"submit\" class=\"float-right bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline cursor-pointer hover:bg-yellow-500\" type=\"button\">\n        Destack Items\n      </button>\n  </div>\n\n</form>\n\n  </div>\n</template>\n\n\n<script>\n\n\n\n\nimport GalaxyHelper from '../../../../shared/lib/GalaxyHelper'\n\nimport ItemList from '../../components/ItemList'\n\n\n\nexport default {\n\n\n  name: 'UnstackitemForm',\n  props: ['formSubmittedCallback','targetData'],\n  components: {\n    ItemList\n  },\n  data() {\n    return {\n      itemToDestack: null,\n      quantityToDestack: 0\n\n\n\n    }\n  },\n  created()\n  {\n    this.itemToDestack= this.targetData.item\n\n\n  },\n\n\n\n  methods: {\n\n    rightClickRowCallback: function(){\n\n    },\n\n\n    submit: function()\n    {\n\n\n      let formData = {\n        requestType: 'destackItem',\n        item: this.itemToDestack,\n        quantity: this.quantityToDestack\n\n      }\n\n      this.formSubmittedCallback( formData  )\n\n\n\n      this.reset()\n\n    },\n    reset: function()\n    {\n\n    },\n\n\n\n\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DestackItemForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DestackItemForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DestackItemForm.vue?vue&type=template&id=045372ff&\"\nimport script from \"./DestackItemForm.vue?vue&type=script&lang=js&\"\nexport * from \"./DestackItemForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div  v-if=\"!hidden\" class=\"absolute p-0 m-0\" style=\"background:#111e; width:70%; height:70%; margin:   auto;top: 0; left: 0; bottom: 0; right: 0; \">\n\n      <div class=\"flex flex-col m-4 p-4 h-full text-white\" style=\"margin:auto\">\n\n\n\n            <div class=\"flex-3 m-4 p-4 bg-blue-800  text-white capitalize\"  >\n                  {{getTitle()}}\n\n                  <div class=\"float-right p-2 bg-gray-800 rounded cursor-pointer hover:bg-gray-600\" @click=\"setHidden(true)\">  Close </div>\n            </div>\n\n            <div class=\"flex-1 m-4 p-4 bg-blue-900 text-white relative \"   >\n\n                   <OrderForm\n                    v-if=\"activeForm == 'makeMarketOrder'\"\n                    v-bind:targetData='targetData'\n                    v-bind:formSubmittedCallback='formSubmittedCallback'\n                    />\n\n\n                    <SalvageItemForm\n                     v-if=\"activeForm == 'salvageItem'\"\n                     v-bind:targetData='targetData'\n                     v-bind:formSubmittedCallback='formSubmittedCallback'\n                     />\n\n                     <TrashItemForm\n                      v-if=\"activeForm == 'trashItem'\"\n                      v-bind:targetData='targetData'\n                      v-bind:formSubmittedCallback='formSubmittedCallback'\n                      />\n\n                      <DestackItemForm\n                       v-if=\"activeForm == 'destackItem'\"\n                       v-bind:targetData='targetData'\n                       v-bind:formSubmittedCallback='formSubmittedCallback'\n                       />\n\n\n                   <ProductionForm\n                    v-if=\"activeForm == 'produceItem'\"\n                    v-bind:targetData='targetData'\n                    v-bind:formSubmittedCallback='formSubmittedCallback'\n                    />\n\n            </div>\n\n\n      </div>\n</div>\n</template>\n\n\n<script>\n\n\n\n\nimport GalaxyHelper from '../../../../shared/lib/GalaxyHelper'\n\nimport OrderForm from './OrderForm.vue'\nimport SalvageItemForm from './SalvageItemForm.vue'\nimport ProductionForm from './ProductionForm.vue'\nimport TrashItemForm from './TrashItemForm.vue'\nimport DestackItemForm from './DestackItemForm.vue'\n\nimport UnitHelper from '../../../../shared/lib/UnitHelper'\n\nexport default {\n\n\n  name: 'ModalContainer',\n  props: ['formSubmittedCallback'],\n  components: {\n     OrderForm,SalvageItemForm,ProductionForm,TrashItemForm,DestackItemForm\n  },\n  data() {\n    return {\n      hidden: true,\n      myPlayer: null,\n      activeForm: null,\n      targetData: null\n\n    }\n  },\n  methods: {\n\n\n    setHidden: function(hidden){\n        this.hidden=hidden\n\n    },\n\n    getTitle: function()\n    {\n      switch(this.activeForm)\n      {\n        case 'makeMarketOrder': return 'Create Market Order'\n        case 'salvageItem': return 'Salvaging'\n\n        case 'produceItem': return 'Production'\n        case 'trashItem': return 'Trash'\n        case 'destackItem': return 'Destack'\n\n      }\n\n    },\n\n\n \n    setActiveForm: function(formName)\n    {\n\n      this.activeForm = formName\n\n    },\n\n    setTargetData: function(targetData)\n    {\n      this.targetData = targetData\n      console.log('target data is ', targetData)\n\n    }\n\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalContainer.vue?vue&type=template&id=6accbcd0&\"\nimport script from \"./ModalContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalContainer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.activeStationPanel=='inventory')?_c('div',{staticClass:\"p12\"},[_c('div',{staticClass:\"text-lg\"},[_vm._v(\" Inventory   \")]),_c('ItemTable',{attrs:{\"itemCompoundList\":_vm.itemCompoundList,\"rightClickRowCallback\":_vm.rightClickRowCallback,\"context\":\"inventory\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-1  text-white  text-xs overflow-hidden\"},[(!_vm.items )?_c('div',[_c('div',{staticClass:\"px-2\"},[_vm._v(\" ? \")])]):_vm._e(),(_vm.items && _vm.items.length ==0)?_c('div',[_c('div',{staticClass:\"px-2\"},[_vm._v(\"Empty\")])]):_vm._e(),(_vm.items  )?_c('div',[_c('table',{staticClass:\"table-fixed text-xs text-gray-100 mt-4 border-t-0 border-b-0\"},[_vm._m(0),_vm._l((_vm.items),function(array,key){return _c('tbody',[_c('th',{staticClass:\"bg-blue-400 p-2 text-black capitalize w-full\",attrs:{\"colspan\":\"5\"}},[_vm._v(\"  \"+_vm._s(key)+\"   \")]),_vm._l((array),function(item){return _c('tr',{key:item._id,staticClass:\"cursor-pointer\",on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"right\",39,$event.key,[\"Right\",\"ArrowRight\"])){ return null; }if('button' in $event && $event.button !== 2){ return null; }return _vm.onRowClicked(item)}}},[_c('td',{staticClass:\"border px-4 py-4 text-right border-gray-700\"}),_c('td',{staticClass:\"border px-4 py-4 capitalize  border-gray-700 \"},[_vm._v(\" \"+_vm._s(item.name))]),_c('td',{staticClass:\"border px-4 py-4 text-right border-gray-700\"},[_vm._v(\" \"+_vm._s(item.totalVolume)+\" \")]),_c('td',{staticClass:\"border px-4 py-4 text-right border-gray-700\"},[_vm._v(\" \"+_vm._s(item.stackQuantity)+\" \")])])})],2)})],2)]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Icon\")]),_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Name\")]),_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Volume (m3)\")]),_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Quantity\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"my-1  text-white  text-xs overflow-hidden\"   >\n\n    <div v-if=\"!items \"><div class=\"px-2\"> ? </div></div>\n      <div v-if=\"items && items.length ==0\"><div class=\"px-2\">Empty</div></div>\n\n    <div v-if=\"items  \">\n\n      <table class=\"table-fixed text-xs text-gray-100 mt-4 border-t-0 border-b-0\"   >\n\n        <thead>\n         <tr>\n            <th class=\"px-1 py-1\">Icon</th>\n           <th class=\"px-1 py-1\">Name</th>\n           <th class=\"px-1 py-1\">Volume (m3)</th>\n           <th class=\"px-1 py-1\">Quantity</th>\n\n         </tr>\n       </thead>\n       <tbody v-for=\"(array,key) in items\">\n\n           <th colspan=\"5\" class=\"bg-blue-400 p-2 text-black capitalize w-full\">  {{key}}   </th>\n          <tr v-for=\"item in array\" v-bind:key=\"item._id\"  @mousedown.right=\"onRowClicked(item)\" class=\"cursor-pointer\">\n            <td class=\"border px-4 py-4 text-right border-gray-700\">   </td>\n\n            <td class=\"border px-4 py-4 capitalize  border-gray-700 \" > {{ item.name }}</td>\n            <td class=\"border px-4 py-4 text-right border-gray-700\"> {{ item.totalVolume }} </td>\n            <td class=\"border px-4 py-4 text-right border-gray-700\"> {{ item.stackQuantity }} </td>\n           </tr>\n\n      </tbody>\n\n      </table>\n\n    </div>\n\n\n  </div>\n</template>\n\n<style>\n\n\n</style>\n\n\n\n<script>\nimport * as THREE from 'three'\n\nimport ItemHelper from '../../../shared/lib/ItemHelper'\n\n\nexport default {\n  name: 'ItemTable',\n  props: [ 'itemCompoundList','rightClickRowCallback' ,'context'],\n  data() {\n    return {\n      hidden: false,\n      items: []\n\n    }\n  },\n  created()\n  {\n   this.rebuild(this.itemCompoundList)\n  },\n   watch: {\n      \titemCompoundList: function(newVal, oldVal) { // watch it\n           this.rebuild( newVal )\n        }\n      },\n  methods: {\n\n  rebuild: function( itemCompoundList ){\n\n    if(!itemCompoundList  ){\n      this.items = null\n      return\n    }\n\n    let keys = Object.keys(  itemCompoundList )\n\n    if(!keys || keys.length ==0  ){\n      this.items = null\n      return\n    }\n\n\n    this.items = {}\n\n    for(var key of keys){\n      let itemsArray = itemCompoundList[key]\n\n\n\n\n\n      console.log('rebuild itemtable', itemsArray)\n\n\n      if(itemsArray){\n        this.items[key] = []\n        for(var item of itemsArray){\n\n\n\n            let itemTypeData = ItemHelper.getItemTypeByInternalName(item.internalName)\n\n\n            //itemsArray[i].name = itemTypeData.name\n\n            let row = {\n              name: itemTypeData.name,\n              internalName: itemTypeData.internalName,\n              volume: itemTypeData.volume,\n              totalVolume: itemTypeData.volume*item.stackQuantity,\n              stackQuantity: item.stackQuantity,\n              _id: item._id\n\n            }\n\n\n            this.items[key].push( row )\n          //  console.log('push', itemsArray[i])\n        }\n\n      }\n\n\n\n    }//for each key\n\n\n\n\n  },\n\n    onRowClicked: function(item)\n    {\n        console.log('on row clicked ')\n\n\n\n         this.rightClickRowCallback({itemType:'item', item:item, context:this.context})\n\n    },\n\n\n    setHidden: function(hidden){\n        this.hidden=hidden\n\n    },\n\n\n    onClick: function( ){\n      this.clickedCallback(   )\n    }\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemTable.vue?vue&type=template&id=f161e9dc&\"\nimport script from \"./ItemTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InventoryPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InventoryPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InventoryPanel.vue?vue&type=template&id=1d24bf48&\"\nimport script from \"./InventoryPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./InventoryPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.activeStationPanel=='hangar')?_c('div',[(!_vm.subPanel)?_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"w-1/2\"},[_c('div',{staticClass:\"text-lg\"},[_vm._v(\" Hangar   \")]),_c('table',{staticClass:\"table-fixed text-xs text-gray-100 mt-4 border-t-0 border-b-0\"},[_vm._m(0),_c('tbody',_vm._l((_vm.shipRows),function(ship){return _c('tr',{key:ship._id,staticClass:\"cursor-pointer\",class:{'bg-blue-700': (_vm.myPossessedUnit._id == ship._id)},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"right\",39,$event.key,[\"Right\",\"ArrowRight\"])){ return null; }if('button' in $event && $event.button !== 2){ return null; }return _vm.onRowClicked(ship)}}},[_c('td',{staticClass:\"border px-4 py-4 text-right border-gray-700\"}),_c('td',{staticClass:\"border px-4 py-4 capitalize  border-gray-700 \"},[_vm._v(\" \"+_vm._s(ship.basetype))])])}),0)])]),_c('div',{staticClass:\"w-1/2 text-sm\"},[(_vm.canRequestStarterShip())?_c('div',[_c('p',[_vm._v(\"  You seem to have lost your ship.   You may board a new ship requisitoned from your home system.  \")]),_c('div',{staticClass:\"cursor-pointer m-2 p-1 bg-yellow-500 text-black text-sm inline-block\",on:{\"click\":function($event){return _vm.clickedButton('boardStarterShip')}}},[_vm._v(\"  Board My Corvette \")])]):_vm._e()])]):_vm._e(),(_vm.subPanel)?_c('div',[_c('div',{staticClass:\"p-1 m-1 text-sm cursor-pointer bg-yellow-500 text-black rounded  inline\",on:{\"click\":function($event){return _vm.clickedButton('closeSubpanel')}}},[_vm._v(\" Back \")]),_c('HangarCargoPanel',{ref:\"hangarcargopanel\",attrs:{\"subPanel\":_vm.subPanel,\"focusedShip\":_vm.focusedShip,\"dataRequestCallback\":_vm.dataRequestCallback,\"stationUnitId\":_vm.stationUnitId,\"rightClickRowCallback\":_vm.rightClickRowCallback}}),_c('HangarFittingPanel',{ref:\"hangarfittingpanel\",attrs:{\"subPanel\":_vm.subPanel,\"focusedShip\":_vm.focusedShip,\"dataRequestCallback\":_vm.dataRequestCallback,\"stationUnitId\":_vm.stationUnitId,\"rightClickRowCallback\":_vm.rightClickRowCallback}})],1):_vm._e()]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Icon\")]),_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Base type\")]),_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Volume (m3)\")]),_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Est. Value\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.subPanel=='hangarCargo')?_c('div',{staticClass:\"mt-2 border-t-2 border-gray-200\"},[_c('div',{staticClass:\"text-lg capitalize mt-2\"},[_vm._v(\" \"+_vm._s(_vm.getShipName())+\" Cargo   \")]),_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"w-1/2\"},[_c('ItemTable',{attrs:{\"itemCompoundList\":_vm.stationInventoryItems,\"rightClickRowCallback\":_vm.handleRightClickRow,\"context\":\"cargopanel_inventory\"}})],1),_c('div',{staticClass:\"w-1/2\"},[_c('ItemTable',{attrs:{\"itemCompoundList\":_vm.shipCargoItems,\"rightClickRowCallback\":_vm.handleRightClickRow,\"context\":\"cargopanel_cargo\"}})],1)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div v-if=\"subPanel=='hangarCargo'\" class=\"mt-2 border-t-2 border-gray-200\">\n<div class=\"text-lg capitalize mt-2\"> {{getShipName()}} Cargo   </div>\n\n  <div class=\"flex\">\n    <div class=\"w-1/2\">\n\n      <ItemTable\n        v-bind:itemCompoundList=\"stationInventoryItems\"\n        v-bind:rightClickRowCallback=\"handleRightClickRow\"\n        context='cargopanel_inventory'\n\n       />\n\n    </div>\n\n    <div class=\"w-1/2\">\n\n      <ItemTable\n        v-bind:itemCompoundList=\"shipCargoItems\"\n        v-bind:rightClickRowCallback=\"handleRightClickRow\"\n        context='cargopanel_cargo'\n\n       />\n\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\n\n  import ItemTable from '../../components/ItemTable.vue'\n\nexport default {\n\n\n  name: 'HangarCargoPanel',\n  props: ['subPanel','focusedShip','dataRequestCallback','stationUnitId','rightClickRowCallback'],\n  components:{\n    ItemTable\n  },\n  data() {\n    return {\n      stationInventoryItems: null,\n      shipCargoItems: null,\n\n\n    }\n  },\n  mounted(){\n\n  },\n  methods: {\n\n\n\n    getShipName: function(){\n      return this.focusedShip.basetype\n    },\n\n    update: async function(){\n      let cargoInfoResponse = await this.requestShipCargoFromAPI()\n      let inventoryInfoResponse = await this.requestStationInventoryFromAPI()\n\n      this.stationInventoryItems = {}\n      this.stationInventoryItems.inventory = inventoryInfoResponse.data\n\n      this.shipCargoItems= {}\n      this.shipCargoItems.cargo = cargoInfoResponse.data\n      //console.log('cargodata',this.shipCargoItems)\n\n    },\n\n    requestShipCargoFromAPI: async function()\n    {\n\n        console.log('requestShipCargoFromAPI ')\n\n        let results = await this.dataRequestCallback({\n          requestType:'inventory',\n          containerEncapsulatingUnitId: this.focusedShip._id\n        })\n\n\n          return results\n\n\n\n    },\n\n    requestStationInventoryFromAPI: async function()\n    {\n        console.log('requestStationInventoryFromAPI ')\n\n        var results = await this.dataRequestCallback({\n          requestType:'inventory',\n            containerEncapsulatingUnitId: this.stationUnitId\n\n          })\n            return results\n\n    },\n\n\n    handleRightClickRow: function(tarData){\n        tarData.panelFocusedUnit = this.focusedShip  //just inject this here\n        this.rightClickRowCallback(tarData)\n    }\n\n\n  }\n\n\n}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HangarCargoPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HangarCargoPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HangarCargoPanel.vue?vue&type=template&id=977da716&\"\nimport script from \"./HangarCargoPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./HangarCargoPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.subPanel=='hangarFitting')?_c('div',{staticClass:\"mt-2 border-t-2 border-gray-200\"},[_c('div',{staticClass:\"text-lg capitalize mt-2\"},[_vm._v(\" \"+_vm._s(_vm.getShipName())+\" Fitting   \")]),_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"w-1/2\"},[_c('div',[_vm._v(\"Station Inventory\")]),_c('ItemTable',{attrs:{\"itemCompoundList\":_vm.availableItems,\"rightClickRowCallback\":_vm.handleRightClickRow,\"context\":\"fitting\"}})],1),_c('div',{staticClass:\"w-1/2\"},[_c('div',[_vm._v(\"Ship Equipment\")]),_c('ShipEquipmentTable',{attrs:{\"itemCompoundList\":_vm.equippedItems,\"rightClickRowCallback\":_vm.handleRightClickRow,\"context\":\"fitting\"}})],1)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-1  text-white  text-xs overflow-hidden px-2\"},[(!_vm.items )?_c('div',[_c('div',{staticClass:\"px-2\"},[_vm._v(\" ? \")])]):_vm._e(),(_vm.items && _vm.items.length ==0)?_c('div',[_c('div',{staticClass:\"px-2\"},[_vm._v(\"Empty\")])]):_vm._e(),(_vm.items  )?_c('div',[_c('table',{staticClass:\"table-auto text-xs text-gray-100 mt-4 border-t-0 border-b-0 w-full  px-2\"},[_vm._m(0),_vm._l((_vm.items),function(array,key){return _c('tbody',[_c('th',{staticClass:\"bg-blue-400 p-2 text-black capitalize w-full\",attrs:{\"colspan\":\"5\"}},[_vm._v(\"  \"+_vm._s(key)+\"   \")]),_vm._l((array),function(item){return _c('tr',{key:item._id,staticClass:\"cursor-pointer\",on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"right\",39,$event.key,[\"Right\",\"ArrowRight\"])){ return null; }if('button' in $event && $event.button !== 2){ return null; }return _vm.onRowClicked(item)}}},[_c('td',{staticClass:\"border px-4 py-4 text-right border-gray-700\"}),_c('td',{staticClass:\"border px-4 py-4 capitalize  border-gray-700 \"},[_vm._v(\" \"+_vm._s(item.name))]),_c('td',{staticClass:\"border px-4 py-4 text-right border-gray-700\"},[_vm._v(\" \"+_vm._s(item.slotId)+\" \")])])})],2)})],2)]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Icon\")]),_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Name\")]),_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Slot\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"my-1  text-white  text-xs overflow-hidden px-2\"   >\n\n    <div v-if=\"!items \"><div class=\"px-2\"> ? </div></div>\n      <div v-if=\"items && items.length ==0\"><div class=\"px-2\">Empty</div></div>\n\n    <div v-if=\"items  \">\n\n      <table class=\"table-auto text-xs text-gray-100 mt-4 border-t-0 border-b-0 w-full  px-2\"   >\n\n        <thead>\n         <tr>\n            <th class=\"px-1 py-1\">Icon</th>\n           <th class=\"px-1 py-1\">Name</th>\n           <th class=\"px-1 py-1\">Slot</th>\n\n         </tr>\n       </thead>\n       <tbody v-for=\"(array,key) in items\">\n\n           <th colspan=\"5\" class=\"bg-blue-400 p-2 text-black capitalize w-full\">  {{key}}   </th>\n          <tr v-for=\"item in array\" v-bind:key=\"item._id\"  @mousedown.right=\"onRowClicked(item)\" class=\"cursor-pointer\">\n            <td class=\"border px-4 py-4 text-right border-gray-700\">   </td>\n\n            <td class=\"border px-4 py-4 capitalize  border-gray-700 \" > {{ item.name }}</td>\n            <td class=\"border px-4 py-4 text-right border-gray-700\"> {{ item.slotId }} </td>\n           </tr>\n\n      </tbody>\n\n      </table>\n\n    </div>\n\n\n  </div>\n</template>\n\n<style>\n\n\n</style>\n\n\n\n<script>\nimport * as THREE from 'three'\n\nimport ItemHelper from '../../../shared/lib/ItemHelper'\n\n\nexport default {\n  name: 'ShipEquipmentTable',\n  props: [ 'itemCompoundList','rightClickRowCallback' ,'context'],\n  data() {\n    return {\n      hidden: false,\n      items: []\n\n    }\n  },\n  created()\n  {\n   this.rebuild(this.itemCompoundList)\n  },\n   watch: {\n      \titemCompoundList: function(newVal, oldVal) { // watch it\n           this.rebuild( newVal )\n        }\n      },\n  methods: {\n\n  rebuild: function( itemCompoundList ){\n\n    if(!itemCompoundList  ){\n      this.items = null\n      return\n    }\n\n    let keys = Object.keys(  itemCompoundList )\n\n    if(!keys || keys.length ==0  ){\n      this.items = null\n      return\n    }\n\n\n    this.items = {}\n\n    for(var key of keys){\n      let itemsArray = itemCompoundList[key]\n\n\n\n\n\n      console.log('rebuild equipment table', key ,  itemsArray)\n\n\n      if(itemsArray){\n        this.items[key] = []\n        for(var item of itemsArray){\n\n\n                console.log('axxaaa', item)\n\n\n            let itemTypeData = ItemHelper.getItemTypeByInternalName(item.equipmenttype)\n\n\n            //itemsArray[i].name = itemTypeData.name\n\n            let row = {\n              name: itemTypeData.name,\n              internalName: itemTypeData.internalName,\n\n              slotId: item.slotId,\n              _id: item._id\n\n            }\n\n\n            this.items[key].push( row )\n          //  console.log('push', itemsArray[i])\n        }\n\n      }\n\n\n\n    }//for each key\n\n\n\n\n  },\n\n    onRowClicked: function(item)\n    {\n        console.log('on row clicked ')\n\n\n\n         this.rightClickRowCallback({itemType:'equipment', item:item, context:this.context})\n\n    },\n\n\n    setHidden: function(hidden){\n        this.hidden=hidden\n\n    },\n\n\n    onClick: function( ){\n      this.clickedCallback(   )\n    }\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShipEquipmentTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShipEquipmentTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShipEquipmentTable.vue?vue&type=template&id=4239d0a7&\"\nimport script from \"./ShipEquipmentTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ShipEquipmentTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<div v-if=\"subPanel=='hangarFitting'\" class=\"mt-2 border-t-2 border-gray-200\">\n<div class=\"text-lg capitalize mt-2\"> {{getShipName()}} Fitting   </div>\n\n<div class=\"flex\">\n  <div class=\"w-1/2\">\n    <div>Station Inventory</div>\n    <ItemTable\n      v-bind:itemCompoundList=\"availableItems\"\n      v-bind:rightClickRowCallback=\"handleRightClickRow\"\n      context='fitting'\n\n     />\n\n  </div>\n\n  <div class=\"w-1/2\">\n    <div>Ship Equipment</div>\n\n\n\n    <ShipEquipmentTable\n      v-bind:itemCompoundList=\"equippedItems\"\n      v-bind:rightClickRowCallback=\"handleRightClickRow\"\n      context='fitting'\n\n     />\n\n\n\n\n  </div>\n</div>\n</div>\n\n</template>\n\n<script>\nimport ItemTable from '../../components/ItemTable.vue'\nimport ShipEquipmentTable from '../../components/ShipEquipmentTable.vue'\n\n\nimport ItemHelper from '../../../../shared/lib/ItemHelper' \nimport GalaxyHelper from '../../../../shared/lib/GalaxyHelper'\n\n\nexport default {\n\n\n  name: 'HangarFittingPanel',\n  props: ['subPanel','focusedShip','dataRequestCallback','stationUnitId','rightClickRowCallback'],\n  components:{\n    ItemTable,ShipEquipmentTable\n  },\n  data() {\n    return {\n      equippedItems: null,\n      availableItems: null\n\n\n    }\n  },\n  mounted(){\n\n  },\n  methods: {\n\n\n    getShipName: function(){\n      return this.focusedShip.basetype\n    },\n\n    update: async function(){\n    //  let cargoData= await this.requestShipCargoFromAPI()\n      let inventoryInfoResponse = await this.requestStationInventoryFromAPI()\n      let equipmentInfoResponse = await this.requestShipEquipmentFromAPI()\n      //this.stationInventoryItems=inventoryInfoResponse.data\n\n      console.log('got ', equipmentInfoResponse)\n      this.rebuildAvailableItems( inventoryInfoResponse.data )\n      this.rebuildEquippedItems( equipmentInfoResponse.data )\n\n\n\n\n    },\n\n    rebuildAvailableItems: function( inventoryItems  ){\n\n      console.log('rebuildAvailableItems', inventoryItems )\n\n      let equippableItems = []\n\n\n      for(var item of inventoryItems){\n        let itemtypedata = ItemHelper.getItemTypeByInternalName(item.internalName)\n\n        if(itemtypedata.itemClass == 'equipment'){\n\n          equippableItems.push(item)\n        }\n\n\n      }\n\n\n      this.availableItems = { 'items': equippableItems  }\n\n    },\n\n    rebuildEquippedItems: function( equipmentItems  ){\n\n\n      this.equippedItems = { 'high': [], 'mid':[], 'low':[]  }\n\n\n      for(var item of equipmentItems){\n\n\n        let itemtypedata = ItemHelper.getItemTypeByInternalName(item.equipmenttype)  //same as internalName for an item\n        let equipmenttypedata = GalaxyHelper.getEquipmentTypeData(item.equipmenttype)\n\n            console.log('meep', item ,equipmenttypedata )\n\n\n        if(equipmenttypedata.equipment_slot == 'high'){\n\n          this.equippedItems['high'].push(item)\n        }\n\n        if(equipmenttypedata.equipment_slot == 'mid'){\n\n          this.equippedItemss['mid'].push(item)\n        }\n\n        if(equipmenttypedata.equipment_slot == 'low'){\n\n          this.equippedItemss['low'].push(item)\n        }\n\n\n      }\n\n\n\n    },\n\n    requestStationInventoryFromAPI: async function()\n    {\n        console.log('requestStationInventoryFromAPI ')\n\n        var results = await this.dataRequestCallback({\n          requestType:'inventory',\n            containerEncapsulatingUnitId: this.stationUnitId\n\n          })\n            return results\n\n    },\n\n    requestShipEquipmentFromAPI: async function(){\n\n      console.log('requestShipEquipmentFromAPI ')\n\n      var results = await this.dataRequestCallback({\n        requestType:'equipment',\n          unit: this.focusedShip\n\n        })\n          return results\n    },\n\n    handleRightClickRow: function(tarData){\n        tarData.panelFocusedUnit = this.focusedShip  //just inject this here\n        this.rightClickRowCallback(tarData)\n    }\n\n  }\n\n\n}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HangarFittingPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HangarFittingPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HangarFittingPanel.vue?vue&type=template&id=2e2fc984&\"\nimport script from \"./HangarFittingPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./HangarFittingPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HangarPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HangarPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HangarPanel.vue?vue&type=template&id=3e24f612&\"\nimport script from \"./HangarPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./HangarPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.activeStationPanel=='production')?_c('div',{staticClass:\"p12 flex \"},[_c('div',{staticClass:\"w-1/2\"},[(_vm.activeStationPanel == 'production')?_c('ProductionBlueprintsTable',{attrs:{\"itemCompoundList\":_vm.blueprintItems,\"rightClickRowCallback\":_vm.rightClickRowCallback,\"context\":\"production\"}}):_vm._e()],1),_c('div',{staticClass:\"w-1/2\"},[(_vm.activeStationPanel == 'production')?_c('ActiveProductionSlotsTable',{attrs:{\"itemCompoundList\":_vm.productionslotItems,\"rightClickRowCallback\":_vm.rightClickRowCallback,\"context\":\"production\"}}):_vm._e()],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-1  text-white  text-xs overflow-hidden px-2\"},[(!_vm.items )?_c('div',[_c('div',{staticClass:\"px-2\"},[_vm._v(\" ? \")])]):_vm._e(),(_vm.items && _vm.items.length ==0)?_c('div',[_c('div',{staticClass:\"px-2\"},[_vm._v(\"Empty\")])]):_vm._e(),(_vm.items  )?_c('div',[_c('table',{staticClass:\"table-auto text-xs text-gray-100 mt-4 border-t-0 border-b-0 w-full  px-2\"},[_vm._m(0),_vm._l((_vm.items),function(array,key){return _c('tbody',[_c('th',{staticClass:\"bg-blue-400 p-2 text-black capitalize w-full\",attrs:{\"colspan\":\"5\"}},[_vm._v(\"  \"+_vm._s(key)+\"   \")]),_vm._l((array),function(item){return _c('tr',{key:item._id,staticClass:\"cursor-pointer\",on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"right\",39,$event.key,[\"Right\",\"ArrowRight\"])){ return null; }if('button' in $event && $event.button !== 2){ return null; }return _vm.onRowClicked(item)}}},[_c('td',{staticClass:\"border px-4 py-4 text-right border-gray-700\"}),_c('td',{staticClass:\"border px-4 py-4 capitalize  border-gray-700 \"},[_vm._v(\" \"+_vm._s(item.name))])])})],2)})],2)]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Icon\")]),_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Name\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"my-1  text-white  text-xs overflow-hidden px-2\"   >\n\n    <div v-if=\"!items \"><div class=\"px-2\"> ? </div></div>\n      <div v-if=\"items && items.length ==0\"><div class=\"px-2\">Empty</div></div>\n\n    <div v-if=\"items  \">\n\n      <table class=\"table-auto text-xs text-gray-100 mt-4 border-t-0 border-b-0 w-full  px-2\"   >\n\n        <thead>\n         <tr>\n            <th class=\"px-1 py-1\">Icon</th>\n           <th class=\"px-1 py-1\">Name</th>\n\n\n         </tr>\n       </thead>\n       <tbody v-for=\"(array,key) in items\">\n\n           <th colspan=\"5\" class=\"bg-blue-400 p-2 text-black capitalize w-full\">  {{key}}   </th>\n          <tr v-for=\"item in array\" v-bind:key=\"item._id\"  @mousedown.right=\"onRowClicked(item)\" class=\"cursor-pointer\">\n            <td class=\"border px-4 py-4 text-right border-gray-700\">   </td>\n\n            <td class=\"border px-4 py-4 capitalize  border-gray-700 \" > {{ item.name }}</td>\n           \n           </tr>\n\n      </tbody>\n\n      </table>\n\n    </div>\n\n\n  </div>\n</template>\n\n<style>\n\n\n</style>\n\n\n\n<script>\nimport * as THREE from 'three'\n\nimport ItemHelper from '../../../shared/lib/ItemHelper'\n\n\nexport default {\n  name: 'ProductionBlueprintsTable',\n  props: [ 'itemCompoundList','rightClickRowCallback' ,'context'],\n  data() {\n    return {\n      hidden: false,\n      items: []\n\n    }\n  },\n  created()\n  {\n   this.rebuild(this.itemCompoundList)\n  },\n   watch: {\n      \titemCompoundList: function(newVal, oldVal) { // watch it\n           this.rebuild( newVal )\n        }\n      },\n  methods: {\n\n  rebuild: function( itemCompoundList ){\n\n    if(!itemCompoundList  ){\n      this.items = null\n      return\n    }\n\n    let keys = Object.keys(  itemCompoundList )\n\n    if(!keys || keys.length ==0  ){\n      this.items = null\n      return\n    }\n\n\n    this.items = {}\n\n    for(var key of keys){\n      let itemsArray = itemCompoundList[key]\n\n\n\n\n\n      console.log('rebuild blueprint  table', key ,  itemsArray)\n\n\n      if(itemsArray){\n        this.items[key] = []\n        for(var item of itemsArray){\n\n\n\n            let itemTypeData = ItemHelper.getItemTypeByInternalName( item )\n\n         console.log('itemTypeData',  itemTypeData)\n\n\n            //itemsArray[i].name = itemTypeData.name\n\n            let row = {\n              name: itemTypeData.name,\n              internalName: itemTypeData.internalName,\n\n              slotId: item.slotId,\n              _id: item._id\n\n            }\n\n\n            this.items[key].push( row )\n          //  console.log('push', itemsArray[i])\n        }\n\n      }\n\n\n\n    }//for each key\n\n\n\n\n  },\n\n    onRowClicked: function(item)\n    {\n        console.log('on row clicked ')\n\n\n\n         this.rightClickRowCallback({itemType:'blueprint', item:item, context:this.context})\n\n    },\n\n\n    setHidden: function(hidden){\n        this.hidden=hidden\n\n    },\n\n\n    onClick: function( ){\n      this.clickedCallback(   )\n    }\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionBlueprintsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionBlueprintsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductionBlueprintsTable.vue?vue&type=template&id=22c3ca2c&\"\nimport script from \"./ProductionBlueprintsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductionBlueprintsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-1  text-white  text-xs overflow-hidden px-2\"},[(!_vm.items )?_c('div',[_c('div',{staticClass:\"px-2\"},[_vm._v(\" ? \")])]):_vm._e(),(_vm.items && _vm.items.length ==0)?_c('div',[_c('div',{staticClass:\"px-2\"},[_vm._v(\"Empty\")])]):_vm._e(),(_vm.items  )?_c('div',[_c('table',{staticClass:\"table-auto text-xs text-gray-100 mt-4 border-t-0 border-b-0 w-full  px-2\"},[_vm._m(0),_vm._l((_vm.items),function(array,key){return _c('tbody',[_c('th',{staticClass:\"bg-blue-400 p-2 text-black capitalize w-full\",attrs:{\"colspan\":\"5\"}},[_vm._v(\"  \"+_vm._s(key)+\"   \")]),_vm._l((array),function(item){return _c('tr',{key:item._id,staticClass:\"cursor-pointer\",on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"right\",39,$event.key,[\"Right\",\"ArrowRight\"])){ return null; }if('button' in $event && $event.button !== 2){ return null; }return _vm.onRowClicked(item)}}},[_c('td',{staticClass:\"border px-4 py-4 text-right border-gray-700\"},[_vm._v(\" \"+_vm._s(item.slotId)+\" \")]),_c('td',{staticClass:\"border px-4 py-4 capitalize  border-gray-700 \"},[_vm._v(\" \"+_vm._s(item.name))]),_c('td',{staticClass:\"border px-4 py-4 capitalize  border-gray-700 \"},[_vm._v(\" \"+_vm._s(item.quantityToProduce))]),_c('td',{staticClass:\"border px-4 py-4 capitalize  border-gray-700 \"},[_vm._v(\" \"+_vm._s(item.status))])])})],2)})],2)]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Slot\")]),_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Name\")]),_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Quantity \")]),_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Status\")])])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActiveProductionSlotsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActiveProductionSlotsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ActiveProductionSlotsTable.vue?vue&type=template&id=46aa593a&\"\nimport script from \"./ActiveProductionSlotsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ActiveProductionSlotsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"p12 flex \" v-if=\"activeStationPanel=='production'\" >\n\n  <div class=\"w-1/2\">\n\n\n    <ProductionBlueprintsTable\n      v-if=\"activeStationPanel == 'production'\"\n      v-bind:itemCompoundList=\"blueprintItems\"\n      v-bind:rightClickRowCallback=\"rightClickRowCallback\"\n      context='production'\n      />\n\n\n\n  </div>\n\n\n\n  <div class=\"w-1/2\">\n\n    <ActiveProductionSlotsTable\n      v-if=\"activeStationPanel == 'production'\"\n      v-bind:itemCompoundList=\"productionslotItems\"\n      v-bind:rightClickRowCallback=\"rightClickRowCallback\"\n      context='production'\n      />\n\n  </div>\n\n\n</div>\n\n</template>\n\n\n<script>\n\n\n\n\nimport GalaxyHelper from '../../../shared/lib/GalaxyHelper'\n\n\nimport ItemHelper from '../../../shared/lib/ItemHelper'\n\nimport ProductionBlueprintsTable from '../components/ProductionBlueprintsTable.vue'\nimport ActiveProductionSlotsTable from '../components/ActiveProductionSlotsTable.vue'\nexport default {\n\n\n  name: 'productionPanel',\n  props: ['rightClickRowCallback','dataRequestCallback','stationUnitId','activeStationPanel'],\n  components: {\n    ProductionBlueprintsTable,ActiveProductionSlotsTable\n  },\n  data() {\n    return {\n      blueprintItems: { },\n      productionslotItems: { },\n\n      focusedRowId: null,\n\n      needsUpdate: false\n    }\n  },\n  mounted(){\n      this.update()\n      setInterval( this.update, 5000 )\n  },\n\n  methods: {\n\n\n\n  /*  clickedButton: function(buttonName)\n    {\n\n\n    },\n\n    onRowClicked: function(item)\n    {\n        console.log('on row clicked ')\n\n\n         this.rightClickRowCallback({item:item, itemType:blueprint, context:'production'})\n\n    },\n*/\n\n    blueprintDataChanged: function(blueprintData)\n    {\n      console.log('got bp data', blueprintData)\n\n\n        this.blueprintItems = {blueprints: []}\n\n        for(var bp of blueprintData)\n        {\n          try{\n\n            let itemTypeData = ItemHelper.getItemTypeByInternalName( bp )\n\n            this.blueprintItems.blueprints.push( bp )\n\n          }catch(e){\n            console.log(e)\n          }\n\n        }\n\n\n    },\n\n    productionslotDataChanged: function(productionSlotData)\n    {\n      console.log('got productionSlotData ', productionSlotData)\n\n\n        this.productionslotItems = {slots: []}\n\n        for(var slot of productionSlotData)\n        {\n          try{\n\n\n            this.productionslotItems.slots.push( slot )\n\n          }catch(e){\n            console.log(e)\n          }\n\n        }\n\n\n    },\n\n\n    setActiveForm: function(formName)\n    {\n\n      this.activeForm = formName\n\n    },\n\n    setNeedsUpdate: function(needs){\n      this.needsUpdate = needs\n\n      this.update( )\n    },\n\n    update: function(){\n      if(this.activeStationPanel == 'production' || this.needsUpdate) {\n        this.needsUpdate=false\n\n          this.requestBlueprintsFromAPI()\n          this.requestProductionSlotsFromAPI()\n\n        }\n    },\n\n    requestBlueprintsFromAPI: async function()\n    {\n      console.log('request blueprints from api ')\n\n        var results = await this.dataRequestCallback({\n          requestType:'blueprints',\n        stationUnitId: this.stationUnitId\n\n      })\n\n        this.blueprintDataChanged(results.data)\n\n\n\n    },\n\n    requestProductionSlotsFromAPI: async function()\n    {\n       console.log('request productionslots from api ')\n\n        var results = await this.dataRequestCallback({\n          requestType:'productionslots',\n        stationUnitId: this.stationUnitId\n\n      })\n\n        this.productionslotDataChanged(results.data)\n\n\n\n    },\n\n    onReceivedDataRequestResponse: function( response){\n\n      //improves the snappiness of the hangar tab\n      console.log('on re', response )\n\n      if(response.requestType == 'startProducingItem'\n\n      ){\n          this.setNeedsUpdate(true)\n      }\n\n    }\n\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductionPanel.vue?vue&type=template&id=3dcc7d70&\"\nimport script from \"./ProductionPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductionPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.activeStationPanel=='market')?_c('div',[_c('div',{staticClass:\"text-lg\"},[_vm._v(\" Market Orders   \")]),_c('div',{staticClass:\"text-sm w-full text-yellow-500 \",staticStyle:{\"height\":\"40px\"}},[_vm._v(\" \"+_vm._s(_vm.selectedItemNameFull)+\"   \")]),_c('div',{staticClass:\"flex mb-4\"},[_c('div',{staticClass:\"w-1/4 border-r-2 border-gray-500  mt-4\"},[_c('TreeList',{attrs:{\"initData\":_vm.treeListData,\"onClickCallback\":_vm.handleClickedTreeListItem}})],1),_c('div',{staticClass:\"w-3/4 ml-4   \",staticStyle:{\"overflow-y\":\"auto\"}},[(_vm.orderRows.length > 0)?_c('table',{staticClass:\"table-fixed text-xs text-gray-100 mt-4 border-t-0 border-b-0\"},[_vm._m(0),_c('tbody',_vm._l((_vm.orderRows),function(item){return (item.status == 'pending')?_c('tr',{key:item.itemId,staticClass:\"cursor-pointer\",on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"right\",39,$event.key,[\"Right\",\"ArrowRight\"])){ return null; }if('button' in $event && $event.button !== 2){ return null; }return _vm.onRowClicked(item)}}},[_c('td',{staticClass:\"border px-4 py-4 text-right border-gray-700\"}),_c('td',{staticClass:\"border px-4 py-4 capitalize  border-gray-700 \",class:{'text-indigo-500': _vm.itemOwnedByMe(item)}},[_vm._v(\" \"+_vm._s(item.itemName))]),_c('td',{staticClass:\"border px-4 py-4 text-right border-gray-700\"},[_vm._v(\" \"+_vm._s(item.pricePerUnit)+\" \")]),_c('td',{staticClass:\"border px-4 py-4 text-right border-gray-700\",class:{'text-indigo-500': _vm.itemOwnedByMe(item)}},[_vm._v(\" \"+_vm._s(item.quantity)+\" \")]),_c('td',{staticClass:\"border px-4 py-4 text-right border-gray-700\"},[_vm._v(\" \"+_vm._s(item.amountDueFormatted)+\" \")]),_c('td',{staticClass:\"border px-4 py-4 text-right border-gray-700\"},[_vm._v(\" \"+_vm._s(item.expiresAtFormatted)+\" \")])]):_vm._e()}),0)]):_vm._e(),(_vm.orderRows.length == 0)?_c('div',{staticClass:\"p-4 pl-12 text-lg\"},[_vm._v(\"\\n      No orders found.\\n    \")]):_vm._e()])])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Icon\")]),_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Name\")]),_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Price Per Unit \")]),_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Quantity\")]),_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Total Price \")]),_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Expires\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tree-list-children pl-2\"},[_c('div',{staticClass:\"mr-2 pb-2 px-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchQuery),expression:\"searchQuery\"}],staticClass:\"shadow appearance-none border rounded w-full mr-2 py-0 px-2 text-gray-700 leading-tight focus:outline-none focus:shadow-outline font-xs\",domProps:{\"value\":(_vm.searchQuery)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.searchQuery=$event.target.value}}})]),_c('div',{staticStyle:{\"overflow-y\":\"auto\"}},_vm._l((_vm.itemData.children),function(item){return _c('TreeListItem',{key:item.title,attrs:{\"itemData\":item,\"onClickCallback\":_vm.onClickCallback,\"searchQuery\":_vm.searchQuery}})}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"    text-xs\",staticStyle:{}},[(_vm.itemData && !_vm.hiddenForSearch)?_c('div',[_c('div',{staticClass:\"tree-list-row cursor-pointer\",on:{\"click\":_vm.clickedButton}},[(_vm.isFolder() && _vm.collapsed)?_c('span',{staticClass:\"inline\"},[_c('svg',{staticClass:\"svg-icon inline\",attrs:{\"viewBox\":\"0 0 20 20\"}},[_c('path',{attrs:{\"d\":\"M14.613,10c0,0.23-0.188,0.419-0.419,0.419H10.42v3.774c0,0.23-0.189,0.42-0.42,0.42s-0.419-0.189-0.419-0.42v-3.774H5.806c-0.23,0-0.419-0.189-0.419-0.419s0.189-0.419,0.419-0.419h3.775V5.806c0-0.23,0.189-0.419,0.419-0.419s0.42,0.189,0.42,0.419v3.775h3.774C14.425,9.581,14.613,9.77,14.613,10 M17.969,10c0,4.401-3.567,7.969-7.969,7.969c-4.402,0-7.969-3.567-7.969-7.969c0-4.402,3.567-7.969,7.969-7.969C14.401,2.031,17.969,5.598,17.969,10 M17.13,10c0-3.932-3.198-7.13-7.13-7.13S2.87,6.068,2.87,10c0,3.933,3.198,7.13,7.13,7.13S17.13,13.933,17.13,10\"}})])]):_vm._e(),_vm._v(\"\\n\\n\\n              \"+_vm._s(_vm.itemData.title)+\"\\n\\n      \")]),(_vm.itemData.children && !_vm.collapsed)?_c('div',{staticClass:\"tree-list-children pl-2\"},_vm._l((_vm.itemData.children),function(item){return _c('TreeListItem',{key:item.title,attrs:{\"itemData\":item,\"onClickCallback\":_vm.onClickCallback,\"searchQuery\":_vm.searchQuery}})}),1):_vm._e()]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"    text-xs\" style=\" \">\n\n\n    <div  v-if=\"itemData && !hiddenForSearch\">\n      <div class=\"tree-list-row cursor-pointer\" @click=\"clickedButton\">\n\n\n         <span v-if=\"isFolder() && collapsed\" class=\"inline\">\n           <svg class=\"svg-icon inline\" viewBox=\"0 0 20 20\">\n\t\t\t\t\t\t\t<path d=\"M14.613,10c0,0.23-0.188,0.419-0.419,0.419H10.42v3.774c0,0.23-0.189,0.42-0.42,0.42s-0.419-0.189-0.419-0.42v-3.774H5.806c-0.23,0-0.419-0.189-0.419-0.419s0.189-0.419,0.419-0.419h3.775V5.806c0-0.23,0.189-0.419,0.419-0.419s0.42,0.189,0.42,0.419v3.775h3.774C14.425,9.581,14.613,9.77,14.613,10 M17.969,10c0,4.401-3.567,7.969-7.969,7.969c-4.402,0-7.969-3.567-7.969-7.969c0-4.402,3.567-7.969,7.969-7.969C14.401,2.031,17.969,5.598,17.969,10 M17.13,10c0-3.932-3.198-7.13-7.13-7.13S2.87,6.068,2.87,10c0,3.933,3.198,7.13,7.13,7.13S17.13,13.933,17.13,10\"></path>\n\t\t\t\t\t\t</svg> </span>\n\n\n              {{ itemData.title  }}\n\n      </div>\n      <div class=\"tree-list-children pl-2\" v-if=\"itemData.children && !collapsed\">\n        <TreeListItem\n          v-for=\"item in itemData.children\"\n          :key=\"item.title\"\n          v-bind:itemData=\"item\"\n          v-bind:onClickCallback=\"onClickCallback\"\n          v-bind:searchQuery=\"searchQuery\"\n         />\n      </div>\n    </div>\n\n  </div>\n</template>\n\n\n<script>\n\n\n\nexport default {\n\n\n  name: 'TreeListItem',\n  props: ['onClickCallback','itemData','searchQuery'],\n  components: {\n\n  },\n  data() {\n    return {\n\n      myPlayer: null,\n      focusItemSlot: null,\n      collapsed:false,\n      hiddenForSearch:false\n\n    }\n  },\n  watch: {\n      \tsearchQuery: function(newVal, oldVal) { // watch it\n          // console.log('Prop changed: ', newVal, ' | was: ', oldVal)\n          // console.log(this.itemData.title.toString())\n          if(newVal && newVal.length > 0)\n          {\n            this.hiddenForSearch = !this.itemData.title.toString().toLowerCase().includes( newVal.toLowerCase() ) && !this.isFolder()\n          }else{\n            this.hiddenForSearch = false;\n          }\n        }\n  },\n  methods: {\n\n\n    setCollapsed: function(collapsed){\n        this.collapsed=collapsed\n\n    },\n\n    isFolder: function(){\n      return (this.itemData.children && this.itemData.children.length > 0)\n    },\n\n    clickedButton: function( )\n    {\n      //bubble out to a callback\n\n      if(this.isFolder()){ //has children\n        this.setCollapsed(  !this.collapsed  )//toggle me\n\n      }else{\n\n\n\n          this.onClickCallback( this.itemData )\n\n          //bubbles up the chain to the tree list\n      }\n\n\n\n    }\n\n\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TreeListItem.vue?vue&type=template&id=fa3e01dc&\"\nimport script from \"./TreeListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./TreeListItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\n    <div class=\"tree-list-children pl-2\">\n\n      <div class=\"mr-2 pb-2 px-2\">\n        <input   v-model =\"searchQuery\" class=\"shadow appearance-none border rounded w-full mr-2 py-0 px-2 text-gray-700 leading-tight focus:outline-none focus:shadow-outline font-xs\" > </input>\n      </div>\n\n      <div style=\"overflow-y:auto\">\n      <TreeListItem\n        v-for=\"item in itemData.children\"\n        :key=\"item.title\"\n        v-bind:itemData=\"item\"\n        v-bind:onClickCallback=\"onClickCallback\"\n        v-bind:searchQuery=\"searchQuery\"\n\n       />\n    </div>\n\n    </div>\n\n</template>\n\n\n<script>\n\n\n\n\n//const treelistdata = require('../../../../shared/worlddata/itemtreelist.json')\n\nimport TreeListItem from './TreeListItem'\n\n\nexport default {\n\n\n  name: 'TreeList',\n  props: ['onClickCallback','initData'],\n  components: {\n    TreeListItem\n  },\n  data() {\n    return {\n      itemData: {},\n      searchQuery:''\n\n    }\n  },\n  mounted() {\n    this.itemData= this.initData\n\n  },\n\n  methods: {\n\n    updatedSearchQuery: function()\n    {\n\n\n      /*if(this.searchQuery && this.searchQuery.length > 0)\n      {\n\n      }else{\n\n      }*/\n\n    }\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TreeList.vue?vue&type=template&id=bff63410&\"\nimport script from \"./TreeList.vue?vue&type=script&lang=js&\"\nexport * from \"./TreeList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div v-if=\"activeStationPanel=='market'\">\n     <div class=\"text-lg\"> Market Orders   </div>\n\n      <div class=\"text-sm w-full text-yellow-500 \" style=\"height:40px\"> {{ selectedItemNameFull }}   </div>\n\n     <div class=\"flex mb-4\">\n  <div class=\"w-1/4 border-r-2 border-gray-500  mt-4\">\n\n      <TreeList\n      v-bind:initData=\"treeListData\"\n\n      v-bind:onClickCallback=\"handleClickedTreeListItem\"\n      />\n\n    </div>\n  <div class=\"w-3/4 ml-4   \" style=\"overflow-y:auto\">\n\n    <table class=\"table-fixed text-xs text-gray-100 mt-4 border-t-0 border-b-0\" v-if=\"orderRows.length > 0\"  >\n\n      <thead>\n       <tr>\n          <th class=\"px-1 py-1\">Icon</th>\n         <th class=\"px-1 py-1\">Name</th>\n         <th class=\"px-1 py-1\">Price Per Unit </th>\n         <th class=\"px-1 py-1\">Quantity</th>\n         <th class=\"px-1 py-1\">Total Price </th>\n         <th class=\"px-1 py-1\">Expires</th>\n       </tr>\n     </thead>\n     <tbody>\n      <tr v-for=\"item in orderRows\" v-if=\"item.status == 'pending'\" v-bind:key=\"item.itemId\"  @mousedown.right=\"onRowClicked(item)\" class=\"cursor-pointer\">\n        <td class=\"border px-4 py-4 text-right border-gray-700\">   </td>\n        <td class=\"border px-4 py-4 capitalize  border-gray-700 \" :class=\"{'text-indigo-500': itemOwnedByMe(item)}\" > {{ item.itemName }}</td>\n        <td class=\"border px-4 py-4 text-right border-gray-700\"> {{ item.pricePerUnit }} </td>\n\n       <td class=\"border px-4 py-4 text-right border-gray-700\" :class=\"{'text-indigo-500': itemOwnedByMe(item)}\" > {{ item.quantity }} </td>\n         <td class=\"border px-4 py-4 text-right border-gray-700\"> {{ item.amountDueFormatted }} </td>\n         <td class=\"border px-4 py-4 text-right border-gray-700\"> {{ item.expiresAtFormatted }} </td>\n      </tr>\n\n\n    </tbody>\n\n    </table>\n    <div v-if=\"orderRows.length == 0\" class=\"p-4 pl-12 text-lg\">\n      No orders found.\n    </div>\n\n  </div>\n</div>\n\n\n\n\n  </div>\n</template>\n\n\n<script>\n\nconst web3connectionconfig = require('../../../shared/contracts/web3connection.config.js')\nconst treelistdata = require('../../../shared/worlddata/itemtreelist.json')\n\n\nimport GalaxyHelper from '../../../shared/lib/GalaxyHelper'\nimport EthereumHelper from '../../../shared/lib/EthereumHelper'\nimport ItemHelper from '../../../shared/lib/ItemHelper'\nimport TreeList from '../components/TreeList'\n\nvar requestTimer;\nexport default {\n\n\n  name: 'MarketPanel',\n  props: ['rightClickRowCallback','dataRequestCallback','stationUnitId','activeStationPanel','myPlayer'],\n  components: {\n    TreeList\n  },\n  data() {\n    return {\n      treeListData: {},\n      focusItemSlot: null,\n      orderRows: [],\n      needsUpdate:false,\n      selectedItemName: null,\n      selectedItemNameFull: null\n    }\n  },\n  created(){\n      this.treeListData = treelistdata\n      this.requestOrdersFromAPI()\n     requestTimer =   setInterval( this.requestOrdersFromAPI, 5000 )\n  },\n  beforeDestroy(){\n\n      clearInterval( requestTimer )\n  },\n  methods: {\n\n    itemOwnedByMe: function(item)\n    {\n      //  console.log('meep', item, this.myPlayer)\n\n      if(this.myPlayer)\n      {\n\n        return item.payTo == this.myPlayer.publicAddress\n      }\n      return false\n    },\n\n    clickedButton: function(buttonName)\n    {\n\n\n    },\n\n    handleClickedTreeListItem: function( item )\n    {\n      console.log('clicked tree list item ', item)\n      let itemInternalName = item.itemInternalName\n\n      if(  itemInternalName ){\n\n          this.setselectedItemName(  itemInternalName)\n      }\n    },\n\n    setselectedItemName: function(itemInternalName)\n    {\n      let basetype = ItemHelper.getItemTypeByInternalName(itemInternalName)\n\n      this.selectedItemNameFull = basetype.name\n\n      this.selectedItemName = itemInternalName\n\n\n      this.setNeedsUpdate(true)\n    },\n\n    onRowClicked: function(item)\n    {\n        console.log('on row clicked ')\n\n\n         this.rightClickRowCallback({item: item, itemType: 'order', context:'market'})\n\n    },\n\n    ordersChanged: async function(ordersData )\n    {\n      console.log('got new order data', ordersData )\n      this.orderRows = []\n\n      for(var i in ordersData)\n      {\n\n        let result = ordersData[i]\n        result.amountDueFormatted = EthereumHelper.formatTokenAmount(result.amountDue, web3connectionconfig.tokenDecimals )\n        result.expiresAtFormatted = await EthereumHelper.formatExpiration_client(   result.expiresAt   )\n\n        this.orderRows.push(result)\n      }\n\n        this.orderRows.sort((a, b) => a.pricePerUnit - b.pricePerUnit )\n\n\n\n    },\n\n\n    playersChanged: function(myPlayer, playersOnGrid)\n    {\n\n\n    },\n\n    takeMarketOrder: function(orderData)\n    {\n        web3Connection.takeMarketOrder( formData , this.myPlayer)\n    },\n\n\n    setNeedsUpdate: function(needs){\n      this.needsUpdate = needs\n      this.requestOrdersFromAPI()\n    },\n\n    requestOrdersFromAPI: async function()\n    {\n      if(this.activeStationPanel == 'market' || this.needsUpdate) {\n\n        this.needsUpdate= false\n      // could pass the station id here so players can look at orders in remote stations...\n      var results = await this.dataRequestCallback({ requestType:'orders', itemInternalName: this.selectedItemName })\n\n      this.ordersChanged(results.data )\n      }\n    }\n\n\n\n\n\n  }\n\n}\n</script>\n","<template>\n  <div v-if=\"activeStationPanel=='wallet'\" class=\"relative\">\n\n\n\n\n     <div v-if=\"loading\" class=\"m-1  float-right\">\n\n       <svg class=\"svg-icon  loader-large spin\" viewBox=\"0 0 20 20\">\n\t\t\t\t\t\t\t<path fill=\"none\" d=\"M3.254,6.572c0.008,0.072,0.048,0.123,0.082,0.187c0.036,0.07,0.06,0.137,0.12,0.187C3.47,6.957,3.47,6.978,3.484,6.988c0.048,0.034,0.108,0.018,0.162,0.035c0.057,0.019,0.1,0.066,0.164,0.066c0.004,0,0.01,0,0.015,0l2.934-0.074c0.317-0.007,0.568-0.271,0.56-0.589C7.311,6.113,7.055,5.865,6.744,5.865c-0.005,0-0.01,0-0.015,0L5.074,5.907c2.146-2.118,5.604-2.634,7.971-1.007c2.775,1.912,3.48,5.726,1.57,8.501c-1.912,2.781-5.729,3.486-8.507,1.572c-0.259-0.18-0.618-0.119-0.799,0.146c-0.18,0.262-0.114,0.621,0.148,0.801c1.254,0.863,2.687,1.279,4.106,1.279c2.313,0,4.591-1.1,6.001-3.146c2.268-3.297,1.432-7.829-1.867-10.101c-2.781-1.913-6.816-1.36-9.351,1.058L4.309,3.567C4.303,3.252,4.036,3.069,3.72,3.007C3.402,3.015,3.151,3.279,3.16,3.597l0.075,2.932C3.234,6.547,3.251,6.556,3.254,6.572z\"></path>\n\t\t\t\t\t\t</svg>\n\n     </div>\n\n\n\n\n     <div class=\"mx-6 my-2 w-2/3\" >\n\n       <div class=\"bg-indigo-900 text-center py-4 lg:px-4\">\n        <div class=\"p-2 bg-indigo-800 items-center text-indigo-100 leading-none lg:rounded-full flex lg:inline-flex\" role=\"alert\">\n            <div class=\"font-semibold mr-2 text-left flex-auto\" > Space Wallet </div>\n\n\n              <span v-if=\"hasValidNetwork()\" class=\"  flex rounded-full bg-indigo-500 uppercase px-2 py-1 text-xs font-bold mr-3\">Connected</span>\n              <span v-if=\"hasValidNetwork()\" class=\"   mr-2 text-left flex-auto\"> Matic Mainnet </span>\n\n              <span v-if=\"!hasValidNetwork() && !loading\" class=\"  flex rounded-full bg-red-500 uppercase px-2 py-1 text-xs font-bold mr-3\">Not Connected </span>\n              <span v-if=\"!hasValidNetwork() && !loading\" class=\"   mr-2 text-left flex-auto\"> Wrong Web3 Provider </span>\n\n\n\n        </div>\n      </div>\n        <div v-if=\"hasValidNetwork()  \">\n\n         <div class=\"mt-4 bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded\">\n          Matic Balance:  {{ walletdetails.tokensBalanceFormatted }}  0xBTC\n         </div>\n\n         <div class=\"mt-4 bg-green-500 hover:bg-green-400 text-white font-bold py-2 px-4 border-b-4 border-green-700 hover:border-green-500 rounded\">\n          Approved For Market: {{ getTokensApproved() }}  0xBTC\n\n          <div v-if=\"couldApproveMore()\" @click=\"clickedButton('approve')\" class=\"inline float-right rounded-full bg-green-700 uppercase px-2 py-1 text-xs font-bold mr-3 cursor-pointer\"> Approve </div>\n\n         </div>\n\n         <div>\n\n         </div>\n\n         <br>\n\n         <div v-if=\"getTokensApproved() == 0\"   class=\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md\" role=\"alert\">\n            <div class=\"flex\">\n              <div class=\"py-1\"><svg class=\"fill-current h-6 w-6 text-teal-500 mr-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"/></svg></div>\n              <div>\n                <p class=\"font-bold\">Warning: No tokens approved</p>\n                <p class=\"text-sm\">In order to purchase goods from the market, you must approve tokens to the contract.</p>\n                <a v-bind:href=\"getPayspecContractURL()\" target='_blank'> >> Read the Contract </a>\n\n              </div>\n            </div>\n          </div>\n\n\n       </div>\n\n       <div v-if=\"!hasValidNetwork()\">\n         <div role=\"alert\">\n          <div class=\"bg-red-500 text-white font-bold rounded-t px-4 py-2 mt-10\">\n            Please connect to Matic Mainnet\n          </div>\n          <div class=\"border border-t-0 border-red-400 rounded-b bg-red-100 px-4 py-3 text-blue-700\">\n            <a href=\"https://medium.com/@admazzola/how-to-use-metamask-with-matic-network-6895a34f6c6e\" target='_blank'> Guide: How to connect Metamask to Matic Mainnet </a>\n          </div>\n        </div>\n       </div>\n\n     </div>\n\n\n\n  </div>\n</template>\n\n\n<script>\n\n/*\nShows your matic and 0xbtc balance... shows your number approved\n\nMake a faucet that will give you 0.1 matic one time if you have at least 1 0xbtc\n\n*/\n\n\nimport GalaxyHelper from '../../../shared/lib/GalaxyHelper'\n\nvar requestTimer;\nexport default {\n\n\n  name: 'WalletPanel',\n  props: ['dataRequestCallback','localActionCallback','activeStationPanel'],\n  components: {\n\n  },\n  data() {\n    return {\n      loading: false,\n\n      myPlayer: null,\n      focusItemSlot: null,\n      web3details: null,\n      walletdetails: null,\n      paySpecContractAddress: \"\",\n      needsUpdate:false\n    }\n  },\n  created(){\n      this.requestWalletDetailsFromAPI()\n        requestTimer = setInterval( this.requestWalletDetailsFromAPI, 1000 * 5 )\n  },\n  beforeDestroy(){\n\n      clearInterval( requestTimer )\n  },\n  methods: {\n\n    couldApproveMore : function(){\n         return (  Math.floor(this.walletdetails.tokensBalanceFormatted) > Math.floor(this.walletdetails.tokensApprovedToPayspecFormatted))\n    },\n\n    hasValidNetwork: function()\n    {\n\n      return this.web3details && this.web3details.chainId == 137\n    },\n\n    getTokensApproved: function()\n    {\n\n      return Math.min( this.walletdetails.tokensBalanceFormatted , this.walletdetails.tokensApprovedToPayspecFormatted )\n    },\n\n    getPayspecContractURL: function()\n    {\n          return \"https://explorer.matic.network/address/\"+this.paySpecContractAddress+\"/contracts\"\n    },\n\n    clickedButton: async function(buttonName)\n    {\n      //clicked button approve\n      await this.localActionCallback( buttonName )\n    },\n\n\n    playersChanged: function(myPlayer, playersOnGrid)\n    {\n\n\n\n    },\n\n    setNeedsUpdate: function(needs){\n      this.needsUpdate = needs\n      this.requestWalletDetailsFromAPI()\n    },\n\n\n    requestWalletDetailsFromAPI: async function()\n    {\n      if(this.activeStationPanel =='wallet' || this.needsUpdate){\n         this.needsUpdate=false\n          this.loading = true\n      // could pass the station id here so players can look at orders in remote stations...\n          let response = await this.dataRequestCallback({ requestType:'walletDetails' })\n\n          console.log('got wallet details ', response )\n\n          this.web3details = response.web3details\n          this.walletdetails = response.walletdetails\n          this.paySpecContractAddress = response.paySpecContractAddress\n\n          this.loading = false\n      }\n    }\n\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarketPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarketPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MarketPanel.vue?vue&type=template&id=591f898c&\"\nimport script from \"./MarketPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./MarketPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.activeStationPanel=='wallet')?_c('div',{staticClass:\"relative\"},[(_vm.loading)?_c('div',{staticClass:\"m-1  float-right\"},[_c('svg',{staticClass:\"svg-icon  loader-large spin\",attrs:{\"viewBox\":\"0 0 20 20\"}},[_c('path',{attrs:{\"fill\":\"none\",\"d\":\"M3.254,6.572c0.008,0.072,0.048,0.123,0.082,0.187c0.036,0.07,0.06,0.137,0.12,0.187C3.47,6.957,3.47,6.978,3.484,6.988c0.048,0.034,0.108,0.018,0.162,0.035c0.057,0.019,0.1,0.066,0.164,0.066c0.004,0,0.01,0,0.015,0l2.934-0.074c0.317-0.007,0.568-0.271,0.56-0.589C7.311,6.113,7.055,5.865,6.744,5.865c-0.005,0-0.01,0-0.015,0L5.074,5.907c2.146-2.118,5.604-2.634,7.971-1.007c2.775,1.912,3.48,5.726,1.57,8.501c-1.912,2.781-5.729,3.486-8.507,1.572c-0.259-0.18-0.618-0.119-0.799,0.146c-0.18,0.262-0.114,0.621,0.148,0.801c1.254,0.863,2.687,1.279,4.106,1.279c2.313,0,4.591-1.1,6.001-3.146c2.268-3.297,1.432-7.829-1.867-10.101c-2.781-1.913-6.816-1.36-9.351,1.058L4.309,3.567C4.303,3.252,4.036,3.069,3.72,3.007C3.402,3.015,3.151,3.279,3.16,3.597l0.075,2.932C3.234,6.547,3.251,6.556,3.254,6.572z\"}})])]):_vm._e(),_c('div',{staticClass:\"mx-6 my-2 w-2/3\"},[_c('div',{staticClass:\"bg-indigo-900 text-center py-4 lg:px-4\"},[_c('div',{staticClass:\"p-2 bg-indigo-800 items-center text-indigo-100 leading-none lg:rounded-full flex lg:inline-flex\",attrs:{\"role\":\"alert\"}},[_c('div',{staticClass:\"font-semibold mr-2 text-left flex-auto\"},[_vm._v(\" Space Wallet \")]),(_vm.hasValidNetwork())?_c('span',{staticClass:\"  flex rounded-full bg-indigo-500 uppercase px-2 py-1 text-xs font-bold mr-3\"},[_vm._v(\"Connected\")]):_vm._e(),(_vm.hasValidNetwork())?_c('span',{staticClass:\"   mr-2 text-left flex-auto\"},[_vm._v(\" Matic Mainnet \")]):_vm._e(),(!_vm.hasValidNetwork() && !_vm.loading)?_c('span',{staticClass:\"  flex rounded-full bg-red-500 uppercase px-2 py-1 text-xs font-bold mr-3\"},[_vm._v(\"Not Connected \")]):_vm._e(),(!_vm.hasValidNetwork() && !_vm.loading)?_c('span',{staticClass:\"   mr-2 text-left flex-auto\"},[_vm._v(\" Wrong Web3 Provider \")]):_vm._e()])]),(_vm.hasValidNetwork()  )?_c('div',[_c('div',{staticClass:\"mt-4 bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded\"},[_vm._v(\"\\n          Matic Balance:  \"+_vm._s(_vm.walletdetails.tokensBalanceFormatted)+\"  0xBTC\\n         \")]),_c('div',{staticClass:\"mt-4 bg-green-500 hover:bg-green-400 text-white font-bold py-2 px-4 border-b-4 border-green-700 hover:border-green-500 rounded\"},[_vm._v(\"\\n          Approved For Market: \"+_vm._s(_vm.getTokensApproved())+\"  0xBTC\\n\\n          \"),(_vm.couldApproveMore())?_c('div',{staticClass:\"inline float-right rounded-full bg-green-700 uppercase px-2 py-1 text-xs font-bold mr-3 cursor-pointer\",on:{\"click\":function($event){return _vm.clickedButton('approve')}}},[_vm._v(\" Approve \")]):_vm._e()]),_c('div'),_c('br'),(_vm.getTokensApproved() == 0)?_c('div',{staticClass:\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md\",attrs:{\"role\":\"alert\"}},[_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"py-1\"},[_c('svg',{staticClass:\"fill-current h-6 w-6 text-teal-500 mr-4\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\"}},[_c('path',{attrs:{\"d\":\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"}})])]),_c('div',[_c('p',{staticClass:\"font-bold\"},[_vm._v(\"Warning: No tokens approved\")]),_c('p',{staticClass:\"text-sm\"},[_vm._v(\"In order to purchase goods from the market, you must approve tokens to the contract.\")]),_c('a',{attrs:{\"href\":_vm.getPayspecContractURL(),\"target\":\"_blank\"}},[_vm._v(\" >> Read the Contract \")])])])]):_vm._e()]):_vm._e(),(!_vm.hasValidNetwork())?_c('div',[_vm._m(0)]):_vm._e()])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"role\":\"alert\"}},[_c('div',{staticClass:\"bg-red-500 text-white font-bold rounded-t px-4 py-2 mt-10\"},[_vm._v(\"\\n            Please connect to Matic Mainnet\\n          \")]),_c('div',{staticClass:\"border border-t-0 border-red-400 rounded-b bg-red-100 px-4 py-3 text-blue-700\"},[_c('a',{attrs:{\"href\":\"https://medium.com/@admazzola/how-to-use-metamask-with-matic-network-6895a34f6c6e\",\"target\":\"_blank\"}},[_vm._v(\" Guide: How to connect Metamask to Matic Mainnet \")])])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WalletPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WalletPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WalletPanel.vue?vue&type=template&id=c6a714f6&\"\nimport script from \"./WalletPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./WalletPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.activeStationPanel=='dev')?_c('div',{staticClass:\"p12\"},[_c('div',{staticClass:\"text-lg\"},[_vm._v(\" Developer Tools   \")]),_c('br'),_c('div',{staticClass:\"cursor-pointer m-4 p-4 bg-yellow-500 text-black text-lg \",on:{\"click\":function($event){return _vm.clickedButton('spawnItem')}}},[_vm._v(\"  Spawn Item \")])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"p12\" v-if=\"activeStationPanel=='dev'\" >\n\n    <div class=\"text-lg\"> Developer Tools   </div>\n    <br>\n    <div @click=\"clickedButton('spawnItem')\" class=\"cursor-pointer m-4 p-4 bg-yellow-500 text-black text-lg \">  Spawn Item </div>\n\n   \n\n  </div>\n</template>\n\n\n<script>\n\n\n\n\nimport GalaxyHelper from '../../../shared/lib/GalaxyHelper'\n\n\n\n\nexport default {\n\n\n  name: 'DevPanel',\n  props: ['devtoolsCallback','activeStationPanel'],\n  components: {\n\n  },\n  data() {\n    return {\n      myPlayer: null\n\n    }\n  },\n  mounted(){\n\n  },\n\n  methods: {\n\n\n    clickedButton: function(buttonName)\n    {\n      //bubble out to a callback\n      if(buttonName == 'spawnItem')\n      {\n          this.devtoolsCallback({requestType: 'spawnItem'})\n      }\n\n      if(buttonName == 'equipCannon')\n      {\n          this.devtoolsCallback({requestType: 'equipCannon'})\n      }\n\n    }\n\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DevPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DevPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DevPanel.vue?vue&type=template&id=3eb8e736&\"\nimport script from \"./DevPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./DevPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div  v-if=\"!hidden\" class=\"absolute p-0 m-0\" style=\"background:#111a; width:80%; height:80%; margin:   auto;top: 0; left: 0; bottom: 0; right: 0; \">\n\n\n    <div class=\"m-4 p-4 h-full\" style=\"margin:auto\">\n\n\n       <div class=\"flex h-full bg-gray-800 font-roboto\">\n\n        <Sidebar\n        ref=\"sidebar\"\n         v-bind:buttonClickedCallback=\"sidebarButtonClicked\"\n        />\n\n        <div class=\"flex-1 flex flex-col overflow-hidden\">\n\n          <Header class=\"hidden\"/>\n\n          <div class=\"flex-1 overflow-x-hidden overflow-y-auto bg-gray-900 relative\">\n            <div class=\"container mx-auto px-6 py-8 \">\n\n\n\n\n                <div class=\"text-centered w-full text-gray-100\">\n\n                   <InventoryPanel\n\n                    v-bind:rightClickRowCallback=\"handleItemActionMenuCallback\"\n                    v-bind:dataRequestCallback=\"dataRequestCallback\"\n                    v-bind:stationUnitId=\"stationUnitId\"\n                    v-bind:activeStationPanel=\"activePanel\"\n\n                    ref=\"inventorypanel\"\n                    />\n\n                    <HangarPanel\n                     v-bind:stationPanelIsHidden=\"hidden\"\n                     v-bind:stationUnitId=\"stationUnitId\"\n                     v-bind:myPossessedUnit=\"myPossessedUnit\"\n                     v-bind:activeStationPanel=\"activePanel\"\n                     v-bind:rightClickRowCallback=\"handleItemActionMenuCallback\"\n                     v-bind:dataRequestCallback=\"dataRequestCallback\"\n\n                      ref=\"hangarpanel\"\n                     />\n\n\n                     <ProductionPanel\n\n                      v-bind:rightClickRowCallback=\"handleItemActionMenuCallback\"\n                      v-bind:dataRequestCallback=\"dataRequestCallback\"\n                      v-bind:stationUnitId=\"stationUnitId\"\n                      v-bind:activeStationPanel=\"activePanel\"\n\n                      ref=\"productionpanel\"\n                      />\n\n                    <WalletPanel\n\n                     v-bind:dataRequestCallback=\"dataRequestCallback\"\n                     v-bind:localActionCallback=\"localActionCallback\"\n                     v-bind:activeStationPanel=\"activePanel\"\n                     ref=\"walletpanel\"\n                     />\n\n\n                     <MarketPanel\n\n                      v-bind:rightClickRowCallback=\"handleItemActionMenuCallback\"\n                      v-bind:dataRequestCallback=\"dataRequestCallback\"\n                      v-bind:stationUnitId=\"stationUnitId\"\n                      v-bind:activeStationPanel=\"activePanel\"\n                      v-bind:myPlayer=\"myPlayer\"\n                      ref=\"marketpanel\"\n                      />\n\n                      <DevPanel\n\n                       v-bind:devtoolsCallback=\"devToolsCallback\"\n                       v-bind:activeStationPanel=\"activePanel\"\n                       />\n\n\n                </div>\n\n\n\n              </div>\n\n              <ModalContainer\n              ref=\"modalContainer\"\n              v-bind:formSubmittedCallback=\"modalFormSubmitted\"\n              />\n\n\n\n\n            </div>\n          </div>\n\n        </div>\n\n        <div>\n\n\n\n        </div>\n\n      </div>\n\n\n\n\n    </div>\n\n\n</template>\n<script>\n/*\n\nWill have subpanels for:\n\nYour item storage (make folders for the user?)\n\nProduction  --certain modules can only be built in certain areas of space\nRecycling\nFitting panel - upper half is your ships slots, lower half is your items (rows)\n\n\n*/\n\n\n\nimport GalaxyHelper from '../../../shared/lib/GalaxyHelper'\nimport Sidebar from './components/Sidebar.vue'\nimport Header from './components/Header.vue'\nimport ModalContainer from './components/ModalContainer.vue'\n\nimport UnitHelper from '../../../shared/lib/UnitHelper'\n\n\nimport InventoryPanel from './InventoryPanel.vue'\nimport HangarPanel from './HangarPanel.vue'\nimport ProductionPanel from './ProductionPanel.vue'\nimport MarketPanel from './MarketPanel.vue'\nimport WalletPanel from './WalletPanel.vue'\nimport DevPanel from './DevPanel.vue'\n//import RecyclingPanel from './RecyclingPanel.vue'\n\n\n\nexport default {\n\n  name: 'StationPanel',\n  components: {\n     Sidebar,Header,ModalContainer,\n     InventoryPanel,HangarPanel,MarketPanel, ProductionPanel,\n     DevPanel, WalletPanel\n  },\n  props: ['commandCallback','dataRequestCallback','devToolsCallback','handleItemActionMenuCallback','localActionCallback'],\n  data() {\n    return {\n      myPlayer: null,\n      hidden: true,\n      activePanel: 'hangar',\n      stationUnitId: null,\n      myPossessedUnit: null\n    }\n  },\n  mounted() {\n\n  },\n  methods: {\n\n\n    setHidden: function(hidden){\n        this.hidden=hidden\n        //console.log('station panel is hidden: ', hidden)\n    },\n\n    /*handleRequestingAPIData: function(dataRequest){\n          this.dataRequestCallback(dataRequest)\n    },*/\n\n    entitiesChanged: function(myPossessedUnit, entities){\n      this.myPossessedUnit=myPossessedUnit\n       \n\n      if(UnitHelper.unitIsDockedAtStation(myPossessedUnit ))\n      {\n        this.setHidden(false)\n      }else{\n        this.setHidden(true)\n      }\n\n      this.stationUnitId = myPossessedUnit.dockedInStation\n\n    },\n\n\n\n    playersChanged: function(myPlayer, playersOnGrid)\n    {\n      this.myPlayer = myPlayer\n\n\n\n\n\n    },\n\n    sidebarButtonClicked: function(buttonName)\n    {\n\n\n      if(buttonName == 'undock')\n      {\n        this.commandCallback('undock')\n\n      }else{\n\n        this.setActivePanel( buttonName )\n\n      }\n\n      this.localActionCallback('closeRightClickMenus')\n\n\n    },\n\n    modalFormSubmitted : function(formData)\n    {\n      console.log( 'modalFormSubmitted' , formData )\n\n      //if(formData.requestType == 'makeMarketOrder'){\n          this.dataRequestCallback( formData )\n\n      //    web3Connection.createMarketOrder( formData , this.myPlayer)\n      //}\n\n        this.$refs.modalContainer.setHidden(true)\n    },\n\n    setActivePanel: function(panelName)\n    {\n      console.log(\"set panel \", panelName)\n      this.$refs.sidebar.setActivePanel( panelName )\n      this.activePanel = panelName\n\n\n          //poll right away\n          if(this.activePanel == 'inventory'){\n            this.$refs.inventorypanel.setNeedsUpdate(true)\n          }\n\n          if(this.activePanel == 'hangar'){\n            this.$refs.hangarpanel.setNeedsUpdate(true)\n            this.$refs.hangarpanel.closeSubPanels()\n          }\n\n          if(this.activePanel == 'market'){\n            this.$refs.marketpanel.setNeedsUpdate(true)\n          }\n\n          if(this.activePanel == 'wallet'){\n            this.$refs.walletpanel.setNeedsUpdate(true)\n          }\n\n          if(this.activePanel == 'production'){\n            this.$refs.productionpanel.setNeedsUpdate(true)\n          }\n\n\n    },\n\n    openSubPanel: function(name, params){\n      if(name == 'hangarFitting'){\n\n        this.$refs.hangarpanel.openSubPanel(name,params)\n      //  this.setActivePanel('hangar')\n      }\n      if(name == 'hangarCargo'){\n\n        this.$refs.hangarpanel.openSubPanel(name,params)\n      //  this.setActivePanel('hangar')\n      }\n    },\n\n\n    openModalOfType: function( modalType, tarData ){\n      this.$refs.modalContainer.setHidden(false)\n      this.$refs.modalContainer.setActiveForm(modalType)\n      this.$refs.modalContainer.setTargetData(tarData)\n    },\n\n/*\n\n\n*/\n\n    onReceivedDataRequestResponse: function( response){\n\n      //improves the snappiness of the hangar tab\n      if(this.activePanel == 'hangar' && this.$refs.hangarpanel){\n        this.$refs.hangarpanel.onReceivedDataRequestResponse(response )\n      }\n\n      if(this.activePanel == 'inventory' && this.$refs.inventorypanel){\n        this.$refs.inventorypanel.onReceivedDataRequestResponse(response )\n      }\n\n      if(this.activePanel == 'production' && this.$refs.productionpanel){\n        this.$refs.productionpanel.onReceivedDataRequestResponse(response )\n      }\n\n\n    }\n\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StationPanel.vue?vue&type=template&id=2ff3f9d0&\"\nimport script from \"./StationPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./StationPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.hidden)?_c('div',{staticClass:\"absolute  py-4 px-6 right-0 top-0\",staticStyle:{\"background\":\"#111a\"}},[_c('div',{staticClass:\"text-centered w-full text-gray-100  cursor-pointer\",on:{\"click\":function($event){_vm.collapsed=!_vm.collapsed}}},[_vm._v(\"  OVERVIEW \")]),(!_vm.collapsed)?_c('table',{staticClass:\"table-fixed text-xs text-gray-100 mt-4\"},[_vm._m(0),_c('tbody',_vm._l((_vm.entityList),function(item){return _c('tr',{key:item._id},[_c('td',{staticClass:\"border px-1 py-1 capitalize cursor-pointer\",class:{'border-yellow-400':item.partiallyLocked&&!item.fullyLocked, 'border-green-400':item.fullyLocked,'bg-gray-300 text-green-600 ':(item.isPrimaryTarget&&item.fullyLocked) ,'bg-gray-100 text-gray-600':(item.isPrimaryTarget&&!item.fullyLocked)   },on:{\"mousedown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.onRowLeftClicked(item)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"right\",39,$event.key,[\"Right\",\"ArrowRight\"])){ return null; }if('button' in $event && $event.button !== 2){ return null; }return _vm.onRowRightClicked(item)}],\"dblclick\":function($event){return _vm.onRowDoubleClicked(item)}}},[_vm._v(\" \"+_vm._s(item.name))]),_c('td',{staticClass:\"border px-1 py-1\"},[_vm._v(\" \"+_vm._s(item.distance)+\" \")])])}),0)]):_vm._e()]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Name\")]),_c('th',{staticClass:\"px-1 py-1\"},[_vm._v(\"Distance\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div  v-if=\"!hidden\"  class=\"absolute  py-4 px-6 right-0 top-0\" style=\"background:#111a\">\n\n  <div @click=\"collapsed=!collapsed\" class=\"text-centered w-full text-gray-100  cursor-pointer\">  OVERVIEW </div>\n\n    <table class=\"table-fixed text-xs text-gray-100 mt-4\" v-if=\"!collapsed\" >\n\n      <thead>\n       <tr>\n         <th class=\"px-1 py-1\">Name</th>\n         <th class=\"px-1 py-1\">Distance</th>\n       </tr>\n     </thead>\n     <tbody>\n      <tr v-for=\"item in entityList\" v-bind:key=\"item._id\">\n\n        <td class=\"border px-1 py-1 capitalize cursor-pointer\"\n         v-bind:class=\"{'border-yellow-400':item.partiallyLocked&&!item.fullyLocked, 'border-green-400':item.fullyLocked,'bg-gray-300 text-green-600 ':(item.isPrimaryTarget&&item.fullyLocked) ,'bg-gray-100 text-gray-600':(item.isPrimaryTarget&&!item.fullyLocked)   }  \"\n         @mousedown.left=\"onRowLeftClicked(item)\"\n          @mousedown.right=\"onRowRightClicked(item)\"\n          v-on:dblclick=\"onRowDoubleClicked(item)\"\n          > {{ item.name }}</td>\n\n        <td class=\"border px-1 py-1\"> {{ item.distance }} </td>\n      </tr>\n    </tbody>\n\n    </table>\n\n\n  </div>\n\n</template>\n\n\n<style>\n\n</style>\n<script>\nimport * as THREE from 'three'\n\n\nconst lockedClass = \" border-red-400 \"\n\n\nimport GalaxyHelper from '../../shared/lib/GalaxyHelper'\n\nimport UnitHelper from '../../shared/lib/UnitHelper'\n\nexport default {\n  name: 'OverviewPanel',\n  props: ['rightClickRowCallback','localActionCallback','commandCallback'],\n\n  data() {\n    return {\n      hidden: false,\n      collapsed:false,\n      entityList: [],\n      myPossessedUnit: null,\n      targetLocks: [],\n      primaryTargetUnitId:null\n    }\n  },\n  created(){\n    this.lockedClass = lockedClass\n  },\n  methods: {\n\n    onRowLeftClicked: function( unit ){\n       this.localActionCallback('setPrimaryTarget',{unit: unit})\n\n\n    },\n\n    onRowRightClicked: function( unit ){\n       this.rightClickRowCallback(unit)\n\n\n    },\n\n    onRowDoubleClicked: function( unit ){\n      this.localActionCallback('setPrimaryTarget',{unit: unit})\n      this.commandCallback('lock', {targetUnitId: unit._id}  )\n    },\n\n\n    entitiesChanged: function(myPossessedUnit, entities){\n\n      if(myPossessedUnit)\n      {\n        this.myPossessedUnit=myPossessedUnit;\n\n        this.entityList = []\n        for(var i in entities)\n        {\n          if(!entities[i].dead && !entities[i].dockedInStation){\n              this.entityList.push(  this.getTableDataForEntity( entities[i] ,myPossessedUnit ))\n          }\n\n        }\n      }\n\n      if(UnitHelper.unitIsDockedAtStation(myPossessedUnit ))\n      {\n        this.setHidden(true)\n      }else{\n        this.setHidden(false)\n      }\n\n\n\n    //  console.log('overview entities', this.entityList)\n\n    },\n\n    primaryTargetChanged: function( unit ){\n      this.primaryTargetUnitId = unit._id\n    },\n\n\n\n    targetLocksChanged: function(targetLocks){\n      this.targetLocks = targetLocks\n    },\n\n\n/*    unitIsFullyLocked: function(unit){\n\n      for(var lock of this.targetLocks){\n\n        if(lock.lockedUnitId.toString() == unit._id &&  lock.lockComplete){\n\n          return true\n        }\n\n      }\n\n        return false ;\n    },\n\n    unitIsPartialLocked: function(unit){\n\n      for(var lock of this.targetLocks){\n\n        if( lock.lockedUnitId.toString() == unit._id && !lock.lockComplete){\n\n          return true\n        }\n\n      }\n\n        return false ;\n    },*/\n\n    getTableDataForEntity(entity, myPossessedUnit)\n    {\n      var data = {}\n      data._id = entity._id\n      data.name =   GalaxyHelper.getNameForUnit( entity  )\n\n      data.isPrimaryTarget = ( this.primaryTargetUnitId == entity._id )\n\n      data.partiallyLocked = false\n      data.fullyLocked = false\n      for(var lock of this.targetLocks){\n\n        if(lock.lockingUnitId.toString() == myPossessedUnit._id &&  lock.lockedUnitId.toString() == entity._id  ){\n          if(lock.lockComplete){\n              data.fullyLocked = true\n          }else{\n            data.partiallyLocked = true\n          }\n\n          break\n        }\n      }\n      /*console.log('meep', entity )\n      if(entity.unittype == 'celestial' ) //is celestial\n      {\n        data.name = GalaxyHelper.getEntityData( entity ).name\n\n      }*/\n\n\n      //distance is broken ?\n      if(myPossessedUnit){\n        var loc = new THREE.Vector3(entity.locationVector.x,entity.locationVector.y,entity.locationVector.z)\n        data.distance = (loc.distanceTo( myPossessedUnit.locationVector )).toFixed(2)\n        if(data.distance < 10){ data.distance = '--'}\n      }\n\n      return data\n    },\n\n\n\n        setHidden: function(hidden){\n            this.hidden=hidden\n\n        },\n\n\n\n        playersChanged: function(myPlayer, playersOnGrid)\n        {\n\n\n\n        }\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverviewPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverviewPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OverviewPanel.vue?vue&type=template&id=0194fb9b&\"\nimport script from \"./OverviewPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./OverviewPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.hidden)?_c('div',{staticClass:\"p-2 text-white hover:text-red text-sm mb-4\",staticStyle:{\"position\":\"absolute\",\"background-color\":\"#1119\",\"z-index\":\"99\"},style:({top: _vm.offset.top, left:_vm.offset.left})},[_c('span',{staticClass:\"capitalize\"},[_vm._v(\"   \"+_vm._s(_vm.getMenuTitle()))]),_c('br'),(_vm.targettingData.canWarp)?_c('button',{staticClass:\"block p-2\",on:{\"click\":function($event){return _vm.command('warp')}}},[_vm._v(\"\\n    Warp to --\\n  \")]):_vm._e(),(_vm.targettingData.canApproach)?_c('button',{staticClass:\"block p-2\",on:{\"click\":function($event){return _vm.command('approach')}}},[_vm._v(\"\\n    Approach\\n  \")]):_vm._e(),(_vm.targettingData.canOrbit)?_c('button',{staticClass:\"block p-2\",on:{\"click\":function($event){return _vm.command('orbit')}}},[_vm._v(\"\\n    Orbit\\n  \")]):_vm._e(),(_vm.targettingData.canLock)?_c('button',{staticClass:\"block p-2\",on:{\"click\":function($event){return _vm.command('lock')}}},[_vm._v(\"\\n    Lock\\n  \")]):_vm._e(),(_vm.targettingData.canUnlock)?_c('button',{staticClass:\"block p-2\",on:{\"click\":function($event){return _vm.command('unlock')}}},[_vm._v(\"\\n    Unlock\\n  \")]):_vm._e(),(_vm.targettingData.canDock)?_c('button',{staticClass:\"block p-2\",on:{\"click\":function($event){return _vm.command('dock')}}},[_vm._v(\"\\n    Dock\\n  \")]):_vm._e(),(_vm.targettingData.canJump)?_c('button',{staticClass:\"block p-2\",on:{\"click\":function($event){return _vm.command('jump')}}},[_vm._v(\"\\n    Jump\\n  \")]):_vm._e(),(_vm.targettingData.canLoot)?_c('button',{staticClass:\"block p-2\",on:{\"click\":function($event){return _vm.command('startlooting')}}},[_vm._v(\"\\n    Loot\\n  \")]):_vm._e(),(_vm.celestials && _vm.targettingData.showCelestials)?_c('div',[_c('HoverMenu',{ref:\"warpgateMenu\",class:{hidden: !_vm.celestials.warpgates || _vm.celestials.warpgates.length ==0},attrs:{\"title\":\"Warp Gates\",\"optionArray\":_vm.celestials.warpgates,\"commandCallback\":_vm.clickedHoverMenuOption,\"openedCallback\":_vm.clickedHoverMenu}}),_c('HoverMenu',{ref:\"planetMenu\",class:{hidden: !_vm.celestials.planets || _vm.celestials.planets.length ==0},attrs:{\"title\":\"Planets\",\"optionArray\":_vm.celestials.planets,\"commandCallback\":_vm.clickedHoverMenuOption,\"openedCallback\":_vm.clickedHoverMenu}}),_c('HoverMenu',{ref:\"structureMenu\",class:{hidden: !_vm.celestials.structures || _vm.celestials.structures.length ==0},attrs:{\"title\":\"Structures\",\"optionArray\":_vm.celestials.structures,\"commandCallback\":_vm.clickedHoverMenuOption,\"openedCallback\":_vm.clickedHoverMenu}}),_c('HoverMenu',{ref:\"anomalyMenu\",class:{hidden: !_vm.celestials.anomalies || _vm.celestials.anomalies.length ==0},attrs:{\"title\":\"Anomalies\",\"optionArray\":_vm.celestials.anomalies,\"commandCallback\":_vm.clickedHoverMenuOption,\"openedCallback\":_vm.clickedHoverMenu}})],1):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.optionArray && _vm.optionArray.length>0)?_c('div',{staticClass:\"relative\"},[_c('button',{staticClass:\"block p-2\",on:{\"click\":function($event){return _vm.toggleMenu()}}},[_vm._v(\"\\n    \"+_vm._s(_vm.title)+\"\\n  \")]),(!_vm.hidden)?_c('div',{staticClass:\"absolute top-0  z-110 bg-black text-white\",staticStyle:{\"left\":\"100px\"}},_vm._l((_vm.optionArray),function(item){return _c('button',{key:item.id,staticClass:\"block p-2 capitalize\",on:{\"click\":function($event){return _vm.clickedOption( item.id  )}}},[_vm._v(\"\\n      \"+_vm._s(item.name)+\"\\n    \")])}),0):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"relative\" v-if=\"optionArray && optionArray.length>0\">\n    <button @click=\"toggleMenu()\" class=\"block p-2\"  >\n      {{ title }}\n    </button>\n\n    <div v-if=\"!hidden\" class=\"absolute top-0  z-110 bg-black text-white\" style=\"left:100px\" >\n\n      <button v-for=\"item in optionArray\" :key=\"item.id \" @click=\"clickedOption( item.id  )\" class=\"block p-2 capitalize\"   >\n        {{item.name }}\n      </button>\n\n\n    </div>\n\n  </div>\n</template>\n<script>\nimport * as THREE from 'three'\n\nexport default {\n  name: 'HoverMenu',\n  props: ['title', 'optionArray','commandCallback','openedCallback'],\n  data() {\n    return {\n      hidden: true,\n\n    }\n  },\n  methods: {\n\n\n\n    setHidden: function(hidden){\n        this.hidden=hidden\n\n    },\n\n    toggleMenu()\n    {\n\n\n      this.openedCallback(  this.hidden   )\n\n      this.setHidden(!this.hidden)\n\n    },\n    clickedOption: function(optionId){\n      console.log('clicked', optionId)\n      this.commandCallback(this.title,optionId)\n    },\n\n\n\n\n\n\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HoverMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HoverMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HoverMenu.vue?vue&type=template&id=2db48ce9&\"\nimport script from \"./HoverMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./HoverMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n   v-if=\"!hidden\"\n  :style=\"{top: offset.top, left:offset.left}\"\n  style=\"position:absolute;background-color:#1119;z-index:99\"\n  class=\"p-2 text-white hover:text-red text-sm mb-4\">\n    <span class=\"capitalize\" >   {{getMenuTitle()}}</span>\n    <br>\n    <button @click=\"command('warp')\" class=\"block p-2\" v-if=\"targettingData.canWarp\" >\n      Warp to --\n    </button>\n    <button @click=\"command('approach')\" class=\"block p-2\" v-if=\"targettingData.canApproach\">\n      Approach\n    </button>\n    <button @click=\"command('orbit')\" class=\"block p-2\" v-if=\"targettingData.canOrbit\">\n      Orbit\n    </button>\n\n    <button @click=\"command('lock')\" class=\"block p-2\" v-if=\"targettingData.canLock\">\n      Lock\n    </button>\n    <button @click=\"command('unlock')\" class=\"block p-2\" v-if=\"targettingData.canUnlock\">\n      Unlock\n    </button>\n    <button @click=\"command('dock')\" class=\"block p-2\" v-if=\"targettingData.canDock\">\n      Dock\n    </button>\n    <button @click=\"command('jump')\" class=\"block p-2\" v-if=\"targettingData.canJump\">\n      Jump\n    </button>\n\n    <button @click=\"command('startlooting')\" class=\"block p-2\" v-if=\"targettingData.canLoot\">\n      Loot\n    </button>\n\n    <div v-if=\"celestials && targettingData.showCelestials\">\n      <HoverMenu :class=\"{hidden: !celestials.warpgates || celestials.warpgates.length ==0}\"\n        title=\"Warp Gates\"\n        v-bind:optionArray=\"celestials.warpgates\"\n        v-bind:commandCallback=\"clickedHoverMenuOption\"\n        v-bind:openedCallback=\"clickedHoverMenu\"\n        ref=\"warpgateMenu\"\n       />\n       <HoverMenu :class=\"{hidden: !celestials.planets || celestials.planets.length ==0}\"\n         title=\"Planets\"\n         v-bind:optionArray=\"celestials.planets\"\n         v-bind:commandCallback=\"clickedHoverMenuOption\"\n         v-bind:openedCallback=\"clickedHoverMenu\"\n         ref=\"planetMenu\"\n        />\n        <HoverMenu :class=\"{hidden: !celestials.structures || celestials.structures.length ==0}\"\n          title=\"Structures\"\n          v-bind:optionArray=\"celestials.structures\"\n          v-bind:commandCallback=\"clickedHoverMenuOption\"\n          v-bind:openedCallback=\"clickedHoverMenu\"\n          ref=\"structureMenu\"\n         />\n         <HoverMenu :class=\"{hidden: !celestials.anomalies || celestials.anomalies.length ==0}\"\n           title=\"Anomalies\"\n           v-bind:optionArray=\"celestials.anomalies\"\n           v-bind:commandCallback=\"clickedHoverMenuOption\"\n           v-bind:openedCallback=\"clickedHoverMenu\"\n           ref=\"anomalyMenu\"\n          />\n    </div>\n\n\n\n  </div>\n</template>\n<script>\nimport * as THREE from 'three'\n\nimport HoverMenu from './components/HoverMenu'\n\nimport GalaxyHelper from '../../shared/lib/GalaxyHelper'\nimport UnitHelper from '../../shared/lib/UnitHelper'\n\nexport default {\n  name: 'RightClickMenu',\n  props: ['commandCallback','localActionCallback'],\n  components: {\n     HoverMenu,\n  },\n  data() {\n    return {\n      hidden: true,\n      offset: {top:0, left:0},\n      targettingData: {},\n      celestials: null,\n      targetLocks: [],\n      myPossessedUnit: null,\n      grid:null\n    //  warpGates: [],\n    //  planets:  [],\n    //  anomalies: []\n    }\n  },\n  methods: {\n\n    gridChanged: function( grid ){\n\n\n    },\n\n    /// need player and solar system data\n    entitiesChanged: function(myPossessedUnit, entities, gridData){\n\n      this.myPossessedUnit = myPossessedUnit;\n\n      if(myPossessedUnit)\n      {\n        var myGridUUID = myPossessedUnit.grid;\n        var mySolarsystemName = gridData.solarsystem;\n      //console.log(\"rclickmenu knows im at \", myPossessedUnit , myGridUUID, mySolarsystemName)\n\n        var celestials = GalaxyHelper.getCelestialsInSolarsystem( mySolarsystemName )\n\n      //  console.log(\"celestials \", celestials)\n\n        this.celestials = {\n\n          warpgates:[],\n          planets:[],\n          anomalies:[],\n          structures:[]\n\n        }\n\n        for(var i in celestials)\n        {\n          var cData = GalaxyHelper.getCelestialData(celestials[i])\n\n          if(cData.celestialtype === 'warpgate')\n          {\n            this.celestials.warpgates.push(  {\n              name: cData.name,\n              id: cData.uuid\n            })\n          }\n          if(cData.celestialtype === 'anomaly')\n          {\n              this.celestials.anomalies.push(  {\n              name: cData.name,\n              id: cData.uuid\n            })\n          }\n          if(cData.celestialtype === 'planet')\n          {\n            this.celestials.planets.push(  {\n              name: cData.name,\n              id: cData.uuid\n            })\n          }\n          if(cData.celestialtype === 'structure')\n          {\n              this.celestials.structures.push(  {\n              name: cData.name,\n              id: cData.uuid\n            })\n          }\n\n          //do other types too\n        }\n\n      //  this.celestialswarpGates = warpGateOptions\n\n      }\n\n    },\n\n\n    targetLocksChanged: function(targetLocks){\n      this.targetLocks = targetLocks\n    },\n\n    setHidden: function(hidden){\n        this.hidden=hidden\n\n    },\n\n    clickedHoverMenu: function(hoverMenuName,opened){\n      this.$refs.warpgateMenu.setHidden(true);\n      this.$refs.planetMenu.setHidden(true);\n      this.$refs.anomalyMenu.setHidden(true);\n      this.$refs.structureMenu.setHidden(true);\n    },\n\n    clickedHoverMenuOption: function(hoverMenuName,optionId){\n          console.log(hoverMenuName, optionId)\n          this.setHidden(true)\n\n          if(this.myPossessedUnit && hoverMenuName === 'Warp Gates' || hoverMenuName === 'Planets' || hoverMenuName === 'Structures' || hoverMenuName === 'Anomalies')\n          {\n            let warpLocationVector = {x:0,y:0,z:0}\n\n\n            let unitLocation = new THREE.Vector3(this.myPossessedUnit.locationVector.x,this.myPossessedUnit.locationVector.y,this.myPossessedUnit.locationVector.z)\n            let unitGridUUID = this.myPossessedUnit.grid\n\n            let newLocationVector = warpLocationVector\n            let newGridUUID = optionId\n\n            let predictAllowedToWarp = (newGridUUID.toLowerCase() != unitGridUUID.toLowerCase() || unitLocation.distanceTo( newLocationVector ) > 148  )\n            if(predictAllowedToWarp){\n              this.commandCallback('initiateWarp', {warpGridUUID:optionId, warpLocationVector: warpLocationVector }  ) //param needs to have the new grid uuid\n            }else{\n              console.log('prediction: cannot warp ')\n            }\n\n\n          }\n    },\n\n    setOffsets: function(offset){\n        this.offset=offset\n        console.log('offset',offset)\n    },\n\n    command: function(cmdName){\n      console.log('command',cmdName, this.targettingData )\n\n      var target = this.targettingData.target;\n      var targetId = this.targettingData.targetId;\n\n      if(cmdName == 'dock')\n      {\n         this.commandCallback('dock', {targetUnitId: targetId}  )\n      }\n\n      if(cmdName == 'jump')\n      {\n         this.commandCallback('jump', {targetUnitId: targetId}  )\n      }\n\n      if(cmdName == 'startlooting')\n      {\n         this.localActionCallback('setLootingTarget',{unit: target})\n         this.commandCallback('startlooting', {targetUnitId: targetId}  )  //just for the approach\n      }\n\n      if(cmdName == 'lock')\n      {\n         this.localActionCallback('setPrimaryTarget',{unit: target})\n         this.commandCallback('lock', {targetUnitId: targetId}  )\n      }\n\n      if(cmdName == 'unlock')\n      {\n         this.commandCallback('unlock', {targetUnitId: targetId}  )\n      }\n\n      if(cmdName == 'orbit')\n      {\n        // let orbitRadius = 200 //for now\n\n         this.commandCallback('orbit', {targetUnitId: targetId }  )\n      }\n\n      if(cmdName == 'approach')\n      {\n         this.commandCallback('approach', {targetUnitId: targetId}  )\n      }\n\n      this.setHidden(true)\n    },\n\n    getMenuTitle: function()\n    {\n        if(this.targettingData.targetName)\n        {\n          return this.targettingData.targetName\n        }\n\n        return 'Navigation'\n    },\n    buildTargettingData: function(entity)  //entity null ?\n   {\n\n     //this is not working properly!\n\n      if(!entity || entity.name == 'skybox'  )\n      {\n        this.targettingData = {\n          targetName: \"\",\n          target: null,\n          targetId: null,\n          canApproach: false,\n          canOrbit: false,\n          canDock: false,\n          canJump: false,\n          canLoot: false,\n          canLock: false,\n          canUnlock: false,\n          showCelestials: true\n        }\n        return\n      }\n\n      var ultimateParent = entity\n\n     // for SOME REASON the corvettes parent is teh station !?\n\n      while(ultimateParent.parent && typeof ultimateParent.userData.basetype == 'undefined')\n      {\n        ultimateParent = ultimateParent.parent\n      }\n\n      console.log('ultimateParent 2', ultimateParent )\n\n      //get services from basetype\n      let otherUnitId =  ultimateParent.userData._id\n      let basetype = ultimateParent.userData.basetype;\n      let basetypeData = UnitHelper.getBaseTypeData( ultimateParent.userData )\n\n      let canDock = UnitHelper.unitHasService( ultimateParent.userData, 'docking'  )\n\n      let canJump = UnitHelper.unitHasService( ultimateParent.userData, 'jumping'  )\n\n      let canLoot = UnitHelper.unitHasService( ultimateParent.userData, 'looting'  )\n\n      let targetIsLocked = false\n\n      for(var lock of this.targetLocks){\n        console.log( this.myPossessedUnit , lock , otherUnitId  )\n        if(this.myPossessedUnit && lock.lockComplete && lock.lockedUnitId.toString() == otherUnitId && lock.lockingUnitId.toString() == this.myPossessedUnit._id)\n        {\n          targetIsLocked=true\n          break;\n        }\n      }\n\n      console.log('build right click target data ', ultimateParent  )\n        this.targettingData = {\n          targetName: basetypeData.name,\n          targetId: ultimateParent.userData._id,\n          target: ultimateParent.userData,\n          canApproach: true,\n          canOrbit: true,\n          canDock: canDock,\n          canLock: !targetIsLocked,\n          canUnlock: targetIsLocked,\n          canJump: canJump,\n          canLoot: canLoot,\n          showCelestials: false\n        }\n\n\n\n      /*\n        Approach\n        if its a gate -- Jump\n        if its a station -- dock\n        if its a ship -- lock\n\n      */\n\n   },\n\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RightClickMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RightClickMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RightClickMenu.vue?vue&type=template&id=75dd40bc&\"\nimport script from \"./RightClickMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./RightClickMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.hidden)?_c('div',{staticClass:\"p-2 text-white hover:text-red text-sm mb-4 text-left\",staticStyle:{\"position\":\"absolute\",\"background-color\":\"#111d\",\"z-index\":\"99\"},style:({top: _vm.offset.top, left:_vm.offset.left})},[(_vm.itemType == 'item' && _vm.context=='inventory')?_c('div',[_c('button',{staticClass:\"block p-2 hover:bg-gray-600 w-full  \",on:{\"click\":function($event){return _vm.command('startsell')}}},[_vm._v(\"\\n    Sell On Market\\n  \")]),_c('button',{staticClass:\"block p-2 hover:bg-gray-600 w-full\",on:{\"click\":function($event){return _vm.command('salvageItem')}}},[_vm._v(\"\\n    Salvage\\n  \")]),_c('button',{staticClass:\"block p-2 hover:bg-gray-600 w-full\",on:{\"click\":function($event){return _vm.command('stackAll')}}},[_vm._v(\"\\n    Stack All\\n  \")]),_c('button',{staticClass:\"block p-2 hover:bg-gray-600 w-full\",on:{\"click\":function($event){return _vm.command('destackItem')}}},[_vm._v(\"\\n   Destack\\n  \")]),_c('hr'),_c('button',{staticClass:\"block p-2 hover:bg-gray-600 w-full\",on:{\"click\":function($event){return _vm.command('trashItem')}}},[_vm._v(\"\\n    Trash\\n  \")])]):_vm._e(),(_vm.itemType == 'item' && _vm.context=='loot')?_c('div',[_c('button',{staticClass:\"block p-2 hover:bg-gray-600 w-full  \",on:{\"click\":function($event){return _vm.command('lootitem')}}},[_vm._v(\"\\n    Loot\\n  \")])]):_vm._e(),(_vm.itemType == 'item' && _vm.context=='cargopanel_cargo')?_c('div',[_c('button',{staticClass:\"block p-2 hover:bg-gray-600 w-full  \",on:{\"click\":function($event){return _vm.command('moveItemToStation')}}},[_vm._v(\"\\n    Move to Station Inventory\\n  \")])]):_vm._e(),(_vm.itemType == 'item' && _vm.context=='cargopanel_inventory')?_c('div',[_c('button',{staticClass:\"block p-2 hover:bg-gray-600 w-full  \",on:{\"click\":function($event){return _vm.command('moveItemToShip')}}},[_vm._v(\"\\n    Move to Ship Cargo\\n  \")])]):_vm._e(),(_vm.itemType == 'item' && _vm.context=='fitting')?_c('div',[_c('button',{staticClass:\"block p-2 hover:bg-gray-600 w-full  \",on:{\"click\":function($event){return _vm.command('equipItemToShip')}}},[_vm._v(\"\\n    Equip to Ship\\n  \")])]):_vm._e(),(_vm.itemType == 'equipment' && _vm.context=='fitting')?_c('div',[_c('button',{staticClass:\"block p-2 hover:bg-gray-600 w-full  \",on:{\"click\":function($event){return _vm.command('unequipItemFromShip')}}},[_vm._v(\"\\n    Unequip from Ship\\n  \")])]):_vm._e(),(_vm.itemType == 'blueprint' && _vm.context=='production')?_c('div',[_c('button',{staticClass:\"block p-2 hover:bg-gray-600 w-full  \",on:{\"click\":function($event){return _vm.command('startProducingFromBlueprint')}}},[_vm._v(\"\\n    Produce From Blueprint\\n  \")])]):_vm._e(),(_vm.itemType == 'order')?_c('div',[_c('button',{staticClass:\"block p-2 hover:bg-gray-600 w-full  \",on:{\"click\":function($event){return _vm.command('buyout')}}},[_vm._v(\"\\n      Buyout\\n    \")]),_c('button',{staticClass:\"block p-2 hover:bg-gray-600 w-full  \",on:{\"click\":function($event){return _vm.command('orderdetails')}}},[_vm._v(\"\\n      View Order Details\\n    \")]),(_vm.canCancelOrder())?_c('button',{staticClass:\"block p-2 hover:bg-gray-600 w-full  \",on:{\"click\":function($event){return _vm.command('cancelorder')}}},[_vm._v(\"\\n      Cancel Order\\n    \")]):_vm._e()]):_vm._e(),(_vm.itemType == 'ship')?_c('div',[_c('button',{staticClass:\"block p-2 hover:bg-gray-600 w-full  \",on:{\"click\":function($event){return _vm.command('possessShip')}}},[_vm._v(\"\\n      Board\\n    \")]),_c('button',{staticClass:\"block p-2 hover:bg-gray-600 w-full  \",on:{\"click\":function($event){return _vm.command('openFittingPanel')}}},[_vm._v(\"\\n      Fitting\\n    \")]),_c('button',{staticClass:\"block p-2 hover:bg-gray-600 w-full  \",on:{\"click\":function($event){return _vm.command('openHangarCargoPanel')}}},[_vm._v(\"\\n      Cargo Contents\\n    \")]),_c('button',{staticClass:\"block p-2 hover:bg-gray-600 w-full  \",on:{\"click\":function($event){return _vm.command('repackageShip')}}},[_vm._v(\"\\n      Repackage\\n    \")])]):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n   v-if=\"!hidden\"\n  :style=\"{top: offset.top, left:offset.left}\"\n  style=\"position:absolute;background-color:#111d;z-index:99\"\n  class=\"p-2 text-white hover:text-red text-sm mb-4 text-left\">\n\n  <div v-if=\"itemType == 'item' && context=='inventory'\" >\n\n\n    <button @click=\"command('startsell')\" class=\"block p-2 hover:bg-gray-600 w-full  \"   >\n      Sell On Market\n    </button>\n\n    <button @click=\"command('salvageItem')\" class=\"block p-2 hover:bg-gray-600 w-full\"   >\n      Salvage\n    </button>\n\n\n\n    <button @click=\"command('stackAll')\" class=\"block p-2 hover:bg-gray-600 w-full\"   >\n      Stack All\n    </button>\n\n    <button @click=\"command('destackItem')\" class=\"block p-2 hover:bg-gray-600 w-full\"   >\n     Destack\n    </button>\n\n    <hr>\n\n    <button @click=\"command('trashItem')\" class=\"block p-2 hover:bg-gray-600 w-full\"   >\n      Trash\n    </button>\n\n\n  </div>\n\n  <div v-if=\"itemType == 'item' && context=='loot'\" >\n\n\n    <button @click=\"command('lootitem')\" class=\"block p-2 hover:bg-gray-600 w-full  \"   >\n      Loot\n    </button>\n\n\n\n  </div>\n\n  <div v-if=\"itemType == 'item' && context=='cargopanel_cargo'\" >\n\n    <button @click=\"command('moveItemToStation')\" class=\"block p-2 hover:bg-gray-600 w-full  \"   >\n      Move to Station Inventory\n    </button>\n\n  </div>\n\n  <div v-if=\"itemType == 'item' && context=='cargopanel_inventory'\" >\n\n    <button @click=\"command('moveItemToShip')\" class=\"block p-2 hover:bg-gray-600 w-full  \"   >\n      Move to Ship Cargo\n    </button>\n\n  </div>\n\n  <div v-if=\"itemType == 'item' && context=='fitting'\" >\n\n    <button @click=\"command('equipItemToShip')\" class=\"block p-2 hover:bg-gray-600 w-full  \"   >\n      Equip to Ship\n    </button>\n\n  </div>\n\n  <div v-if=\"itemType == 'equipment' && context=='fitting'\" >\n\n    <button @click=\"command('unequipItemFromShip')\" class=\"block p-2 hover:bg-gray-600 w-full  \"   >\n      Unequip from Ship\n    </button>\n\n  </div>\n\n  <div v-if=\"itemType == 'blueprint' && context=='production'\" >\n\n    <button @click=\"command('startProducingFromBlueprint')\" class=\"block p-2 hover:bg-gray-600 w-full  \"   >\n      Produce From Blueprint\n    </button>\n\n  </div>\n\n    <div v-if=\"itemType == 'order'\" >\n      <button @click=\"command('buyout')\" class=\"block p-2 hover:bg-gray-600 w-full  \"   >\n        Buyout\n      </button>\n\n      <button @click=\"command('orderdetails')\" class=\"block p-2 hover:bg-gray-600 w-full  \"   >\n        View Order Details\n      </button>\n\n      <button v-if=\"canCancelOrder()\" @click=\"command('cancelorder')\" class=\"block p-2 hover:bg-gray-600 w-full  \"   >\n        Cancel Order\n      </button>\n    </div>\n\n    <div v-if=\"itemType == 'ship'\" >\n\n      <button @click=\"command('possessShip')\" class=\"block p-2 hover:bg-gray-600 w-full  \"   >\n        Board\n      </button>\n\n\n      <button @click=\"command('openFittingPanel')\" class=\"block p-2 hover:bg-gray-600 w-full  \"   >\n        Fitting\n      </button>\n\n      <button @click=\"command('openHangarCargoPanel')\" class=\"block p-2 hover:bg-gray-600 w-full  \"   >\n        Cargo Contents\n      </button>\n\n      <button  @click=\"command('repackageShip')\" class=\"block p-2 hover:bg-gray-600 w-full  \"   >\n        Repackage\n      </button>\n    </div>\n\n\n\n\n  </div>\n</template>\n<script>\nimport * as THREE from 'three'\n\nimport GalaxyHelper from '../../shared/lib/GalaxyHelper'\n\nexport default {\n  name: 'ItemActionMenu',\n  props: ['dataRequestCallback','localActionCallback'],\n  components: {\n\n  },\n  data() {\n    return {\n      hidden: true,\n      offset: {top:0, left:0},\n      targettingData: {},\n\n      targettedItem: null,\n      panelFocusedUnit:null,\n      itemType: null,\n      context: null,\n\n      myPlayer: null\n\n    }\n  },\n  methods: {\n\n\n\n    setHidden: function(hidden){\n        this.hidden=hidden\n\n    },\n\n\n    playersChanged: function(myPlayer, playersOnGrid)\n    {\n      this.myPlayer = myPlayer\n\n\n\n    },\n\n\n    canCancelOrder: function(){\n\n      if(this.myPlayer  )\n      {\n        let publicAddress = this.myPlayer.publicAddress\n\n        return this.targettedItem && this.targettedItem.payTo && this.targettedItem.payTo == publicAddress\n\n      }\n\n      return false\n\n    },\n\n    setOffsets: function(offset){\n        this.offset=offset\n\n    },\n\n    command: async function(cmdName){\n\n    //  var targetId = this.targettingData.targetId;\n\n      if(cmdName == 'startsell')\n      {\n         this.localActionCallback('startsell', {item: this.targettedItem } )   // 5f7aab8282f5ae6884aaa2ff ???\n      }\n\n      if(cmdName == 'salvageItem')\n      {\n         this.localActionCallback( 'salvageItem', {item: this.targettedItem } )\n       }\n\n\n\n      if(cmdName == 'cancelorder')\n      {\n        //an onchain event .. also sends tx data to server\n         this.localActionCallback('cancelOrder',{order: this.targettedItem } )   // 5f7aab8282f5ae6884aaa2ff ???\n      }\n\n      if(cmdName == 'buyout')\n      {\n         this.localActionCallback( 'buyoutOrder', {order: this.targettedItem  } )\n       }\n\n\n       if(cmdName == 'openFittingPanel')\n       {\n          this.localActionCallback( 'openFittingPanel', {item: this.targettedItem } )\n        }\n\n      if(cmdName == 'openHangarCargoPanel')\n      {\n         this.localActionCallback( 'openHangarCargoPanel',{item: this.targettedItem } )\n       }\n\n\n       if(cmdName == 'destackItem')\n       {\n          this.localActionCallback( 'destackItem',{item: this.targettedItem } )\n        }\n\n        if(cmdName == 'trashItem')\n        {\n           this.localActionCallback( 'trashItem',{item: this.targettedItem } )\n         }\n\n\n         if(cmdName == 'startProducingFromBlueprint')\n         {\n          this.localActionCallback( 'startProducingFromBlueprint',{item: this.targettedItem } )\n        }\n\n\n       if(cmdName == 'stackAll')\n       {\n         let input = {\n           requestType:'stackAll',\n            item: this.targettedItem\n           }\n\n         let response = await this.dataRequestCallback(input )\n        }\n\n\n\n\n         if(cmdName == 'moveItemToStation')\n         {\n           let input = {\n             requestType:'moveItemToStation',\n              item: this.targettedItem,\n              station: this.panelFocusedUnit\n             }\n\n           let response = await this.dataRequestCallback(input )\n         }\n\n         if(cmdName == 'moveItemToShip')\n         {\n           let input = {\n             requestType:'moveItemToShip',\n              item: this.targettedItem,\n              ship: this.panelFocusedUnit\n             }\n\n            let response = await this.dataRequestCallback(input )\n         }\n\n         if(cmdName == 'equipItemToShip')\n         {\n           let input = {\n             requestType:'equipItemToShip',\n              item: this.targettedItem,\n                ship: this.panelFocusedUnit\n             }\n\n          let response = await this.dataRequestCallback(input )\n         }\n         if(cmdName == 'unequipItemFromShip')\n         {\n           let input = {\n             requestType:'unequipItemFromShip',\n              item: this.targettedItem\n             }\n\n          let response = await this.dataRequestCallback(input )\n         }\n\n         if (cmdName == 'possessShip'){\n           let input = {\n             requestType:'possessShip',\n              item: this.targettedItem\n             }\n\n            let response = await this.dataRequestCallback(input )\n\n         }\n\n         if(cmdName == 'repackageShip')\n         {\n           let input = {\n             requestType:'repackageShip',\n              item: this.targettedItem\n             }\n\n            let response = await this.dataRequestCallback(input )\n         }\n\n         if(cmdName == 'unpackageShip')\n         {\n\n         }\n\n\n\n\n      this.setHidden(true)\n    },\n\n\n    buildTargettingData: function( tarData )  //entity null ?\n   {\n\n\n     this.targettingData = tarData\n     console.log('built tar data', tarData)\n\n     this.targettedItem = tarData.item\n     this.panelFocusedUnit = tarData.panelFocusedUnit\n     this.itemType = tarData.itemType\n     this.context = tarData.context\n   },\n\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemActionMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemActionMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemActionMenu.vue?vue&type=template&id=250e3068&\"\nimport script from \"./ItemActionMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemActionMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.hidden)?_c('div',{staticClass:\"absolute  py-4 px-6 left-0  \",staticStyle:{\"background\":\"#111a\",\"bottom\":\"2%\"}},[_c('div',{staticClass:\"text-centered w-full text-gray-100  cursor-pointer mb-4 capitalize\"},[_vm._v(\"  \"+_vm._s(_vm.getMenuTitle())+\" \")]),_c('div',{staticClass:\"bg-blue-500 text-xs text-white p-1\",staticStyle:{\"width\":\"200px\",\"height\":\"20px\"}},[_vm._v(\" Shields \"+_vm._s(_vm.compiledStats.currentShields)+\"/\"+_vm._s(_vm.compiledStats.maxShields)+\" \")]),_c('div',{staticClass:\"bg-gray-700 text-xs text-white p-1\",staticStyle:{\"width\":\"200px\",\"height\":\"20px\"}},[_vm._v(\" Armor \"+_vm._s(_vm.compiledStats.currentArmor)+\"/\"+_vm._s(_vm.compiledStats.maxArmor)+\" \")]),_c('div',{staticClass:\"bg-yellow-700 text-xs text-white p-1\",staticStyle:{\"width\":\"200px\",\"height\":\"20px\"}},[_vm._v(\" Energy \"+_vm._s(_vm.compiledStats.currentEnergy)+\"/\"+_vm._s(_vm.compiledStats.maxEnergy)+\" \")]),_c('br'),_c('div',{staticClass:\"bg-gray-400 text-xs text-black p-1\",staticStyle:{\"width\":\"200px\",\"height\":\"20px\"}},[_vm._v(\" Velocity \"+_vm._s(_vm.compiledStats.speed)+\"km/s \")]),_c('br'),(_vm.myPossessedUnit)?_c('div',{staticClass:\"bg-gray-800 text-xs text-black p-1\"},[_vm._v(\" \"+_vm._s(_vm.myPossessedUnit.grid)+\" \")]):_vm._e(),(_vm.myPossessedUnit)?_c('div',{staticClass:\"bg-gray-800 text-xs text-black p-1\"},[_vm._v(\" \"+_vm._s(_vm.formattedLocationVector())+\" \")]):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"!hidden\"   class=\"absolute  py-4 px-6 left-0  \" style=\"background:#111a; bottom: 2%\">\n\n  <div   class=\"text-centered w-full text-gray-100  cursor-pointer mb-4 capitalize\">  {{getMenuTitle()}} </div>\n\n\n\n  <div class=\"bg-blue-500 text-xs text-white p-1\" style=\"width:200px;height:20px;\"> Shields {{compiledStats.currentShields}}/{{compiledStats.maxShields}} </div>\n  <div class=\"bg-gray-700 text-xs text-white p-1\" style=\"width:200px;height:20px;\"> Armor {{compiledStats.currentArmor}}/{{compiledStats.maxArmor}} </div>\n  <div class=\"bg-yellow-700 text-xs text-white p-1\" style=\"width:200px;height:20px;\"> Energy {{compiledStats.currentEnergy}}/{{compiledStats.maxEnergy}} </div>\n  <br>\n  <div class=\"bg-gray-400 text-xs text-black p-1\" style=\"width:200px;height:20px;\"> Velocity {{compiledStats.speed}}km/s </div>\n\n  <br>\n  <div class=\"bg-gray-800 text-xs text-black p-1\" v-if=\"myPossessedUnit\"> {{myPossessedUnit.grid}} </div>\n  <div class=\"bg-gray-800 text-xs text-black p-1\" v-if=\"myPossessedUnit\"> {{formattedLocationVector()}} </div>\n\n  </div>\n\n</template>\n<script>\nimport * as THREE from 'three'\n\nimport GalaxyHelper from '../../shared/lib/GalaxyHelper'\nimport UnitHelper from '../../shared/lib/UnitHelper'\nimport StatsHelper from '../../shared/lib/StatsHelper'\nexport default {\n  name: 'ShipHud',\n  data() {\n    return {\n      hidden: false,\n      myPossessedUnit: null,\n      compiledStats: {}\n    }\n  },\n  methods: {\n\n\n\n    entitiesChanged: function(myPossessedUnit, entities){\n\n    //  console.log('meep',myPossessedUnit )\n      this.myPossessedUnit=myPossessedUnit;\n\n      this.compiledStats = StatsHelper.getCompiledStatsAndVitals(myPossessedUnit)\n\n      if(UnitHelper.unitIsDockedAtStation(myPossessedUnit ))\n      {\n        this.setHidden(true)\n      }else{\n        this.setHidden(false)\n      }\n\n      //show slider bar for armor stat, shield stat\n    },\n    getMenuTitle: function()\n    {\n        if(this.myPossessedUnit )\n        {\n          return this.myPossessedUnit.basetype\n        }\n        return ''\n    },\n\n    setHidden: function(hidden){\n        this.hidden=hidden\n\n    },\n\n    formattedLocationVector: function()\n    {\n\n      let vec = this.myPossessedUnit.locationVector\n\n      if(!vec){\n        return {x:'?',y:'?',z:'?'}\n      }\n\n      return {\"x\": vec.x.toFixed(2),\"y\": vec.y.toFixed(2) ,\"z\": vec.z.toFixed(2)    }\n    },\n\n\n\n    playersChanged: function(myPlayer, playersOnGrid)\n    {\n\n\n\n    }\n\n  }\n\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShipHud.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShipHud.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShipHud.vue?vue&type=template&id=a150ab52&\"\nimport script from \"./ShipHud.vue?vue&type=script&lang=js&\"\nexport * from \"./ShipHud.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"absolute p-0 m-0\",class:{ 'hidden': _vm.isHidden() },staticStyle:{\"background\":\"#111a\",\"width\":\"80%\",\"height\":\"80%\",\"margin\":\"auto\",\"top\":\"0\",\"left\":\"0\",\"bottom\":\"0\",\"right\":\"0\"}},[_c('div',{staticClass:\"m-4 p-4 h-full\",staticStyle:{\"margin\":\"auto\"}},[_c('div',{staticClass:\"  h-full bg-gray-800 font-roboto\"},[_c('div',{staticClass:\"block p-1 m-1 text-white w-full text-center\"},[_vm._v(\" Starmap \")]),_c('div',{ref:\"starmapcanvas\",staticClass:\"block relative\",staticStyle:{\"width\":\"90%\",\"height\":\"90%\",\"margin\":\"0 auto\"},attrs:{\"id\":\"starmapcanvas\"},on:{\"mousemove\":_vm.onMouseMove}},[(_vm.hoveredSystem)?_c('div',{staticClass:\"absolute text-gray-200 p-2 capitalize\",staticStyle:{\"background\":\"#111a\",\"width\":\"20%\",\"margin\":\"auto\",\"top\":\"0\",\"left\":\"0\"}},[_c('div',[_vm._v(\" \"+_vm._s(_vm.hoveredSystem.name)+\"  \")]),_c('div',{staticClass:\"text-xs text-blue-400 \"},[_vm._v(\" \"+_vm._s(_vm.hoveredSystem.constellation)+\" Constellation \")])]):_vm._e()])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div  :class=\"{ 'hidden': isHidden() }\" class=\"absolute p-0 m-0\" style=\"background:#111a; width:80%; height:80%; margin:   auto;top: 0; left: 0; bottom: 0; right: 0; \">\n\n\n    <div class=\"m-4 p-4 h-full\" style=\"margin:auto\">\n\n\n       <div class=\"  h-full bg-gray-800 font-roboto\">\n\n         <div class=\"block p-1 m-1 text-white w-full text-center\" > Starmap </div>\n\n\n\n         <div  id=\"starmapcanvas\" v-on:mousemove=\"onMouseMove\" ref=\"starmapcanvas\" class=\"block relative\" style=\"width:90%;height:90%;margin: 0 auto;\" >\n\n           <div class=\"absolute text-gray-200 p-2 capitalize\" v-if=\"hoveredSystem\" style=\"background:#111a; width:20%;   margin: auto; top: 0; left: 0;   \" >\n\n              <div> {{hoveredSystem.name}}  </div>\n                <div class=\"text-xs text-blue-400 \"> {{hoveredSystem.constellation}} Constellation </div>\n           </div>\n\n\n          </div>\n\n\n\n      </div>\n    </div>\n  </div>\n\n</template>\n<script>\nimport * as THREE from 'three'\n import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls'\nimport GalaxyHelper from '../../shared/lib/GalaxyHelper'\n\nconst solarsystemdata = require('../../shared/worlddata/solarsystems.json')\nconst jumpgateconnections = require('../../shared/worlddata/jumpgateconnections.json').jumpgate_connections\n\nvar raycaster = new THREE.Raycaster();\n\nvar hoverableMeshes=  []\n\nexport default {\n  name: 'StarMap',\n  data() {\n    return {\n      hidden: false,\n      toggledOpen: false,\n      hoveredSystem: null,\n\n\n      myPossessedUnit: null,\n      grid: null,\n\n      renderer: null,\n      scene: null,\n      camera: null,\n      controls:null,\n      mouse: {x:0,y:0}\n    }\n  },\n\n  mounted(){\n    this.$nextTick(()=>{\n\n        this.init()\n    })\n  },\n  beforeDestroy(){\n\n\n  },\n  methods: {\n\n    isHidden: function(){\n\n      return  (this.hidden || !this.toggledOpen)\n\n\n    },\n\n    init:function(){\n\n      console.log('init starmap')\n\n      const RENDER_DISTANCE = 20000;\n        const fov = 50;\n\n        let canvasRect = document.getElementById('starmapcanvas').getBoundingClientRect()\n\n    //    console.log('canvasRect', canvasRect)\n      this.scene = new THREE.Scene()\n      this.camera = new THREE.PerspectiveCamera(\n        fov,\n        canvasRect.width / canvasRect.height,\n        0.1,\n        RENDER_DISTANCE\n      )\n\n      this.camera.position.z = 10;\n\n\n      this.renderer = new THREE.WebGLRenderer( { antialias: true   } );\n      this.renderer.setPixelRatio( window.devicePixelRatio );\n      this.renderer.setClearColor( 0x000000, 0.0 );\n      this.renderer.setSize( canvasRect.width, canvasRect.height );\n      document.getElementById('starmapcanvas').appendChild(this.renderer.domElement)\n    //  this.$refs.starmapcanvas.appendChild(this.renderer.domElement)\n      console.log('added starmap renderer ')\n\n      this.scene.add(this.camera);\n\n      this.controls = new OrbitControls( this.camera, this.renderer.domElement );\n\n      this.controls.maxPolarAngle= 0.9\n      this.controls.minPolarAngle= 0.3\n\n      this.controls.maxAzimuthAngle= 0.4\n      this.controls.minAzimuthAngle= -0.4\n\n\n      this.controls.panSpeed = 0.2\n      this.controls.minDistance = 100\n      this.controls.maxDistance = 9000\n\n      this.controls.update();\n\n      this.buildStarMeshes()\n\n      this.animate()\n\n    },\n\n    buildStarMeshes(){\n\n    /*  while(this.scene.children.length > 0){\n        this.scene.remove(scene.children[0]);\n    }*/\n  hoverableMeshes = []\n\n    for(var solarsystem of Object.values(solarsystemdata)){\n\n      let vec = solarsystem.systemLocationVector\n\n      console.log('place star at ', vec )\n\n      let starMesh = this.buildStarMesh( )\n      starMesh.position.set( vec.x, vec.y , vec.z  )\n      starMesh.userData = solarsystem\n\n      starMesh.material.color.set( this.getBaseColorForStarmesh(starMesh)  );\n\n      this.scene.add( starMesh );\n      hoverableMeshes.push(starMesh)\n\n\n\n\n    }\n\n\n\n    for(var jgateconnection of jumpgateconnections){\n      let systemA = solarsystemdata[jgateconnection.systemA]\n      let systemB = solarsystemdata[jgateconnection.systemB]\n\n    //  console.log('jgate ', systemA, systemB )\n\n      let lineMesh = this.buildLine(systemA.systemLocationVector, systemB.systemLocationVector)\n      this.scene.add( lineMesh );\n\n    }\n\n\n    },\n\n    buildStarMesh(){\n      let radius = 5\n       var geometry = new THREE.SphereGeometry( radius, 32, 32 );\n    //  var geometry = new THREE.BoxGeometry( 22, 1, 22 );\n      var material = new THREE.MeshBasicMaterial( {color: 0xccccff} );\n      var sphere = new THREE.Mesh( geometry, material );\n\n      return sphere\n    },\n\n\n\n        buildLine( vecA, vecB ){\n\n          var points = []\n          points.push( new THREE.Vector3( vecA.x,vecA.y,vecA.z ) );\n          points.push( new THREE.Vector3( vecB.x,vecB.y,vecB.z ) );\n\n\n\n          var geometry = new THREE.BufferGeometry().setFromPoints( points );\n\n          var material = new THREE.LineBasicMaterial( { color: 0xccccff } );\n\n          var line = new THREE.Line( geometry, material );\n          line.frustrumCulled = false\n          return line\n        },\n\n    rebuild: function(){\n\n      //  this.buildStarMeshes()\n\n    /*  var geometry = new THREE.BoxGeometry( 22, 1, 22 );\n      var material = new THREE.MeshBasicMaterial( {color: 0x00ff00} );\n      var cube = new THREE.Mesh( geometry, material );\n      this.scene.add( cube );\n\n      console.log('add cube ')\n    */\n    },\n\n    animate: function(){\n\n      requestAnimationFrame(this.animate)\n\n      if(!this.isHidden()){\n        this.controls.update();\n\n        this.renderer.render(this.scene, this.camera)\n      }\n\n    },\n\n\n    onMouseMove: function(event){\n\n      let canvasRect = document.getElementById('starmapcanvas').getBoundingClientRect()\n\n\n\n      this.mouse.x = ((event.clientX-canvasRect.x) / canvasRect.width) * 2 - 1 ;\n      this.mouse.y = -((event.clientY-canvasRect.y)  / canvasRect.height) * 2 + 1 ;\n\n\n      var vector = new THREE.Vector3( this.mouse.x, this.mouse.y, 1 );\n    \tvector.unproject (this.camera );\n\n    \tvar ray = new THREE.Raycaster( this.camera.position, vector.sub( this.camera.position ).normalize() );\n\n\n\n\n      let clickables = hoverableMeshes\n\n\n     var intersect;\n     var intersects = ray.intersectObjects( clickables, true );\n     if(typeof intersects == 'undefined' || !intersects.length)\n     {\n       intersect = undefined;\n\n     }else{\n       intersect = intersects[0].object;\n       console.log('intersect', intersect )\n\n\n\n       this.setNewHoveredMesh(  intersect )\n\n     }\n\n\n\n    },\n\n    setNewHoveredMesh(mesh){\n\n      for(var hoverable of hoverableMeshes){\n      //  console.log('hov', hoverable )\n          //hoverable.material.color.set(0xccccff);\n\n           hoverable.material.color.set( this.getBaseColorForStarmesh(hoverable)  );\n\n\n      }\n\n      if(mesh){\n        mesh.material.color.set(0xffffff);\n\n\n         let systemData = mesh.userData\n\n\n         this.hoveredSystem = systemData\n\n      }\n\n\n    },\n\n    getBaseColorForStarmesh(mesh){\n\n      let uuid = mesh.userData.uuid\n      let playeruuid = null\n\n      if(this.myPossessedUnit){\n            playeruuid = this.myPossessedUnit.grid\n\n           let celestials = mesh.userData.celestials\n\n           for(var celestial of celestials){\n             console.log('meep', celestial, this.myPossessedUnit)\n             if(  celestial.uuid == this.myPossessedUnit.grid   ){\n               return 0xffff88\n             }\n\n           }\n\n\n      }\n\n      return 0xaaaaaa\n\n\n    },\n\n\n    onWindowResize(){\n      let canvasRect = document.getElementById('starmapcanvas').getBoundingClientRect()\n      //console.log('canvasRect', canvasRect)\n\n      this.camera.aspect = canvasRect.width / canvasRect.height;\n\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize( canvasRect.width, canvasRect.height );\n\n    },\n\n    entitiesChanged: function(myPossessedUnit, entities, gridData){\n\n      if(myPossessedUnit)\n      {\n        this.myPossessedUnit=myPossessedUnit;\n        this.grid = gridData\n\n      }\n\n      this.setNewHoveredMesh(null)///refresh colors of stars\n\n\n    //  console.log('overview entities', this.entityList)\n\n    },\n\n    setToggledOpen: function(toggled){\n      this.toggledOpen = toggled\n\n      this.$nextTick(()=>{\n\n         this.onWindowResize()\n         this.rebuild()\n\n         this.controls.reset()\n\n\n         this.hoveredSystem=null //the system I am in ?\n      })\n\n    }\n\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StarMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StarMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StarMap.vue?vue&type=template&id=8ae1e416&\"\nimport script from \"./StarMap.vue?vue&type=script&lang=js&\"\nexport * from \"./StarMap.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.hidden)?_c('div',{staticClass:\"absolute  py-4 px-6 left-0  \",staticStyle:{\"background\":\"#111a\",\"top\":\"2%\"}},[(_vm.grid)?_c('div',[_c('div',{staticClass:\"text-centered w-full text-gray-100  cursor-pointer mb-1 capitalize\",on:{\"click\":function($event){return _vm.onClick('solarsystem')}}},[_vm._v(\"  \"+_vm._s(_vm.grid.solarsystem)+\" \")]),_c('div',{staticClass:\"text-centered w-full text-blue-400 text-sm  cursor-pointer mb-1 capitalize\",on:{\"click\":function($event){return _vm.onClick('constellation')}}},[_vm._v(\"  \"+_vm._s(_vm.grid.constellation)+\" Constellation \")])]):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"!hidden\"   class=\"absolute  py-4 px-6 left-0  \" style=\"background:#111a; top: 2%\">\n\n    <div v-if=\"grid\">\n      <div @click=\"onClick('solarsystem')\"  class=\"text-centered w-full text-gray-100  cursor-pointer mb-1 capitalize\">  {{  grid.solarsystem  }} </div>\n\n      <div @click=\"onClick('constellation')\" class=\"text-centered w-full text-blue-400 text-sm  cursor-pointer mb-1 capitalize\">  {{  grid.constellation  }} Constellation </div>\n    </div>\n\n\n\n\n  </div>\n\n</template>\n<script>\nimport * as THREE from 'three'\n\nimport GalaxyHelper from '../../shared/lib/GalaxyHelper'\nimport UnitHelper from '../../shared/lib/UnitHelper'\n\nexport default {\n  name: 'ShipHud',\n  data() {\n    return {\n      hidden: false,\n      myPossessedUnit: null,\n      grid: null,\n      compiledStats: {}\n    }\n  },\n  props:[  'localActionCallback','commandCallback'],\n  components: {\n\n  },\n  methods: {\n\n\n\n    entitiesChanged: function(myPossessedUnit, entities, gridData){\n\n      //  console.log('meep',myPossessedUnit )\n        this.myPossessedUnit=myPossessedUnit;\n      //  console.log('got grid ', gridData)\n        this.grid = gridData\n\n        if(UnitHelper.unitIsDockedAtStation(myPossessedUnit ))\n        {\n          this.setHidden(true)\n        }else{\n          this.setHidden(false)\n        }\n\n      //show slider bar for armor stat, shield stat\n    },\n\n\n    setHidden: function(hidden){\n        this.hidden=hidden\n\n    },\n\n\n\n    playersChanged: function(myPlayer, playersOnGrid)\n    {\n\n\n\n    },\n\n\n    onClick(buttonName){\n      console.log(\"on click\")\n\n      this.localActionCallback('openStarmap')\n    }\n\n  }\n\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavigationPanel.vue?vue&type=template&id=2b769147&\"\nimport script from \"./NavigationPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./NavigationPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.hidden)?_c('div',{staticClass:\"absolute  py-4 px-6 left-0 right-0  \",staticStyle:{\"bottom\":\"2%\",\"min-height\":\"160px\",\"width\":\"30%\",\"margin\":\"auto\"}},[_c('TargetHud',{ref:\"targethud\",class:{hidden: _vm.hidden}}),_c('div',{staticClass:\"py-2 my-2 border-t-2 border-gray-400\",staticStyle:{\"background\":\"#111a\",\"min-height\":\"140px\"}},[_c('div',{staticClass:\"hidden text-centered w-full text-gray-100  mb-4 capitalize\"},[_vm._v(\"  Modules \")]),_c('div',{ref:\"highsloticons\",staticClass:\"iconrow\"},_vm._l((_vm.equippedModules['high']),function(mod){return _c('CustomIcon',{attrs:{\"iconImageData\":{iconSlot:mod.textureIconSlot, texturePath:mod.texturePath, tintColor: mod.textureIconTint, activated:mod.engaged},\"clickedCallback\":_vm.clickedIcon,\"onClickParams\":{equipmentSlotId: mod.slotId, engage: !mod.engaged}}})}),1),_c('div',{ref:\"midsloticons\",staticClass:\"iconrow\"},_vm._l((_vm.equippedModules['mid']),function(mod){return _c('CustomIcon',{attrs:{\"iconImageData\":{iconSlot:mod.textureIconSlot, texturePath:mod.texturePath, tintColor: mod.textureIconTint, activated:mod.engaged},\"clickedCallback\":_vm.clickedIcon,\"onClickParams\":{equipmentSlotId: mod.slotId, engage: !mod.engaged}}})}),1),_c('div',{ref:\"lowsloticons\",staticClass:\"iconrow\"},_vm._l((_vm.equippedModules['low']),function(mod){return _c('CustomIcon',{attrs:{\"iconImageData\":{iconSlot:mod.textureIconSlot, texturePath:mod.texturePath, tintColor: mod.textureIconTint, activated:mod.engaged},\"clickedCallback\":_vm.clickedIcon,\"onClickParams\":{equipmentSlotId: mod.slotId, engage: !mod.engaged}}})}),1)])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.hidden)?_c('div',{staticClass:\"   py-2 px-4    \",staticStyle:{\"background\":\"#111a\"}},[_c('div',{staticClass:\"text-centered w-full text-gray-100 text-sm cursor-pointer mb-0 capitalize\"},[_vm._v(\" Target Name    \")]),_c('br'),_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"w-1/2\"},[_c('div',{staticClass:\"bg-blue-500 text-xs text-white px-1\",staticStyle:{\"height\":\"20px\"}},[_vm._v(\" Shields \"+_vm._s(_vm.compiledStats.currentShields)+\"/\"+_vm._s(_vm.compiledStats.maxShields)+\" \")])]),_c('div',{staticClass:\"w-1/2\"},[_c('div',{staticClass:\"bg-gray-700 text-xs text-white px-1\",staticStyle:{\"height\":\"20px\"}},[_vm._v(\" Armor \"+_vm._s(_vm.compiledStats.currentArmor)+\"/\"+_vm._s(_vm.compiledStats.maxArmor)+\" \")])])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"!hidden\"   class=\"   py-2 px-4    \" style=\"background:#111a;  \">\n\n  <div   class=\"text-centered w-full text-gray-100 text-sm cursor-pointer mb-0 capitalize\"> Target Name    </div>\n  <br>\n  <div class=\"flex\">\n\n    <div class=\"w-1/2\">\n\n  <div class=\"bg-blue-500 text-xs text-white px-1\" style=\" height:20px;\"> Shields {{compiledStats.currentShields}}/{{compiledStats.maxShields}} </div>\n   </div>\n     <div class=\"w-1/2\">\n  <div class=\"bg-gray-700 text-xs text-white px-1\" style=\" height:20px;\"> Armor {{compiledStats.currentArmor}}/{{compiledStats.maxArmor}} </div>\n    </div>\n\n\n\n  </div>\n  </div>\n\n</template>\n<script>\nimport * as THREE from 'three'\n\nimport GalaxyHelper from '../../shared/lib/GalaxyHelper'\nimport UnitHelper from '../../shared/lib/UnitHelper'\nimport StatsHelper from '../../shared/lib/StatsHelper'\nexport default {\n  name: 'ShipHud',\n  data() {\n    return {\n      hidden: false,\n      myPossessedUnit: null,\n      compiledStats: {}\n    }\n  },\n  methods: {\n\n\n\n    entitiesChanged: function(myPossessedUnit, entities){\n\n    //  console.log('meep',myPossessedUnit )\n      this.myPossessedUnit=myPossessedUnit;\n\n      this.compiledStats = StatsHelper.getCompiledStatsAndVitals(myPossessedUnit)\n\n      if(UnitHelper.unitIsDockedAtStation(myPossessedUnit ))\n      {\n        this.setHidden(true)\n      }else{\n        this.setHidden(false)\n      }\n\n      //show slider bar for armor stat, shield stat\n    },\n    getMenuTitle: function()\n    {\n        if(this.myPossessedUnit )\n        {\n          return this.myPossessedUnit.basetype\n        }\n        return ''\n    },\n\n    setHidden: function(hidden){\n        this.hidden=hidden\n\n    },\n\n    formattedLocationVector: function()\n    {\n\n      let vec = this.myPossessedUnit.locationVector\n\n      if(!vec){\n        return {x:'?',y:'?',z:'?'}\n      }\n\n      return {\"x\": vec.x.toFixed(2),\"y\": vec.y.toFixed(2) ,\"z\": vec.z.toFixed(2)    }\n    },\n\n\n\n    playersChanged: function(myPlayer, playersOnGrid)\n    {\n\n\n\n    }\n\n  }\n\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TargetHud.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TargetHud.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TargetHud.vue?vue&type=template&id=ca0b8154&\"\nimport script from \"./TargetHud.vue?vue&type=script&lang=js&\"\nexport * from \"./TargetHud.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-2 cursor-pointer border-2 custom-icon-border  rounded\",staticStyle:{\"width\":\"32px\",\"height\":\"32px\"},style:(_vm.iconClass),on:{\"click\":_vm.onClick}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div @click=\"onClick\"\n  class=\"m-2 cursor-pointer border-2 custom-icon-border  rounded\"\n   style=\"width:32px;height:32px\" v-bind:style=\"iconClass\"  >\n\n\n\n\n  </div>\n</template>\n\n<style>\n\n.custom-icon-border:hover {\n    border-color: #333 !important;\n}\n\n.custom-icon-border:active {\n    border-color: #eaac4f !important;\n}\n\n</style>\n\n\n\n<script>\nimport * as THREE from 'three'\n\nimport ImageHelper from '../../../shared/lib/math/ImageHelper'\n\n\nexport default {\n  name: 'CustomIcon',\n  props: [ 'iconImageData','clickedCallback', 'onClickParams'],\n  data() {\n    return {\n      hidden: false,\n      iconClass: ''\n\n    }\n  },\n  created()\n  {\n    this.rebuild(this.iconImageData)\n  },\n  watch: {\n      \ticonImageData: function(newVal, oldVal) { // watch it\n           this.rebuild( newVal )\n        }\n      },\n  methods: {\n\n    rebuild: function( iconImgData ){\n      let image_path = \"/assets/\".concat(iconImgData.texturePath)\n      let slot = iconImgData.iconSlot\n      let tintColor = iconImgData.tintColor\n\n      let computedBGPosition = ImageHelper.getBackgroundOffsetFromImageSlot(slot , 32, 5 )\n\n      let borderColor = '#888';\n      if(iconImgData.activated){\n        borderColor='#57965c !important'\n      }\n\n\n\n        this.iconClass={\n           backgroundImage: 'url(\"'+image_path+'\"',\n           backgroundRepeat: \"no-repeat\",\n           backgroundPosition:computedBGPosition,\n           backgroundSize: \"160px 160px\",\n\n           backgroundColor: tintColor,\n           backgroundBlendMode: 'multiply',\n           borderColor: borderColor\n         }\n\n    //     console.log('iconimagedata',iconImgData,   this.iconClass)\n\n    },\n\n    setHidden: function(hidden){\n        this.hidden=hidden\n\n    },\n\n\n    onClick: function( ){\n      this.clickedCallback( this.onClickParams )\n    }\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomIcon.vue?vue&type=template&id=3e1ffc0e&\"\nimport script from \"./CustomIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomIcon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomIcon.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div v-if=\"!hidden\"   class=\"absolute  py-4 px-6 left-0 right-0  \" style=\" bottom: 2%; min-height:160px; width:30%; margin: auto;\">\n\n\n\n    <TargetHud\n    :class=\"{hidden: hidden}\"\n    ref=\"targethud\"\n    />\n\n<div class=\"py-2 my-2 border-t-2 border-gray-400\" style=\"background:#111a; min-height:140px;\">\n\n  <div class=\"hidden text-centered w-full text-gray-100  mb-4 capitalize\">  Modules </div>\n\n  <div ref=\"highsloticons\" class=\"iconrow\">\n      <CustomIcon v-for=\"mod in equippedModules['high']\"\n        v-bind:iconImageData=\"{iconSlot:mod.textureIconSlot, texturePath:mod.texturePath, tintColor: mod.textureIconTint, activated:mod.engaged}\"\n        v-bind:clickedCallback=\"clickedIcon\"\n        v-bind:onClickParams=\"{equipmentSlotId: mod.slotId, engage: !mod.engaged}\"\n       />\n  </div>\n\n  <div ref=\"midsloticons\" class=\"iconrow\">\n    <CustomIcon v-for=\"mod in equippedModules['mid']\"\n      v-bind:iconImageData=\"{iconSlot:mod.textureIconSlot, texturePath:mod.texturePath, tintColor: mod.textureIconTint, activated:mod.engaged}\"\n      v-bind:clickedCallback=\"clickedIcon\"\n      v-bind:onClickParams=\"{equipmentSlotId: mod.slotId, engage: !mod.engaged}\"\n     />\n  </div>\n\n  <div ref=\"lowsloticons\" class=\"iconrow\">\n    <CustomIcon v-for=\"mod in equippedModules['low']\"\n      v-bind:iconImageData=\"{iconSlot:mod.textureIconSlot, texturePath:mod.texturePath, tintColor: mod.textureIconTint, activated:mod.engaged}\"\n      v-bind:clickedCallback=\"clickedIcon\"\n      v-bind:onClickParams=\"{equipmentSlotId: mod.slotId, engage: !mod.engaged}\"\n     />\n  </div>\n</div>\n\n  </div>\n\n</template>\n<script>\nimport * as THREE from 'three'\n\nimport GalaxyHelper from '../../shared/lib/GalaxyHelper'\nimport UnitHelper from '../../shared/lib/UnitHelper'\nimport EquipmentHelper from '../../shared/lib/EquipmentHelper'\n\nimport ItemHelper from '../../shared/lib/ItemHelper'\nimport ImageHelper from '../../shared/lib/math/ImageHelper'\nimport TextureLoader from '../../client/js/TextureLoader'\n\nimport TargetHud from './TargetHud.vue'\n\nimport CustomIcon from './components/CustomIcon'\n\n\nexport default {\n  name: 'ShipModulesPanel',\n  data() {\n    return {\n      hidden: false,\n      myPossessedUnit: null,\n      compiledStats: {},\n      equippedModules: {'high':[], 'mid':[], 'low':[]},\n      primaryTargetUnitId:null\n    }\n  },\n  props:['commandCallback'],\n  components: {\n     CustomIcon,TargetHud\n  },\n\n  methods: {\n\n    clickedIcon: function(clickData){\n\n      console.log('clicked icon',clickData)\n\n\n\n      let commandData = {\n\n            targetUnitId: this.primaryTargetUnitId,\n            equipmentSlotId: clickData.equipmentSlotId,\n            engage: clickData.engage\n\n\n      }\n\n\n      this.commandCallback('setModuleActivation',  commandData )\n\n\n    },\n\n\n\n    primaryTargetChanged: function( unit ){\n      this.primaryTargetUnitId = unit._id\n    },\n\n\n    equipmentSlotsChanged: function(equipmentSlots ){\n\n\n\n        this.rebuildIcons( equipmentSlots )\n    },\n\n    rebuildIcons: function( equipmentSlots )\n    {\n      let myUnitEquipmentSlots = {'high':[], 'mid':[], 'low':[]};\n\n  //    console.log('myUnitEquipmentSlots', equipmentSlots)\n\n      if(this.myPossessedUnit)\n      {\n\n        for(var slot of equipmentSlots)\n        {\n\n\n\n          let slotId = slot.slotId;\n          let active = slot.active;\n          let equipmentType = slot.equipmenttype;\n          let unitId = slot.unitId;\n\n\n\n          let equipmenttype = GalaxyHelper.getEquipmentTypeData( equipmentType )\n          let itemtype = ItemHelper.getItemTypeByInternalName( equipmentType )\n\n          let iconName = itemtype.iconName;\n          let iconDetails = ImageHelper.getIconDetailsFromIconName(iconName)\n\n\n          slot.slotType = EquipmentHelper.getSlotType(slot)\n\n          try{\n            slot.texturePath = TextureLoader.lookupAssetName(iconDetails.atlasname)\n            slot.textureIconSlot = iconDetails.slot\n            slot.textureIconTint = iconDetails.tint\n\n          }catch(e)\n          {\n            console.log(e)\n          }\n\n          if(unitId == this.myPossessedUnit._id){\n\n\n            myUnitEquipmentSlots[slot.slotType].push(slot);\n\n\n          }\n\n\n        }\n      }\n\n      this.equippedModules  = myUnitEquipmentSlots;\n    //  console.log('mods',myUnitEquipmentSlots )\n\n    },\n\n\n\n    entitiesChanged: function(myPossessedUnit, entities){\n\n\n      this.myPossessedUnit=myPossessedUnit;\n\n      if(UnitHelper.unitIsDockedAtStation(myPossessedUnit ))\n      {\n        this.setHidden(true)\n      }else{\n        this.setHidden(false)\n      }\n    //  this.compiledStats = StatsHelper.getCompiledStatsAndVitals(myPossessedUnit)\n\n\n      //show slider bar for armor stat, shield stat\n    },\n\n\n    setHidden: function(hidden){\n        this.hidden=hidden\n\n    },\n\n\n\n    playersChanged: function(myPlayer, playersOnGrid)\n    {\n\n\n\n\n    }\n\n  }\n\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShipModulesPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShipModulesPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShipModulesPanel.vue?vue&type=template&id=1aa3b11e&\"\nimport script from \"./ShipModulesPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ShipModulesPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.hidden && _vm.canLootTarget)?_c('div',{staticClass:\"absolute  py-2 px-2   border-t-2 border-gray-400 \",staticStyle:{\"background\":\"#111a\",\"bottom\":\"40%\",\"left\":\"30%\",\"height\":\"200px\",\"width\":\"160px\"}},[_c('div',{staticClass:\"  text-centered w-full text-gray-100  mb-4 capitalize\"},[_vm._v(\"  Loot \")]),_c('div',{staticClass:\"border-2 border-gray-400 overflow-y-auto\",staticStyle:{\"height\":\"100px\"}},[_c('ItemList',{attrs:{\"itemArray\":_vm.itemArray,\"rightClickRowCallback\":_vm.handleItemActionMenuCallback,\"context\":\"loot\"}})],1),_c('div',{staticClass:\"mt-2 p-1\"},[_c('div',{staticClass:\"cursor-pointer inline text-black bg-gray-300 p-1 mt-4 rounded text-xs\",class:{'text-gray-500': (!_vm.itemArray || _vm.itemArray.length==0)  },on:{\"click\":function($event){return _vm.command('lootall')}}},[_vm._v(\" Loot All \")])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"!hidden && canLootTarget\"   class=\"absolute  py-2 px-2   border-t-2 border-gray-400 \" style=\"background:#111a; bottom: 40%; left:30%; height:200px; width:160px;  \">\n\n  <div class=\"  text-centered w-full text-gray-100  mb-4 capitalize\">  Loot </div>\n\n\n\n    <div class=\"border-2 border-gray-400 overflow-y-auto\" style=\"height:100px\">\n\n      <ItemList\n      v-bind:itemArray=\"itemArray\"\n      v-bind:rightClickRowCallback=\"handleItemActionMenuCallback\"\n       context=\"loot\"\n      />\n    </div>\n\n    <div class=\"mt-2 p-1\">\n      <div class=\"cursor-pointer inline text-black bg-gray-300 p-1 mt-4 rounded text-xs\" :class=\"{'text-gray-500': (!itemArray || itemArray.length==0)  }\" @click=\"command('lootall')\"> Loot All </div>\n    </div>\n  </div>\n\n</template>\n<script>\nimport * as THREE from 'three'\n\nimport GalaxyHelper from '../../shared/lib/GalaxyHelper'\nimport UnitHelper from '../../shared/lib/UnitHelper'\nimport EquipmentHelper from '../../shared/lib/EquipmentHelper'\n\nimport ItemHelper from '../../shared/lib/ItemHelper'\nimport ImageHelper from '../../shared/lib/math/ImageHelper'\nimport TextureLoader from '../../client/js/TextureLoader'\n\nimport ItemList from './components/ItemList'\n\n\n\nexport default {\n  name: 'LootPanel',\n  data() {\n    return {\n      hidden: false,///due to being docked\n      canLootTarget: false,\n      myPossessedUnit: null,\n\n      lootingTargetUnit:null,\n      itemArray: [],\n      dataError: null\n    }\n  },\n  props:['localActionCallback','commandCallback','dataRequestCallback','handleItemActionMenuCallback'],\n  components: {\n    ItemList\n  },\n  created(){\n\n      setInterval( this.refresh.bind(this), 2000 )\n\n  },\n  methods: {\n\n    clickedIcon: function(clickData){\n\n\n    },\n\n    refresh: async function(){\n    //  console.log('refresh')\n\n\n\n\n      if(this.canLootUnit(this.myPossessedUnit,this.lootingTargetUnit)){\n        if(!this.canLootTarget){\n          this.localActionCallback('openShipCargoPanel')\n        }\n\n          this.canLootTarget = true\n      }else{\n          this.canLootTarget = false\n      }\n\n      if(this.hidden || !this.canLootTarget){\n        return\n      }\n\n      if(this.canLootTarget){\n        ///this keep happening and happening every second\n        console.log('request items for loot panel')\n        //ask the server for the contents ...\n        var results = await this.dataRequestCallback({\n          requestType:'inventory',\n          containerEncapsulatingUnitId: this.lootingTargetUnit._id,\n          containerOwnerPublicAddress: this.lootingTargetUnit.owningPlayerAddress\n        })\n\n\n        //  this.itemArray = []\n        this.inventoryDataChanged(results.data)\n\n      }else{\n        //show an error ?\n\n        //  this.itemArray = []\n      }\n\n    },\n\n    inventoryDataChanged:function(invData){\n      //  console.log('inventoryDataChanged  ', invData )\n      //if(invData && invData.length>0){\n        this.itemArray = invData    //update our state\n\n\n    //  }\n\n    },\n\n\n\n    canLootUnit: function(unit , lootedUnit ){\n\n      if(!unit || !lootedUnit){\n      //  console.log('cannot loot null.. ',unit ,lootedUnit )\n        return false\n      }\n\n      let targetIsLootable = UnitHelper.unitHasService( lootedUnit, 'looting'  )\n      let targetWithinServiceRange = UnitHelper.unitsWithinServiceRange(unit, lootedUnit )\n\n    //  console.log('loot?', targetIsLootable , targetWithinServiceRange )\n      return (targetIsLootable && targetWithinServiceRange)\n\n    },\n\n    lootingTargetChanged: function(unit){\n    //  console.log('looting target changed ! ')\n\n      this.lootingTargetUnit = unit;\n\n      this.refresh()\n\n    },\n\n\n    entitiesChanged: function(myPossessedUnit, entities){\n\n\n      this.myPossessedUnit=myPossessedUnit;\n\n      if(UnitHelper.unitIsDockedAtStation(myPossessedUnit ))\n      {\n        this.setHidden(true)\n      }else{\n        this.setHidden(false)\n      }\n\n\n      //show slider bar for armor stat, shield stat\n    },\n\n\n    setHidden: function(hidden){\n        this.hidden=hidden\n\n    },\n\n    resetPanel: function(hidden){\n        this.lootingTargetUnit = null;\n\n        this.refresh()\n\n    },\n\n\n\n    playersChanged: function(myPlayer, playersOnGrid)\n    {\n\n\n\n    },\n\n    command: function(cmdName){\n\n      if(cmdName == 'lootall')\n      {\n\n        if(!this.itemArray || this.itemArray.length==0) return;\n\n\n         this.commandCallback('lootall', {\n           containerEncapsulatingUnitId: this.lootingTargetUnit._id,\n           containerOwnerPublicAddress: this.lootingTargetUnit.owningPlayerAddress\n       })\n\n      }\n\n    }\n\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LootPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LootPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LootPanel.vue?vue&type=template&id=5f8062ec&\"\nimport script from \"./LootPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./LootPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.hidden && _vm.toggledOpen)?_c('div',{staticClass:\"absolute  py-2 px-2   border-t-2 border-gray-400 \",staticStyle:{\"background\":\"#111a\",\"bottom\":\"40%\",\"right\":\"30%\",\"height\":\"300px\",\"width\":\"260px\"}},[_c('div',{staticClass:\"  text-centered w-full text-gray-100  mb-4 capitalize\"},[_vm._v(\"  Cargo \")]),_c('div',{staticClass:\"border-2 border-gray-400 overflow-y-auto\",staticStyle:{\"height\":\"240px\"}},[_c('ItemList',{attrs:{\"itemArray\":_vm.itemArray,\"rightClickRowCallback\":_vm.handleItemActionMenuCallback,\"context\":\"cargo\"}})],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"!hidden && toggledOpen\"   class=\"absolute  py-2 px-2   border-t-2 border-gray-400 \"\n                          style=\"background:#111a; bottom: 40%; right:30%; height:300px; width:260px;  \">\n\n  <div class=\"  text-centered w-full text-gray-100  mb-4 capitalize\">  Cargo </div>\n\n\n  <div class=\"border-2 border-gray-400 overflow-y-auto\" style=\"height:240px\">\n    <ItemList\n    v-bind:itemArray=\"itemArray\"\n    v-bind:rightClickRowCallback=\"handleItemActionMenuCallback\"\n     context=\"cargo\"\n    />\n  </div>\n\n  </div>\n\n</template>\n<script>\nimport * as THREE from 'three'\n\nimport GalaxyHelper from '../../shared/lib/GalaxyHelper'\nimport UnitHelper from '../../shared/lib/UnitHelper'\nimport EquipmentHelper from '../../shared/lib/EquipmentHelper'\n\nimport ItemHelper from '../../shared/lib/ItemHelper'\nimport ImageHelper from '../../shared/lib/math/ImageHelper'\nimport TextureLoader from '../../client/js/TextureLoader'\n\nimport ItemList from './components/ItemList'\n\n\n\nexport default {\n  name: 'ShipCargoPanel',\n  data() {\n    return {\n      hidden: false,/// due to being docked\n      toggledOpen: false,\n\n\n      myPossessedUnit: null,\n\n      lootingTargetUnit:null,\n      itemArray: []\n    }\n  },\n  props:['commandCallback','dataRequestCallback','handleItemActionMenuCallback'],\n  components: {\n    ItemList\n  },\n  created(){\n\n      setInterval( this.refresh.bind(this), 2000 )\n\n  },\n\n  methods: {\n\n    clickedIcon: function(clickData){\n\n\n    },\n\n    refresh: async function(){\n\n      if(this.hidden || !this.toggledOpen){\n        return\n      }\n\n\n\n      if(!this.myPossessedUnit){\n        console.log('WARN: ship cargo has no possessed unit ')\n        return\n      }\n\n      console.log('request items for shipcargo ')\n\n      var results = await this.dataRequestCallback({\n        requestType:'inventory',\n        containerEncapsulatingUnitId: this.myPossessedUnit._id,\n        containerOwnerPublicAddress: this.myPossessedUnit.owningPlayerAddress\n      })\n\n        this.itemArray = []\n      this.inventoryDataChanged(results.data)\n\n\n\n    },\n\n    inventoryDataChanged:function(invData){\n\n      if(invData && invData.length>0){\n        this.itemArray = invData    //update our state\n\n      }\n\n    },\n\n    canLootUnit: function(unit , lootedUnit ){\n\n      if(!unit || !lootedUnit){\n      //  console.log('cannot loot null.. ')\n        return false\n      }\n\n\n      let targetIsLootable = UnitHelper.unitHasService( lootedUnit, 'looting'  )\n      let targetWithinServiceRange = UnitHelper.unitsWithinServiceRange(unit, lootedUnit )\n\n      return (targetIsLootable && targetWithinServiceRange)\n\n    },\n\n    lootingTargetChanged: function(unit){\n      console.log('looting target changed ! ')\n\n      this.lootingTargetUnit = unit;\n\n      this.refresh()\n\n    },\n\n\n\n\n    entitiesChanged: function(myPossessedUnit, entities){\n\n\n      this.myPossessedUnit=myPossessedUnit;\n\n      if(UnitHelper.unitIsDockedAtStation(myPossessedUnit ))\n      {\n        this.setHidden(true)\n      }else{\n        this.setHidden(false)\n      }\n\n      //show slider bar for armor stat, shield stat\n    },\n\n\n    setHidden: function(hidden){\n        this.hidden=hidden\n\n    },\n\n    setToggledOpen: function(open){\n        this.toggledOpen = open;\n\n        this.refresh()\n\n    },\n\n\n    resetPanel: function(hidden){\n        this.toggledOpen = false;\n\n        this.refresh()\n\n    },\n\n\n    playersChanged: function(myPlayer, playersOnGrid)\n    {\n\n     \n\n\n    }\n\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShipCargoPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShipCargoPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShipCargoPanel.vue?vue&type=template&id=35b3d95a&\"\nimport script from \"./ShipCargoPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ShipCargoPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"relative w-full  \" style=\"min-height:400px\" >\n    <div v-if=\"!connected \" class=\"p-12 text-center  w-1/2  \" style=\"margin:0 auto;\">\n\n      <div v-if=\"!assetsLoaded && !connectionError\">\n\n        <div> Loading Assets... </div>\n\n        <div class=\"breeding-rhombus-spinner \" style=\"margin:8em auto;\">\n          <div class=\"rhombus child-1\"></div>\n          <div class=\"rhombus child-2\"></div>\n          <div class=\"rhombus child-3\"></div>\n          <div class=\"rhombus child-4\"></div>\n          <div class=\"rhombus child-5\"></div>\n          <div class=\"rhombus child-6\"></div>\n          <div class=\"rhombus child-7\"></div>\n          <div class=\"rhombus child-8\"></div>\n          <div class=\"rhombus big\"></div>\n        </div>\n\n        <div> {{loadingStepName}} </div>\n\n\n          </div>\n\n      <div>\n        <div v-if=\"assetsLoaded\"  class=\"cursor-pointer rounded bg-green-300 text-black p-2 m-2\" @click=\"connectToServer\"> Connect </div>\n      </div>\n\n      <div v-if=\"connectionError\">\n        <div class=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n          <strong class=\"font-bold\">Error.</strong>\n          <br>\n          <span class=\"block sm:inline\">{{connectionError}}</span>\n\n        </div>\n         </div>\n\n    </div>\n\n        <div  id=\"gamecanvas\"  >\n\n\n        </div>\n\n\n          <OverviewPanel\n           :class=\"{hidden: !connected}\"\n             v-bind:rightClickRowCallback=\"handleOverviewRowClicked\"\n             v-bind:localActionCallback=\"handleLocalActionCommand\"\n             v-bind:commandCallback=\"handleClientCommand\"\n           ref=\"overview\"\n           />\n\n          <StationPanel\n           :class=\"{hidden: !connected}\"\n           v-bind:commandCallback=\"handleClientCommand\"\n           v-bind:localActionCallback=\"handleLocalActionCommand\"\n           v-bind:dataRequestCallback=\"handleClientDataRequest\"\n           v-bind:devToolsCallback=\"handleDevToolsRequest\"\n           v-bind:handleItemActionMenuCallback=\"handleItemActionMenuCallback\"\n           ref=\"stationpanel\"\n           />\n\n          <RightClickMenu\n          ref=\"rclickmenu\"\n          v-bind:commandCallback=\"handleClientCommand\"\n          v-bind:localActionCallback=\"handleLocalActionCommand\"\n          />\n\n          <ItemActionMenu\n          ref=\"itemactionmenu\"\n          v-bind:localActionCallback=\"handleLocalActionCommand\"\n          v-bind:dataRequestCallback=\"handleClientDataRequest\"\n          />\n\n          <ShipHud\n          :class=\"{hidden: !connected}\"\n          ref=\"shiphud\"\n          />\n\n\n\n          <ShipModulesPanel\n          :class=\"{hidden: !connected}\"\n          v-bind:commandCallback=\"handleClientCommand\"\n          ref=\"shipmodulespanel\"\n          />\n\n          <NavigationPanel\n          :class=\"{hidden: !connected}\"\n          v-bind:commandCallback=\"handleClientCommand\"\n          v-bind:localActionCallback=\"handleLocalActionCommand\"\n          ref=\"navigationpanel\"\n          />\n\n          <StarMap\n          :class=\"{hidden: !connected}\"\n          v-bind:commandCallback=\"handleClientCommand\"\n          v-bind:localActionCallback=\"handleLocalActionCommand\"\n          ref=\"starmap\"\n          />\n\n\n          <LootPanel\n          :class=\"{hidden: !connected}\"\n          v-bind:localActionCallback=\"handleLocalActionCommand\"\n          v-bind:commandCallback=\"handleClientCommand\"\n           v-bind:dataRequestCallback=\"handleClientDataRequest\"\n          v-bind:handleItemActionMenuCallback=\"handleItemActionMenuCallback\"\n          ref=\"lootpanel\"\n          />\n\n\n            <ShipCargoPanel\n            :class=\"{hidden: !connected}\"\n            v-bind:commandCallback=\"handleClientCommand\"\n             v-bind:dataRequestCallback=\"handleClientDataRequest\"\n            v-bind:handleItemActionMenuCallback=\"handleItemActionMenuCallback\"\n            ref=\"shipcargopanel\"\n            />\n  </div>\n</template>\n\n<style>\n\n</style>\n<script>\nimport * as THREE from 'three'\n\n import * as MW from '../js/meshwalk';\n\n\n //import * as dat from 'dat.gui';\n //const gui = new dat.GUI();\n\nvar gameClientStarted = false;\n\nconst clock = new THREE.Clock();\n\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\n\nrequire('../js/OrbitControls')\nimport Stats from 'stats.js'\n\nconst delay = require('delay')\n\nimport SkyBox from '../js/SkyBox'\nimport EntityManager from '../js/EntityManager'\nimport GalaxyHelper from '../../shared/lib/GalaxyHelper'\nimport EthereumHelper from '../../shared/lib/EthereumHelper'\nimport PlayerController from '../js/PlayerController'\nimport ModelLoader from '../js/ModelLoader'\nimport TextureLoader from '../js/TextureLoader'\nimport AudioSystem from '../js/AudioSystem'\nimport LocalTargetManager from '../js/LocalTargetManager'\nimport ClientConnection from '../js/ClientConnection'\n\nimport StationPanel from './station/StationPanel'\nimport OverviewPanel from './OverviewPanel'\nimport RightClickMenu from './RightClickMenu'\nimport ItemActionMenu from './ItemActionMenu'\nimport ShipHud from './ShipHud'\nimport StarMap from './StarMap'\nimport NavigationPanel from './NavigationPanel'\nimport ShipModulesPanel from './ShipModulesPanel'\nimport LootPanel from './LootPanel'\nimport ShipCargoPanel from './ShipCargoPanel'\n\nimport UnitHelper from '../../shared/lib/UnitHelper'\n\nvar clientConnection = new ClientConnection()\nvar entityManager;\nvar audioSystem;\nvar playerController;\nvar localTargetManager;\n\nvar mouse = new THREE.Vector2();\nvar raycaster = new THREE.Raycaster();\n\nvar modelLoader;\nvar textureLoader;\nvar skyboxFactory;\nvar pauseRendering;\n\nvar skyMesh;\nvar cachedGrid;\n\n\n var camera_pivot = new THREE.Object3D()\n\n var useAdvancedLighting = false; //laggy\n\n\nexport default {\n  name: 'GameCanvas',\n  data() {\n    return {\n      assetsLoaded: false,\n      renderer: null,\n      scene: null,\n      camera: null,\n      controls: null,\n      rect: null,\n      connected: false,\n      rightClickTargetData: {},\n      connectionError: null,\n      loadingStepName: ''\n    }\n  },\n  components: {\n     OverviewPanel,RightClickMenu,\n     ShipHud,ShipModulesPanel,NavigationPanel,StarMap,\n     StationPanel,ItemActionMenu,\n     LootPanel,ShipCargoPanel\n  },\n\n  methods: {\n    startGameClient: async function() {\n      if(gameClientStarted)return\n      gameClientStarted = true;\n\n      MW.install( THREE );\n\n\n\n      while(!this.assetsLoaded && typeof entityManager == 'undefined')\n      {\n        await delay(1000);\n        console.log('assets loading...')\n      }\n\n      const RENDER_DISTANCE = 20000;\n        const fov = 50; //was 75 ..whatever makes skybox look better\n\n      this.scene = new THREE.Scene()\n      this.camera = new THREE.PerspectiveCamera(\n        fov,\n        window.innerWidth / window.innerHeight,\n        0.1,\n        RENDER_DISTANCE\n      )\n\n      this.renderer = new THREE.WebGLRenderer({ antialias: true, powerPreference: \"high-performance\" })\n      this.renderer.setSize(window.innerWidth, window.innerHeight)\n      document.getElementById('gamecanvas').appendChild(this.renderer.domElement)\n\n\n\n\n     this.scene.add(camera_pivot);\n      camera_pivot.add( audioSystem.getListener()  )\n\n      //  audioSystem.playSound('warpin')  //it works !\n\n      this.controls = new MW.TPSCameraControls(\n      \tthis.camera, // three.js camera\n      \tcamera_pivot, // tracking object\n      \tthis.renderer.domElement\n      );\n\n    //  this.controls = new CameraControls( this.camera, this.renderer.domElement );\n    //set init\n\n      this.controls.minDistance = 20\n      this.controls.maxDistance = 520\n      this.controls.dollyTo(130)\n\n      this.controls.rotateTo(1.0, 1.0, false)\n\n      // the 'updated' event is fired by `tpsCameraControls.update()`\n      this.controls.addEventListener( 'update', () => {\n\n      //\tconst cameraFrontAngle    = this.controls.frontAngle;\n      //\tconst characterFrontAngle = keyInputControl.frontAngle;\n      //\tplayerController.direction = cameraFrontAngle + characterFrontAngle;\n\n      } );\n\n\n    //  this.controls.update();\n\n      //for zoom\n    //  this.controls.minDistance = 9\n      //this.controls.maxDistance = 90\n\n\n\n      const color = 0xFFFFFF;\n      const intensity = 2.4;\n      const ambientlight = new THREE.AmbientLight(color, intensity);\n      this.scene.add(ambientlight);\n\n\n      //this.renderer.clearTarget(ambientlight.shadow.map);\n\n\n      if(useAdvancedLighting){\n        const directionallight = new THREE.DirectionalLight(color, intensity);\n         directionallight.position.set(0, 10, 0);\n         directionallight.target.position.set(-5, 0, 0);\n         this.scene.add(directionallight);\n         this.scene.add(directionallight.target);\n\n      }\n\n\n\n\n      /*\n      var stats = new Stats();\n      stats.setMode(0);\n      stats.domElement.style.position = 'absolute';\n      stats.domElement.style.left = '0';\n      stats.domElement.style.top = '0';\n      gamecanvas.appendChild( stats.domElement );*/\n\n    /*  var skybox = new SkyBox().getMesh()\n      skybox.name=\"skybox\"\n      camera_pivot.add(skybox);*/\n\n      skyMesh = await skyboxFactory.getMesh(\"purplenebula\")\n    //  console.log(skyMesh)\n\n      skyMesh.material = await skyboxFactory.getMaterial(\"purplenebula\")\n\n      camera_pivot.add(skyMesh);\n\n\n      //this is for the rightClickMenu\n      this.rect = this.renderer.domElement.getBoundingClientRect();\n\n\n\n       gamecanvas.addEventListener('mousemove', this.onDocumentMouseMove, false);\n       gamecanvas.addEventListener('mousedown', this.onMouseDown, false);\n      gamecanvas.addEventListener('dblclick', this.onDoubleClick, false);\n      window.addEventListener('resize', this.onWindowResize, false);\n      window.addEventListener('contextmenu', this.onContextMenu, false);\n\n\n\n\n\n      //const clientConnection = new ClientConnection()\n      //clientConnection.init()\n\n\n\n      //load player data from server\n\n      //load entity data from server  ..await.. feed it to the entity manager\n\n\n      // galaxyManager = new GalaxyManager()\n\n      //load player and galaxy data from the server\n\n      localTargetManager = new LocalTargetManager( this.handleClientCommand )\n\n      entityManager = new EntityManager(playerController,this.scene,modelLoader,textureLoader,localTargetManager )\n\n      clientConnection.setEntityManager( entityManager )\n\n      let selectedFaction = playerController.getSelectedFaction()\n      clientConnection.requestSpawn(  selectedFaction  )\n\n      //setInterval( function(){  clientConnection.requestGridState() }.bind(this)  , 500)\n\n\n            this.$nextTick(()=>{\n              //refs are available next tick !\n\n              //    entityManager.setOverview( this.$refs.overview )\n                //  entityManager.setShipHud( this.$refs.shiphud )\n\n                  //right click menu commands\n                /*  this.$refs.commandWarp.addEventListener(\"click\", function(){\n                    //intersect.material.color.setHex(Math.random() * 0x777777 + 0x777777);\n                    rclickmenu.style.display = \"none\";\n                    console.log('command warp')\n                  }, false);*/\n\n\n\n                  /// this unhides the panels\n                  localTargetManager.getTargettingEventEmitter().on('lootingTargetChanged', function entityListener(unit) {\n                    try{\n                     this.$refs.lootpanel.lootingTargetChanged( unit  )\n                     this.$refs.shipcargopanel.lootingTargetChanged( unit  )\n                     }catch(e){}\n                   }.bind(this));\n\n                  localTargetManager.getTargettingEventEmitter().on('primaryTargetChanged', function entityListener(unit) {\n                    try{\n                     this.$refs.overview.primaryTargetChanged( unit  )\n                     this.$refs.shipmodulespanel.primaryTargetChanged( unit  )\n                     }catch(e){}\n                   }.bind(this));\n\n\n                  entityManager.getEntitiesEventEmitter().on('playersChanged', function entityListener(myPlayer, playersOnGrid) {\n                    try{\n                     this.$refs.stationpanel.playersChanged( myPlayer, playersOnGrid  )\n                     this.$refs.shiphud.playersChanged( myPlayer, playersOnGrid  )\n                     this.$refs.shipmodulespanel.playersChanged( myPlayer, playersOnGrid  )\n                     this.$refs.overview.playersChanged( myPlayer, playersOnGrid  )\n                     this.$refs.itemactionmenu.playersChanged( myPlayer, playersOnGrid  )\n\n                     this.$refs.lootpanel.playersChanged( myPlayer, playersOnGrid  )\n                     this.$refs.shipcargopanel.playersChanged( myPlayer, playersOnGrid  )\n\n                     }catch(e){}\n                   }.bind(this));\n\n\n                  entityManager.getEntitiesEventEmitter().on('entitiesChanged', function entityListener(myPossessedUnit, gridEntities, gridData) {\n\n                      this.refreshSkyboxForGrid( gridData )\n\n                    try{\n                     this.$refs.overview.entitiesChanged( myPossessedUnit, gridEntities, gridData )\n                     this.$refs.shiphud.entitiesChanged( myPossessedUnit, gridEntities, gridData )\n                     this.$refs.rclickmenu.entitiesChanged( myPossessedUnit, gridEntities, gridData )\n                     this.$refs.shipmodulespanel.entitiesChanged( myPossessedUnit, gridEntities , gridData )\n                     this.$refs.navigationpanel.entitiesChanged( myPossessedUnit, gridEntities , gridData )\n\n                     this.$refs.stationpanel.entitiesChanged( myPossessedUnit, gridEntities , gridData )\n                     this.$refs.starmap.entitiesChanged( myPossessedUnit, gridEntities , gridData )\n\n\n                     this.$refs.lootpanel.entitiesChanged( myPossessedUnit, gridEntities  , gridData )\n                     this.$refs.shipcargopanel.entitiesChanged( myPossessedUnit, gridEntities , gridData  )\n                    }catch(e){}\n                   }.bind(this));\n\n                   entityManager.getEntitiesEventEmitter().on('targetLocksChanged', function entityListener(targetLocks) {\n                     try{\n                      this.$refs.overview.targetLocksChanged( targetLocks   )\n                      this.$refs.rclickmenu.targetLocksChanged( targetLocks   )\n                      }catch(e){}\n                    }.bind(this));\n\n                    entityManager.getEntitiesEventEmitter().on('equipmentSlotsChanged', function entityListener(equipmentSlots) {\n                      try{\n                       this.$refs.shipmodulespanel.equipmentSlotsChanged( equipmentSlots   )\n\n                       }catch(e){}\n                     }.bind(this));\n\n                   if(audioSystem)\n                   {\n\n                     entityManager.getEntitiesEventEmitter().on('entitySoundEvent', function entityListener(soundEventData) {\n\n\n                        audioSystem.playSoundFromEvent(soundEventData)\n\n\n                      }.bind(this));\n                   }\n\n\n\n\n           });\n\n\n\n\n      const animate = function() {}\n\n      this.animate()\n    },\n\n    initialize: async function( )\n    {\n\n       await this.preloadAssets()\n\n\n\n\n    },\n\n    preloadAssets: async function()\n    {\n\n        textureLoader = new TextureLoader(this.handleLoadingStepCallback)\n        await textureLoader.preloadAssets();\n\n        skyboxFactory = new SkyBox(textureLoader)\n        await skyboxFactory.preloadAssets();\n\n\n        modelLoader = new ModelLoader(this.handleLoadingStepCallback)\n        await modelLoader.preloadAssets();\n\n        audioSystem = new AudioSystem(this.handleLoadingStepCallback)\n        await audioSystem.preloadAssets();\n\n        this.assetsLoaded = true;\n    },\n\n    connectToServer: async function( ) {\n\n      if(this.connected)return\n\n      var accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n\n        playerController = new PlayerController( accounts[0] )\n\n        await new Promise ((resolve, reject) => {\n            clientConnection.init(playerController, this.handleConnectionErrorMessage, function(playerData){\n\n                playerController.acceptPlayerDataFromServer( playerData  )\n                resolve()\n          })\n        })\n\n        this.connected=true\n        this.startGameClient()  //start this game canvas up!\n\n\n    },\n    animate: function() {\n      const delta = clock.getDelta();\n\n\n\n        requestAnimationFrame(this.animate)\n\n\n      //  this.TPSworld.step( Math.min( delta, 0.02 ) );\n\n        var hasControlsUpdated = this.controls.update( delta );\n\n\n        //this.controls.update();\n\n         entityManager.update(this.scene,delta*1000);\n\n         this.updateCameraPosition()\n\n\n           if(!pauseRendering){\n        this.renderer.render(this.scene, this.camera)\n      }else{\n\n      //  console.log('rendering paused...')\n      }\n\n    },\n    updateCameraPosition()\n    {\n\n      this.controls.minDistance = 20\n\n\n      let playerData = entityManager.getMyPlayerData()\n      let focusUnit = entityManager.getMyPossessedUnit()\n\n\n\n\n      if(focusUnit)\n      {\n          let dockedInStation = focusUnit.dockedInStation\n\n        let sceneObj =  entityManager.getSceneObjectForEntity(focusUnit._id)\n\n\n\n\n\n        if(dockedInStation)\n        {\n            var dockingUnit = entityManager.getDataForEntityById( dockedInStation  )\n            sceneObj =  entityManager.getSceneObjectForEntity( dockedInStation )\n\n            //why is dockingUnit null when docked in a capsule ??\n            if(dockingUnit && UnitHelper.getBaseTypeData(dockingUnit).collisionRadius > 20)\n            {\n              this.controls.minDistance = UnitHelper.getBaseTypeData(dockingUnit).collisionRadius\n\n            }\n\n        }\n\n\n        if(sceneObj)\n        {\n\n          let middleLocation = new THREE.Vector3()\n          middleLocation.lerpVectors( camera_pivot.position,sceneObj.position, 0.2  )\n\n           camera_pivot.position = middleLocation//sceneObj.position\n\n\n        //sceneObj.add(camera_pivot)\n\n\n      //  sceneObj.add(camera_pivot)  //move the camera pivot to the focus unit\n      //   this.camera.rotation =\n\n        //   this.camera.copy(this.fakeCamera)  //copy the camera data to OrbitControls camera (a workaround https://stackoverflow.com/questions/53292145/forcing-orbitcontrols-to-navigate-around-a-moving-object-almost-working/53298655#53298655 )\n\n        }else{\n          console.log('WARN - no scene object for my focus unit' )\n        }\n      }\n\n\n    },\n\n\n    onDocumentMouseMove: function(event) {\n      event.preventDefault();\n\n    //  mouse.x = ((event.clientX - this.rect.left) / this.rect.width) * 2 - 1;\n      //mouse.y = -((event.clientY - this.rect.top) / this.rect.height) * 2 + 1;\n\n      let canvasRect = document.getElementById('gamecanvas').getBoundingClientRect()\n\n\n    \tmouse.x = ( event.clientX /  canvasRect.width ) * 2 - 1;\n    \tmouse.y = - ( event.clientY / canvasRect.height) * 2 + 1;\n\n\n    },\n    onContextMenu: function(event) {\n      \tevent.preventDefault(); // no right click menu\n    },\n    onMouseDown: function(event) {\n      event.preventDefault();\n\n      this.hideStarMap()\n      this.hideAllRightClickMenus()\n    //  this.controls.handleMouseDown(event)\n\n      var rightclick;\n\n        if (!event) var event = window.event;\n        if (event.which) rightclick = (event.which == 3);\n        else if (event.button) rightclick = (event.button == 2);\n      if (!rightclick) {\n      //  setInterval( function() {rclickmenu.style.display = \"none\"} , 50)  ;\n          return;\n      }\n\n      //this is offset by the scroll... not right\n\n      let canvasRect = document.getElementById('gamecanvas').getBoundingClientRect()\n\n\n      mouse.x = ( (event.clientX-canvasRect.x) / canvasRect.width ) * 2 - 1;\n      mouse.y = - ( (event.clientY-canvasRect.y) / canvasRect.height ) * 2 + 1;\n\n\n      raycaster.setFromCamera( mouse, this.camera);\n\n\n\n      var clickables = entityManager.getClickableEntities()\n      console.log('clickables ',clickables)\n      //this.scene.children\n\n      var intersect;\n      var intersects = raycaster.intersectObjects( clickables, true );\n      if(typeof intersects == 'undefined' || !intersects.length)\n      {\n        intersect = undefined;\n\n      }else{\n        intersect = intersects[0].object;\n      }\n\n      this.openRightClickMenuForSceneObject(intersect)\n\n    },\n\n    openRightClickMenuForSceneObject( tarData )\n    {\n      this.resetAllLootMenus()\n      this.hideAllRightClickMenus()\n      this.$refs.rclickmenu.buildTargettingData(  tarData )\n\n      var top_offset = -40\n      this.$refs.rclickmenu.setOffsets( {left: (event.clientX) +'px'  , top: (event.clientY + top_offset ) +'px'   }  )\n      this.$refs.rclickmenu.setHidden(false)\n\n    },\n\n    openItemActionMenuForItem( tarData )\n    {\n    //  this.resetAllLootMenus()\n      this.hideAllRightClickMenus()\n\n      this.$refs.itemactionmenu.buildTargettingData(tarData)\n\n      var top_offset = -40\n      this.$refs.itemactionmenu.setOffsets( {left: (event.clientX) +'px'  , top: (event.clientY + top_offset ) +'px'   }  )\n      this.$refs.itemactionmenu.setHidden(false)\n\n    },\n\n    hideAllRightClickMenus()\n    {\n      this.$refs.itemactionmenu.setHidden(true)\n      this.$refs.rclickmenu.setHidden(true)\n    },\n\n    hideStarMap()\n    {\n      this.$refs.starmap.setToggledOpen( false )\n\n      this.setPauseRendering(false)\n    },\n\n    async refreshSkyboxForGrid(grid){\n\n      if(!cachedGrid || grid.uuid != cachedGrid.uuid){\n        cachedGrid = Object.assign({},grid);\n        let skyboxname = GalaxyHelper.getSkyboxForGrid( grid )\n\n        skyMesh.material = await skyboxFactory.getMaterial(skyboxname)\n      //  console.log('new skybox is', skyboxname)\n      }\n\n\n    },\n\n    setPauseRendering(paused){\n      pauseRendering = paused\n    //  this.animate()\n    },\n\n    resetAllLootMenus()\n    {\n      this.$refs.shipcargopanel.resetPanel()\n      this.$refs.lootpanel.resetPanel()\n    },\n\n\n    onDoubleClick: function(event) {\n      event.preventDefault();\n\n\n      var rightclick;\n\n        if (!event) var event = window.event;\n        if (event.which) rightclick = (event.which == 3);\n        else if (event.button) rightclick = (event.button == 2);\n      if (rightclick) return;\n\n        raycaster.setFromCamera(mouse, this.camera);\n\n      //  var facing = raycaster.ray.direction\n        var facing = this.camera.getWorldDirection();\n        var facingVec = new THREE.Vector3(facing.x  ,facing.y  ,facing.z   ).normalize()\n\n        console.log('set new facing vector', facingVec)\n\n        this.handleClientCommand('setShipDirectionVector', {vector: facingVec } )\n\n\n    },\n\n\n    async handleItemActionMenuCallback(tarData)\n    {\n\n      this.openItemActionMenuForItem(tarData)\n    },\n\n    async handleLoadingStepCallback(stepName)\n    {\n\n      this.loadingStepName = stepName\n    },\n\n    async handleDevToolsRequest(dataRequest)\n    {\n      var results = await clientConnection.requestAPIData( dataRequest )\n\n      console.log('got response from dev tool request', results)\n    },\n\n\n    /*\n    For complex data commands that are  going to a server, requesting data\n    */\n    async handleClientDataRequest( dataRequest  )\n    {\n      console.log('handleClientDataRequest', dataRequest)\n\n      if(dataRequest.requestType=='walletDetails')\n      {\n        //just get this data from web3\n\n        let results = await EthereumHelper.getWalletDetails( clientConnection.getPublicAddress() )\n\n      //  this.$refs.stationpanel.walletDetailsChanged( results.data )\n\n        return results;\n      }\n\n\n      var results = await clientConnection.requestAPIData( dataRequest )\n\n      if(this.$refs.stationpanel){\n        this.$refs.stationpanel.onReceivedDataRequestResponse(  results   )\n\n      }\n\n\n      return results\n\n\n      //handle more request  types\n    /*  if(results.requestType == 'inventory')\n      {\n        this.$refs.stationpanel.inventoryDataChanged( results.data )\n      }\n\n      if(results.requestType == 'orders')\n      {\n        this.$refs.stationpanel.ordersChanged( results.data )\n      }*/\n\n      //pop up some success window w the results for 'make market order'\n\n\n    },\n\n    /*\n    For local commands that are not going to a server\n    */\n    async handleLocalActionCommand(cmdName, cmdParams)\n    {\n\n      if(cmdName == 'openStarmap'){\n         this.$refs.starmap.setToggledOpen( true )\n         this.setPauseRendering(true)\n      }\n\n      if(cmdName == 'closeStarmap'){\n\n         this.hideStarMap()\n      }\n\n\n      if(cmdName == 'closeRightClickMenus'){\n        this.hideAllRightClickMenus()\n      }\n\n      if(cmdName=='openShipCargoPanel'){\n         this.$refs.shipcargopanel.setToggledOpen( true )\n      }\n\n      if(cmdName=='setPrimaryTarget'){\n        localTargetManager.setPrimaryTarget( cmdParams )\n      }\n\n      if(cmdName=='setLootingTarget'){\n        localTargetManager.setLootingTarget( cmdParams )\n      }\n\n      //local commands are intercepted\n      if(cmdName == 'startsell')\n      {\n        this.$refs.stationpanel.openModalOfType('makeMarketOrder' , cmdParams)\n      }\n      if(cmdName == 'destackItem')\n      {\n        this.$refs.stationpanel.openModalOfType('destackItem' , cmdParams)\n      }\n      if(cmdName == 'trashItem')\n      {\n        this.$refs.stationpanel.openModalOfType('trashItem' , cmdParams)\n      }\n\n      if(cmdName == 'salvageItem')\n      {\n        this.$refs.stationpanel.openModalOfType('salvageItem' , cmdParams)\n      }\n\n      if(cmdName == 'startProducingFromBlueprint')\n      {\n        this.$refs.stationpanel.openModalOfType('produceItem' , cmdParams)\n      }\n\n\n      if(cmdName == 'openFittingPanel')\n      {\n        this.$refs.stationpanel.openSubPanel('hangarFitting', cmdParams )\n\n      }\n\n      if(cmdName == 'openHangarCargoPanel')\n      {\n        this.$refs.stationpanel.openSubPanel('hangarCargo', cmdParams  )\n\n      }\n\n\n\n      if(cmdName == 'buyoutOrder')\n      {\n\n        let publicAddress = clientConnection.getPublicAddress()\n\n        let orderData = cmdParams.order\n\n\n        let requestData = {\n          requestType: 'buyoutOrderTx',\n\n          orderData: orderData\n        }\n\n\n        var result = null\n        try{\n            result = await  EthereumHelper.startBuyoutOrderWeb3( {item: orderData, publicAddress: publicAddress })\n\n        }catch(error)\n        {\n          console.log('buyout order error', error )\n        }\n\n\n\n            if(result && result.ethTx && result.ethTx.transactionHash)\n            {\n\n\n              requestData.txSuccess = true\n              requestData.txHash = result.ethTx.transactionHash\n              this.handleClientDataRequest( requestData )\n\n            }else{\n\n              requestData.txSuccess = false\n              this.handleClientDataRequest( requestData )\n\n            }\n\n\n\n      }\n\n      if(cmdName == 'cancelOrder')\n      {\n\n        let publicAddress = clientConnection.getPublicAddress()\n\n        let orderData = cmdParams.order\n\n\n        let requestData = {\n          requestType: 'cancelOrderTx',\n\n          orderData: orderData\n        }\n\n\n        var result = null\n        try{\n            result = await  EthereumHelper.startCancelOrderWeb3( {item: orderData, publicAddress: publicAddress })\n\n        }catch(error)\n        {\n          console.log('cancel order error', error )\n        }\n\n\n\n          console.log('  start cancel2 ', result)\n\n            if(result && result.ethTx && result.ethTx.transactionHash)\n            {\n\n\n              requestData.txSuccess = true\n              requestData.txHash = result.ethTx.transactionHash\n              this.handleClientDataRequest( requestData )\n\n            }else{\n\n              requestData.txSuccess = false\n              this.handleClientDataRequest( requestData )\n\n            }\n\n\n\n      }\n\n      if(cmdName == 'approve')\n      {\n        let result = await EthereumHelper.approveTokensToPayspec( clientConnection.getPublicAddress() )\n\n      }\n\n\n    },\n\n    /*\n    For simple directive commands that are  going to a server\n    */\n    handleClientCommand(cmdName, cmdParams  )\n    {\n      if(cmdName == 'setShipDirectionVector' || cmdName=='lock'){\n        this.resetAllLootMenus()  //close loot menus\n      }\n\n\n      this.playLocalSoundForLocalCommand(cmdName,cmdParams )\n\n\n\n      //networked commands go to server\n      clientConnection.sendClientCommand(cmdName, cmdParams)\n\n    },\n\n    handleOverviewRowClicked(entityRow)\n    {\n      var sceneObject = entityManager.getSceneObjectForEntity(entityRow._id)\n      if(!sceneObject) {\n        console.log('WARN: cannot handle right click', entityRow, sceneObject)\n        return\n      }\n\n\n      this.openRightClickMenuForSceneObject(sceneObject)\n    },\n\n    onWindowResize: function(event) {\n\n\n      this.camera.aspect = window.innerWidth / window.innerHeight;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n\n      if(this.$refs.starmap){\n          this.$refs.starmap.onWindowResize( )\n      }\n\n\n    },\n\n\n\n\n\n    playLocalSoundForLocalCommand : function( cmdName , cmdParams)\n    {\n\n      var soundEventData = null\n\n\n      if(cmdName == 'initiateWarp')\n      {\n\n\n        soundEventData =  {\n          playerUnit: null,\n          actionUnit: null,\n          soundName: 'warpdriveactive'\n        }\n      }\n\n      if(cmdName == 'dock')\n      {\n        soundEventData =  {\n          playerUnit: null,\n          actionUnit: null,\n          soundName: 'transmitdockingrequest'\n        }\n      }\n\n      if(cmdName == 'lootall')\n      {\n        soundEventData =  {\n          playerUnit: null,\n          actionUnit: null,\n          soundName: 'lootitems'\n        }\n      }\n\n      if(cmdName == 'lock')\n      {\n        soundEventData =  {\n          playerUnit: null,\n          actionUnit: null,\n          soundName: 'locking'\n        }\n      }\n\n      if(soundEventData)\n      {\n        audioSystem.playSoundFromEvent(soundEventData)\n      }\n\n\n    },\n\n\n\n    handleConnectionErrorMessage: function( msg ){\n\n      this.connectionError = msg\n    }\n\n  },\n  mounted() {\n    //this.init()\n    //this.animate()\n\n\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameCanvas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameCanvas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GameCanvas.vue?vue&type=template&id=4d2208d1&\"\nimport script from \"./GameCanvas.vue?vue&type=script&lang=js&\"\nexport * from \"./GameCanvas.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n  const MaticPOSClient = require(\"@maticnetwork/maticjs\").MaticPOSClient;\n  const config =require(\"./config-0xbtc\")\n  var Web3 = require('web3');\n\nvar helper = {\n\n  //readonly\n   getMaticPOSClient (ethProvider,userAddress) {\n    return new MaticPOSClient({\n      network: \"mainnet\", // For testnet change this to testnet\n      version: \"v1\", // For testnet change this to mumbai\n      parentProvider: ethProvider,\n      maticProvider:  new Web3.providers.HttpProvider(config.child.RPC) , //<network.Matic.RPC> OR new Web3.providers.HttpProvide(<network.Matic.RPC>)\n      parentDefaultOptions: { from: userAddress }, // optional, can also be sent as last param while sending tx\n      maticDefaultOptions: { from: userAddress }, // optional, can also be sent as last param while sending tx\n    });\n  },\n  getMaticPOSConnection(maticProvider,userAddress) {\n   return new MaticPOSClient({\n     network: \"mainnet\", // For testnet change this to testnet\n     version: \"v1\", // For testnet change this to mumbai\n     parentProvider: new Web3.providers.HttpProvider(config.root.RPC),\n     maticProvider: maticProvider  , //<network.Matic.RPC> OR new Web3.providers.HttpProvide(<network.Matic.RPC>)\n     parentDefaultOptions: { from: userAddress }, // optional, can also be sent as last param while sending tx\n     maticDefaultOptions: { from: userAddress }, // optional, can also be sent as last param while sending tx\n   });\n }\n\n}\n\n\nexport default helper\n\n\n\n/*\n\n\n// Approve ERC20 tokens for deposit using POS Portal\nawait maticPOSClient.approveERC20ForDeposit(\n  rootToken, // RootToken address,\n  amount, // Amount for approval (in wei)\n  options // transaction fields, can be skipped if default options are set\n)\n\n// Deposit tokens into Matic chain using POS Portal.\n// Remember to call `approveERC20ForDeposit` before this\nawait maticPOSClient.depositERC20ForUser(\n  rootToken, // RootToken address\n  user, // User address (in most cases, this will be sender's address),\n  amount, // Amount for deposit (in wei)\n  options // transaction fields, can be skipped if default options are set\n)\n\n\n\n// Burn ERC20 tokens(deposited using POS Portal) on Matic chain and retrieve the Transaction hash\n    await maticPOSClient.burnERC20(\n      childToken, // ChildToken address\n      amount, // Amount to burn (in wei)\n      options // transaction fields, can be skipped if default options are set\n    )\n\n    // Exit funds from the POS Portal using the Transaction hash generated from the 'burnERC20' method\n    // Can be called after checkpoint has been submitted for the block containing burn tx.\n    await maticPOSClient.exitERC20(\n      txHash, // Transaction hash generated from the 'burnERC20' method\n      options // transaction fields, can be skipped if default options are set\n    )\n*/\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex-shrink-0 py-12 text-center bg-gray-900\"},[_c('div',[_c('router-link',{staticClass:\"font-semibold text-gray-700 hover:underline\",attrs:{\"to\":\"/\"}},[_vm._v(\"Home\")]),_c('span',{staticClass:\"mx-4 text-gray-500\"},[_vm._v(\"|\")]),_c('router-link',{staticClass:\"font-semibold text-gray-700 hover:underline\",attrs:{\"to\":\"/login\"}},[_vm._v(\"Connect\")]),_c('span',{staticClass:\"mx-4 text-gray-500\"},[_vm._v(\"|\")]),_c('router-link',{staticClass:\"font-semibold text-gray-700 hover:underline\",attrs:{\"to\":\"/docs\"}},[_vm._v(\"Docs\")])],1),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mt-2\"},[_c('a',{staticClass:\"text-sm font-semibold text-gray-600 hover:underline\",attrs:{\"href\":\"https://github.com/etherportals\"}},[_vm._v(\"\\n      Source on GitHub\\n    \")])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Footer.vue?vue&type=template&id=b09040c8&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<div>\n\n<nav id=\"header\" class=\"w-full z-10 pin-t\">\n\n\n\t\t<div class=\"w-full mx-auto flex flex-wrap bg-gray-900 items-center justify-between mt-0 py-3 bg-white px-4\">\n\n\t\t\t<div class=\"pl-4\">\n\t\t\t\t<a class=\"text-white text-base no-underline hover:no-underline font-extrabold text-xl\"  href=\"#\">\n\t\t\t\t\tEthereum Space War\n\t\t\t\t</a>\n      </div>\n\n\n\t\t\t<div class=\"  flex items-center w-auto mt-2 lg:mt-0 bg-grey-lightest md:bg-transparent z-20\" id=\"nav-content\">\n\t\t\t\t<div class=\" text-white lg:flex justify-end flex-1 items-center\">\n\t\t\t\t\t<MetamaskDropdown\n            :acctAddress= \"activeAccountAddress\"\n\t\t\t\t\t\t:providerNetworkID= \"providerNetworkID\"\n          />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</nav>\n\n\n\n  <div class=\"lg:flex  \">\n\n   \t<GameCanvas\tref=\"gameCanvas\"/>\n\n  </div>\n\n\n<Footer />\n\n</div>\n</template>\n\n\n<script>\nimport MetamaskDropdown from './MetamaskDropdown.vue'\nimport GameCanvas from '../../client/views/GameCanvas.vue'\nimport Web3Helper from '../js/web3-helper.js'\nimport CryptoAssets from '../js/cryptoassets.js'\nimport MaticHelper from '../js/matic-helper.js'\nimport Footer from './Footer.vue'\n\nconst Web3 = require('web3');\n\n\n\nexport default {\n  name: 'Home',\n  components: {\n     MetamaskDropdown,GameCanvas,Footer\n  },\n  data () {\n    return {\n      activeAccountAddress: null,\n\t\t\tnetwork: 'ethereum',\n\t\t\tproviderNetworkID: null,\n\t\t\tassetName: '0xBTC',\n\t\t\troomId: null\n    }\n  },\n  created () {\n\n\n\n\n\n\n\n\n  },\n\tmounted () {\n\t//\tthis.roomId = this.$route.params.id;\n\n \t console.log(this.$refs.gameCanvas)\n\t this.checkSignedIn()\n\n\n\n\t\tif ( window.ethereum.selectedAddress) {\n\t\t\t Web3Helper.init();\n\n\t\t\t\t this.readWeb3Data();  //opens the window\n\n\t\t\t\tthis.startGameConnection()\n\t }\n\n\n },\n  methods: {\n\t\tasync startGameConnection()\n\t\t{\n\n\n\t\t\tvar connection = await this.$refs.gameCanvas.initialize(  )\n\n\t\t\t//do this once we auth into server\n\t\t//\tthis.$refs.gameCanvas.init()\n\n\t\t},\n   async checkSignedIn () {\n\n\n\n\t\tawait window.ethereum\n\n\t\tconsole.log(window.ethereum)\n\n\t\t if (!window.ethereum.selectedAddress) {\n\t\t\t this.$router.replace('/login');\n\t\t\t return;\n\t\t}\n\n\n\n    },\n   async readWeb3Data () {\n     var accounts = await Web3Helper.getConnectedAccounts();\n\n\t\t this.providerNetworkID = await Web3Helper.getProviderNetworkID();\n\n     this.activeAccountAddress = accounts[0]\n\n\t\t //this.updateBalances()\n   },\n\t async setNetwork(networkName)\n\t {\n\t\t this.network = networkName;\n\n\t\t // await this.updateBalances()\n\n\t\t this.$refs.txform.updateAll()\n\t },\n\t async selectAsset(assetName)\n\t {\n\t\t this.assetName = assetName;\n\n\n \t\tthis.$refs.txform.updateAll()\n\n\t\t // await this.updateBalances()\n\t },\n\n\n\n\n  }\n\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=2acc6754&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex items-center justify-center\"},[_c('div',{staticClass:\"bg-white rounded-lg shadow-md px-6 py-6\"},[_c('h2',{staticClass:\"font-semibold text-gray-900 text-2xl leading-tight border-b-2 border-gray-200 pb-4\"},[_vm._v(\"Connect to Web3\")]),(!_vm.error)?_c('p',{staticClass:\"mt-4 text-gray-700\"},[_vm._v(\"Please select a Web3 Provider below to continue.\")]):_vm._e(),(_vm.error)?_c('p',{staticClass:\"bg-red-500 text-white p-12\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e(),(!_vm.error)?_c('div',{staticClass:\"mt-6\"},[_c('button',{staticClass:\"bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded\",on:{\"click\":_vm.requestMetamask}},[_c('img',{staticClass:\"inline mr-4\",attrs:{\"src\":require(\"@/assets/img/metamask.svg\")}}),_vm._v(\"  Continue with Metamask\\n      \")]),_c('Modal',{attrs:{\"open\":_vm.open},on:{\"close\":function($event){_vm.open = false}}},[_c('div',{staticClass:\"max-w-lg w-full bg-white rounded-lg shadow-2xl px-6 py-6\"},[_c('h2',{staticClass:\"font-semibold text-gray-900 text-2xl leading-tight border-b-2 border-gray-200 pb-4\"},[_vm._v(\"Delete account\")]),_c('p',{staticClass:\"mt-4 text-gray-700\"},[_vm._v(\"Are you absolutely sure you want to cancel your subscription and delete your account? This action cannot be undone.\")]),_c('div',{staticClass:\"mt-6\"},[_c('button',{staticClass:\"px-4 py-2 text-white font-semibold bg-red-500 hover:bg-red-600 border border-transparent rounded focus:outline-none focus:shadow-outline\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.open = false}}},[_vm._v(\"\\n              Delete my account\\n            \")]),_c('button',{staticClass:\"ml-4 px-4 py-2 text-gray-800 font-semibold bg-white hover:bg-gray-100 border rounded focus:outline-none focus:shadow-outline\",on:{\"click\":function($event){_vm.open = false}}},[_vm._v(\"\\n              Cancel\\n            \")])])])])],1):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('portal',{attrs:{\"to\":\"modals\"}},[(_vm.showModal)?_c('div',{staticClass:\"fixed inset-0 flex items-center justify-center\"},[_c('transition',{attrs:{\"enter-active-class\":\"transition-all transition-fast ease-out-quad\",\"leave-active-class\":\"transition-all transition-medium ease-in-quad\",\"enter-class\":\"opacity-0\",\"enter-to-class\":\"opacity-100\",\"leave-class\":\"opacity-100\",\"leave-to-class\":\"opacity-0\",\"appear\":\"\"},on:{\"before-leave\":function($event){_vm.backdropLeaving = true},\"after-leave\":function($event){_vm.backdropLeaving = false}}},[(_vm.showBackdrop)?_c('div',[_c('div',{staticClass:\"absolute inset-0 bg-black opacity-25\",on:{\"click\":_vm.close}})]):_vm._e()]),_c('transition',{attrs:{\"enter-active-class\":\"transition-all transition-fast ease-out-quad\",\"leave-active-class\":\"transition-all transition-medium ease-in-quad\",\"enter-class\":\"opacity-0 scale-70\",\"enter-to-class\":\"opacity-100 scale-100\",\"leave-class\":\"opacity-100 scale-100\",\"leave-to-class\":\"opacity-0 scale-70\",\"appear\":\"\"},on:{\"before-leave\":function($event){_vm.cardLeaving = true},\"after-leave\":function($event){_vm.cardLeaving = false}}},[(_vm.showContent)?_c('div',{staticClass:\"relative\"},[_vm._t(\"default\")],2):_vm._e()])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <portal to=\"modals\">\n    <div v-if=\"showModal\" class=\"fixed inset-0 flex items-center justify-center\">\n      <transition\n        @before-leave=\"backdropLeaving = true\"\n        @after-leave=\"backdropLeaving = false\"\n        enter-active-class=\"transition-all transition-fast ease-out-quad\"\n        leave-active-class=\"transition-all transition-medium ease-in-quad\"\n        enter-class=\"opacity-0\"\n        enter-to-class=\"opacity-100\"\n        leave-class=\"opacity-100\"\n        leave-to-class=\"opacity-0\"\n        appear\n      >\n        <div v-if=\"showBackdrop\">\n          <div class=\"absolute inset-0 bg-black opacity-25\" @click=\"close\"></div>\n        </div>\n      </transition>\n\n      <transition\n        @before-leave=\"cardLeaving = true\"\n        @after-leave=\"cardLeaving = false\"\n        enter-active-class=\"transition-all transition-fast ease-out-quad\"\n        leave-active-class=\"transition-all transition-medium ease-in-quad\"\n        enter-class=\"opacity-0 scale-70\"\n        enter-to-class=\"opacity-100 scale-100\"\n        leave-class=\"opacity-100 scale-100\"\n        leave-to-class=\"opacity-0 scale-70\"\n        appear\n      >\n        <div v-if=\"showContent\" class=\"relative\">\n          <slot></slot>\n        </div>\n      </transition>\n    </div>\n  </portal>\n</template>\n\n<script>\nexport default {\n  props: ['open'],\n  data() {\n    return {\n      showModal: false,\n      showBackdrop: false,\n      showContent: false,\n      backdropLeaving: false,\n      cardLeaving: false,\n    }\n  },\n  created() {\n    const onEscape = (e) => {\n      if (this.open && e.keyCode === 27) {\n        this.close()\n      }\n    }\n\n    document.addEventListener('keydown', onEscape)\n\n    this.$once('hook:destroyed', () => {\n      document.removeEventListener('keydown', onEscape)\n    })\n  },\n  watch: {\n    open: {\n      handler: function (newValue) {\n        if (newValue) {\n          this.show()\n        } else {\n          this.close()\n        }\n      },\n      immediate: true\n    },\n    leaving(newValue) {\n      if (newValue === false) {\n        this.showModal = false\n        this.$emit('close')\n      }\n    }\n  },\n  computed: {\n    leaving() {\n      return this.backdropLeaving || this.cardLeaving\n    }\n  },\n  methods: {\n    show() {\n      this.showModal = true\n      this.showBackdrop = true\n      this.showContent = true\n    },\n    close() {\n      this.showBackdrop = false\n      this.showContent = false\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Modal.vue?vue&type=template&id=798ca1fc&\"\nimport script from \"./Modal.vue?vue&type=script&lang=js&\"\nexport * from \"./Modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"flex items-center justify-center\">\n    <div class=\"bg-white rounded-lg shadow-md px-6 py-6\">\n      <h2 class=\"font-semibold text-gray-900 text-2xl leading-tight border-b-2 border-gray-200 pb-4\">Connect to Web3</h2>\n      <p v-if=\"!error\" class=\"mt-4 text-gray-700\">Please select a Web3 Provider below to continue.</p>\n      <p v-if=\"error\" class=\"bg-red-500 text-white p-12\"> {{error}} </p>\n\n      <div v-if=\"!error\" class=\"mt-6\">\n        <button @click=\"requestMetamask\" class=\"bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded\">\n          <img src=\"@/assets/img/metamask.svg\" class=\"inline mr-4\"/>  Continue with Metamask\n        </button>\n\n        <Modal :open=\"open\" @close=\"open = false\">\n          <div class=\"max-w-lg w-full bg-white rounded-lg shadow-2xl px-6 py-6\">\n            <h2 class=\"font-semibold text-gray-900 text-2xl leading-tight border-b-2 border-gray-200 pb-4\">Delete account</h2>\n            <p class=\"mt-4 text-gray-700\">Are you absolutely sure you want to cancel your subscription and delete your account? This action cannot be undone.</p>\n            <div class=\"mt-6\">\n              <button type=\"button\" @click=\"open = false\" class=\"px-4 py-2 text-white font-semibold bg-red-500 hover:bg-red-600 border border-transparent rounded focus:outline-none focus:shadow-outline\">\n                Delete my account\n              </button>\n              <button @click=\"open = false\" class=\"ml-4 px-4 py-2 text-gray-800 font-semibold bg-white hover:bg-gray-100 border rounded focus:outline-none focus:shadow-outline\">\n                Cancel\n              </button>\n            </div>\n          </div>\n        </Modal>\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from '@/components/Modal.vue'\n\nconst Web3 = require('web3');\n\n\nconst connectEth = async () => {\n  if (window.ethereum) {\n    window.web3 = new Web3(window.ethereum);\n    await window.ethereum.enable();\n\n    return true;\n  }\n  return false;\n}\n\n\n\nexport default {\n  components: {\n    Modal\n  },\n  created () {\n     this.checkForProvider()\n  },\n  data() {\n    return {\n      error: null,\n      open: false\n    }\n  },\n  methods: {\n    checkForProvider () {\n\n       if (!window.ethereum) {\n        this.error = \"No Web3 Provider detected. Please install Metamask or use a compatible Web3 browser.\"\n      }\n\n\n    },\n    async requestMetamask () {\n\n\n      if (!window.ethereum.selectedAddress) {\n        await connectEth();\n     }\n\n      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n      const account = accounts[0];\n\n      console.log('got acct', account)\n\n      if(account)\n      {\n          this.$router.replace('/')\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=b6be9b90&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_vm._m(0),_c('div',{staticClass:\"lg:flex mb-4\"},[_c('div',{staticClass:\"w-full lg:w-1/3 bg-gray-300 overflow-y-scroll \"},[_c('div',{staticClass:\"m-6 p-4 bg-gray-100\"},[_c('ul',[_c('li',{staticClass:\"text-lg text-gray-500\"},[_vm._v(\" Getting Started \")]),_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.setContent('purpose')}}},[_vm._v(\" Purpose Statement \")])]),_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.setContent('connecting')}}},[_vm._v(\" Connecting with Metamask \")])])])])]),_c('div',{staticClass:\"w-full lg:w-2/3 bg-gray-300  \"},[_c('div',{staticClass:\"m-6 p-4 bg-gray-100\"},[(_vm.activeContent == 'purpose')?_c('div',[_c('h3',{staticClass:\"text-lg\"},[_vm._v(\" Portals \")]),_c('br'),_c('p',[_vm._v(\"?\")])]):_vm._e(),(_vm.activeContent == 'connecting')?_c('div',[_c('h3',{staticClass:\"text-lg\"},[_vm._v(\" Getting Connected \")]),_c('br'),_vm._m(1),_c('br'),_c('p',[_vm._v(\" Once you have installed Metamask, you will need to add a Custom RPC for the Matic Network so that you will be able to digitally sign transactions for the Matic Network.   To do this, click on the 'Networks' dropdown at the very top of Metamask and change it from 'Main Ethereum Network' to 'Custom RPC' and use the following information: \")]),_c('br'),_vm._m(2),_c('br'),_c('p',[_vm._v(\" Once you have added the Matic Network information to Metamask, switch Metamask back to 'Ethereum Mainnet Network'.  During the use of the Dapp, you may be asked to switch over to the 'Matic Mainnet Network' when you intend to digitally sign transactions for the Matic Network and now you are prepared to do so.  \")])]):_vm._e()])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"w-full z-10 pin-t\",attrs:{\"id\":\"header\"}},[_c('div',{staticClass:\"h-1 z-20 pin-t\",staticStyle:{\"background\":\"linear-gradient(to right, #4dc0b5 var(--scroll), transparent 0)\"},attrs:{\"id\":\"progress\"}}),_c('div',{staticClass:\"w-full mx-auto flex flex-wrap items-center justify-between mt-0 py-3 bg-white px-4\"},[_c('div',{staticClass:\"pl-4\"},[_c('a',{staticClass:\"text-black text-base no-underline hover:no-underline font-extrabold text-xl\",attrs:{\"href\":\"#\"}},[_vm._v(\"\\n  \\t\\t\\t\\t\\tPortals\\n  \\t\\t\\t\\t\")])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\" To connect to, you will need a Web3 compatible browser or extension such as Metamask. (\"),_c('a',{attrs:{\"href\":\"https://metamask.io\",\"target\":\"_blank\"}},[_vm._v(\"https://metamask.io\")]),_vm._v(\")    \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_vm._v(\" Network Name: \\\"Matic Network\\\"\")]),_c('li',[_vm._v(\" New RPC URL: \\\"https://rpc-mainnet.matic.network\\\"\")]),_c('li',[_vm._v(\" Chain ID: \\\"137\\\" \")]),_c('li',[_vm._v(\" Symbol: \\\"M\\\" \")]),_c('li',[_vm._v(\" Block Explorer URL: \\\"https://explorer.matic.network\\\" \")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"about\">\n\n    <nav id=\"header\" class=\"w-full z-10 pin-t\">\n\n    \t<div id=\"progress\" class=\"h-1 z-20 pin-t\" style=\"background:linear-gradient(to right, #4dc0b5 var(--scroll), transparent 0);\"></div>\n\n    \t\t<div class=\"w-full mx-auto flex flex-wrap items-center justify-between mt-0 py-3 bg-white px-4\">\n\n    \t\t\t<div class=\"pl-4\">\n    \t\t\t\t<a class=\"text-black text-base no-underline hover:no-underline font-extrabold text-xl\"  href=\"#\">\n    \t\t\t\t\tPortals\n    \t\t\t\t</a>\n          </div>\n\n\n\n    \t\t</div>\n    \t</nav>\n\n\n\n\n      <div class=\"lg:flex mb-4\">\n        <div class=\"w-full lg:w-1/3 bg-gray-300 overflow-y-scroll \">\n          <div class=\"m-6 p-4 bg-gray-100\">\n\n            <ul>\n              <li class=\"text-lg text-gray-500\"> Getting Started </li>\n              <li> <a href=\"#\" @click=\"setContent('purpose')\"> Purpose Statement </a> </li>\n              <li> <a href=\"#\" @click=\"setContent('connecting')\"> Connecting with Metamask </a> </li>\n           </ul>\n\n          </div>\n        </div>\n        <div class=\"w-full lg:w-2/3 bg-gray-300  \">\n          <div class=\"m-6 p-4 bg-gray-100\">\n\n\n            <div v-if=\"activeContent == 'purpose'\">\n              <h3 class=\"text-lg\"> Portals </h3>\n              <br>\n              <p>?</p>\n\n            </div>\n\n            <div v-if=\"activeContent == 'connecting'\">\n              <h3 class=\"text-lg\"> Getting Connected </h3>\n              <br>\n\n              <p> To connect to, you will need a Web3 compatible browser or extension such as Metamask. (<a href=\"https://metamask.io\" target=\"_blank\" >https://metamask.io</a>)    </p>\n              <br>\n              <p> Once you have installed Metamask, you will need to add a Custom RPC for the Matic Network so that you will be able to digitally sign transactions for the Matic Network.   To do this, click on the 'Networks' dropdown at the very top of Metamask and change it from 'Main Ethereum Network' to 'Custom RPC' and use the following information: </p>\n                <br>\n                <ul>\n                  <li> Network Name: \"Matic Network\"</li>\n                  <li> New RPC URL: \"https://rpc-mainnet.matic.network\"</li>\n                  <li> Chain ID: \"137\" </li>\n                  <li> Symbol: \"M\" </li>\n                  <li> Block Explorer URL: \"https://explorer.matic.network\" </li>\n                </ul>\n                <br>\n                <p> Once you have added the Matic Network information to Metamask, switch Metamask back to 'Ethereum Mainnet Network'.  During the use of the Dapp, you may be asked to switch over to the 'Matic Mainnet Network' when you intend to digitally sign transactions for the Matic Network and now you are prepared to do so.  </p>\n            </div>\n\n\n\n\n\n\n          </div>\n        </div>\n      </div>\n\n\n\n  </div>\n</template>\n\n\n<script>\n\nexport default {\n  name: 'Docs',\n  props: [],\n  data() {\n    return {\n      activeContent: 'purpose'\n    }\n  },\n  methods: {\n\n    setContent (contentName) {\n      console.log('set content', contentName)\n      this.activeContent = contentName;\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Docs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Docs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Docs.vue?vue&type=template&id=3ec4ccfb&\"\nimport script from \"./Docs.vue?vue&type=script&lang=js&\"\nexport * from \"./Docs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex items-center justify-center\"},[_vm._v(\"\\n  Not Found!\\n  \"),_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Go Home\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"flex items-center justify-center\">\n    Not Found!\n    <router-link to=\"/\">Go Home</router-link>\n  </div>\n</template>\n\n<script>\n\n\n\n\nexport default {\n  name: 'NotFound',\n  data() {\n    return {\n\n    }\n  },\n  methods: {\n\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NotFound.vue?vue&type=template&id=030f9026&\"\nimport script from \"./NotFound.vue?vue&type=script&lang=js&\"\nexport * from \"./NotFound.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Home from './views/Home.vue'\n\nimport Login from './views/Login.vue'\nimport Docs from './views/Docs.vue'\nimport NotFound from './views/NotFound.vue'\n\nVue.use(Router)\n\nexport default new Router({\n  //mode: 'history',\n  //base: process.env.BASE_URL,\n  routes: [\n    {\n      path: '/',\n      name: 'home',\n      component: Home\n    },\n\n    {\n      path: '/#',\n      name: 'home',\n      component: Home\n    },\n    {\n      path: '/room/:id',\n      name: 'room',\n      component: Home,\n    },\n    {\n      path: '/login',\n      name: 'login',\n      component: Login,\n    },\n    {\n      path: '/docs',\n      name: 'docs',\n      component: Docs,\n    },\n    {\n      path: '/*',\n      component: NotFound\n    },\n  ]\n})\n","import Vue from 'vue'\nimport PortalVue from 'portal-vue'\nimport App from './App.vue'\nimport router from './router'\n\n\nimport './main.css'\n\n\nVue.config.productionTip = false\n\nVue.use(PortalVue)\n \n\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomIcon.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomIcon.vue?vue&type=style&index=0&lang=css&\"","\nconst productiondata = require('../../shared/worlddata/production/productiondata.json')\nconst blueprintgroups = require('../../shared/worlddata/production/blueprintgroups.json')\n\nconst GalaxyHelper = require('./GalaxyHelper')\nconst ItemHelper = require('./ItemHelper')\nconst CryptoHelper = require('./math/CryptoHelper')\n\nmodule.exports =  class ProductionHelper {\n\n\n\n  static getProductionData( internalName )\n  {\n    if(internalName)\n    {\n      return productiondata[ internalName ]\n    }\n    return null\n  }\n\n\n  static getBlueprintGroupData( groupName ){\n\n      return blueprintgroups[groupName]\n  }\n\n\n  static getItemsInputForProduction(item)\n  {\n    let itemProductionData = ProductionHelper.getProductionData(item.internalName)\n    if(itemProductionData)\n    {\n      return itemProductionData.input\n    }\n    return null\n  }\n\n\n  static async  getBaseBlueprintsAvailableAtStation(stationUnit, mongoInterface)\n  {\n    let stationGrid = await GalaxyHelper.findGridWithUUID(stationUnit.grid, mongoInterface)\n\n    let constellationName = stationGrid.constellation ;\n\n     let constellationData = GalaxyHelper.getConstellationTypeData( constellationName )\n\n\n     let baseBlueprintGroups = constellationData.base_blueprint_groups\n\n     return ProductionHelper.getBlueprintsFromBlueprintGroups( baseBlueprintGroups  )\n  }\n\n  static getBlueprintsFromBlueprintGroups( bpGroups ){\n\n    let result =  []\n\n    for(var group of bpGroups){\n\n      let blueprintsInGroup = ProductionHelper.getBlueprintGroupData( group )\n\n\n\n      result = result.concat( blueprintsInGroup )\n\n\n    }\n\n    return result\n\n  }\n\n\n\n\n  //complete me\n     static async startProducingItem(playerPublicAddress, producingItemType ,  inputQuantity, mongoInterface){\n\n    //   let newContainerId = newContainer._id\n\n\n\n      let itemTypeName = producingItemType.internalName\n       let quantityToProduce = parseInt(+inputQuantity)\n\n       if(!itemTypeName){\n\n         return {success:false, error:'cannot produce with null itemTypeName'}\n       }\n\n       if(isNaN(quantityToProduce)){\n         return {success:false, error:'cannot produce that quantity'}\n       }\n\n       let player = await GalaxyHelper.findPlayerByAddress(playerPublicAddress, mongoInterface )\n\n       let stationUnitId = await GalaxyHelper.playerDockedInStation(player, mongoInterface  )\n\n       let stationUnit = await mongoInterface.findById('units', stationUnitId)\n\n       if(  !stationUnit ){\n         return {success:false, error: 'No docked station to produce in'}\n       }\n\n\n      let stationItemContainer = await ItemHelper.getContainerFromPlayerAndUnitOwner( playerPublicAddress ,stationUnitId, mongoInterface )\n\n\n       let inputItemsTotal = ProductionHelper.getTotalInputItemsToProduce(itemTypeName, quantityToProduce   )\n\n       console.log(' inputItemsTotal ', inputItemsTotal)\n\n\n      let hasInputItems = await ProductionHelper.containerHasItems( inputItemsTotal , stationItemContainer, mongoInterface  )\n\n      if(!hasInputItems){\n        console.log('WARN: input items not found! ')\n        return {success:false, error:\"input items not found\"}\n      }\n\n      //create the Production Slot (if we have capacity)\n\n      let productionSlotData = {\n        playerPublicAddress: playerPublicAddress,\n         stationUnitId: stationUnitId,\n         producingItemTypeName: itemTypeName ,\n         quantityToProduce: quantityToProduce\n      }\n\n      let productionSlot = await ProductionHelper.createNewProductionSlot(productionSlotData , mongoInterface)\n\n      await ProductionHelper.updateProductionSlot(  productionSlot , mongoInterface )\n\n\n\n      //if the production slot is activated, 'trash item' from  all of the itemstacks escrowed to it\n\n      return productionSlot\n\n\n      /* return\n\n       //find the inputs and escrow them\n\n\n       if(!ItemHelper.allowedToMoveItem(item)){\n         console.trace('Error: cannot produce item while it is in that state ', item)\n         return null\n       }\n\n       if(quantityToSalvage   > item.stackQuantity){\n         return {success:false, error: 'cannot salvage that quantity '}\n\n       }\n\n\n\n       //console.log('quantityToSalvage', quantityToSalvage , item )\n\n       if(quantityToSalvage && quantityToSalvage > 0){\n\n          //mark the item and then call a method that has auto healing...\n          //make sure we are allowed to move the item according to the database\n           let response = await mongoInterface.updateAndFindOne('items', ItemHelper.getAllowedToMoveQueryById(item._id),\n                                           {quantityToSalvage: quantityToSalvage }  )\n\n            let newItem = response.value\n           await SalvageHelper.spawnRemainingSalvageForItem(newItem, mongoInterface)\n\n           return newItem\n       }*/\n\n\n     }\n\n\n\n\n\n\n\n      static async   updateProductionSlot( productionSlot , mongoInterface ){\n\n\n              console.log('updateProductionSlot', productionSlot)\n\n         let itemTypeName = productionSlot.producingItemTypeName\n         let quantityToProduce = productionSlot.quantityToProduce\n         let stationUnitId = productionSlot.stationUnitId\n         let playerPublicAddress = productionSlot.playerPublicAddress\n\n         let stationItemContainer = await ItemHelper.getContainerFromPlayerAndUnitOwner( playerPublicAddress ,stationUnitId, mongoInterface )\n\n\n         let itemTypeData = ItemHelper.getItemTypeByInternalName(itemTypeName)\n\n         let inputItems = ProductionHelper.getTotalInputItemsToProduce(itemTypeName, quantityToProduce   )\n\n\n         if(productionSlot.status == 'pending'){\n\n\n                 //start escrowing items for the production slot\n                 for(var item of inputItems){\n                    let foundItem = await ProductionHelper.findItemInContainerWithQuantity(item.internalName, item.quantity, stationItemContainer._id, mongoInterface )\n\n                    //try to escrow it .. if it is moveable\n                    if( foundItem) { await ProductionHelper.escrowItemForProductionSlot( foundItem, item.quantity,  productionSlot, mongoInterface)  }\n                 }\n\n                 let numberOfRequiredInputItems = inputItems.length\n                 let numberOfItemsEscrowed = 0;\n\n                 //if they are all escrowed then modify the slot state ...\n                 for(var item of inputItems){\n                    let escrowedItem = await mongoInterface.findOne('items', {escrowedForProductionSlot: productionSlot._id, remainingQuantityToSpawn:null } )\n\n                    if( escrowedItem) {\n                       numberOfItemsEscrowed++;\n                    }\n                 }\n\n                 //if all the right items are escrowed for the production slot, activate the production slot\n\n                 if( numberOfItemsEscrowed >= numberOfRequiredInputItems ){\n                   await mongoInterface.updateAndFindOne('productionSlot', {_id: productionSlot._id, status:'pending' } , {  status: 'active'  }) //has all items escrowed\n                 }\n\n           }\n\n\n           let activeSlot = await mongoInterface.findOne('productionSlot',{_id: productionSlot._id, status:'active'});\n\n\n           if( activeSlot ){\n\n             let unixTimeStarted = activeSlot.startedAtUnixTime\n\n             let currentTime = Date.now()\n\n             let timeToProduce = ProductionHelper.getTimeToProduce( activeSlot )\n\n             let hadEnoughTimeToProduce = (  currentTime -  unixTimeStarted   >=  timeToProduce  )\n\n\n              //if the production slot is activated, delete all the input items which are not trying to stacksplit anymore\n\n             await ProductionHelper.removeEscrowedItemsForActiveProductionSlot( productionSlot, mongoInterface )\n\n             //if the items are removed and the status is active and enough unix time has elapsed , transition to complete and spawn the item with a childspawn lock id on the productionslot\n\n             let escrowedItems = await mongoInterface.findAll('items', {escrowedForProductionSlot: productionSlot._id  } )\n             if(escrowedItems.length == 0 && hadEnoughTimeToProduce ){\n               console.log('all escrowed items for production removed - setting slot to complete ')\n               await mongoInterface.updateAndFindOne('productionSlot', {_id: productionSlot._id, status:'active' } , {  status: 'complete', quantityOutputToSpawn: 0, childStackLockId: CryptoHelper.getRandomHash()  }) //has all items escrowed\n\n               //spawn the output items\n\n             }\n\n            }\n\n\n         let completedSlot = await mongoInterface.findOne('productionSlot',{_id: productionSlot._id, status:'complete'});\n\n\n          if( completedSlot ){\n\n            try{\n              await ProductionHelper.spawnOutputItemForCompletedProductionSlot(completedSlot, mongoInterface )\n            }catch(e){\n                console.log(e)\n            }\n\n            let outputItem = await mongoInterface.findOne('items', {spawnLockId: completedSlot.childStackLockId} )\n\n            console.log('outputItem', outputItem)\n             //if the output item exists,  delete this production slot entirely\n            if(outputItem){\n              await mongoInterface.deleteOne('productionSlot',{_id: productionSlot._id , status:'complete'});\n\n            }\n\n\n\n         }\n\n       }\n\n       static getTimeToProduce(productionSlot){\n         let productionData = ProductionHelper.getProductionData(productionSlot.producingItemTypeName)\n         let timeFactor = +productionData.timeFactor\n\n         let quantity = +productionSlot.quantityToProduce\n\n\n         let timeMs = quantity * timeFactor * 1000\n\n         return timeMs\n       }\n\n      static async escrowItemForProductionSlot( item, inputQuantity,  productionSlot, mongoInterface) {\n\n        let quantityToEscrow = parseInt( inputQuantity )\n        if(isNaN(quantityToEscrow)){\n          console.trace('WARN: Tried to escrow item for production with input quantity NAN ')\n          return null\n        }\n\n        let initialStackQuantity = item.stackQuantity\n        let remainderQuantity = initialStackQuantity - quantityToEscrow\n\n        if( inputQuantity <= 0 || inputQuantity > initialStackQuantity ){\n          console.trace('WARN: Tried to escrow item for production with invalid input quantity ', item, inputQuantity)\n           return null\n        }\n\n        let updatedItemResponse =  await mongoInterface.updateAndFindOne('items',  ItemHelper.getAllowedToMoveQueryConcatenation({ _id: item._id  }),\n                                               {escrowedForProductionSlot: productionSlot._id, stackQuantity: quantityToEscrow,  remainingQuantityToSpawn: remainderQuantity, childStackLockId: CryptoHelper.getRandomHash()  })\n\n         let updatedItem = updatedItemResponse.value\n\n         //dont HAVE to do this but it speeds up the process\n          await ItemHelper.spawnRemainderStackForItem(updatedItem,mongoInterface)\n\n         return updatedItem\n      }\n\n\n      static async removeEscrowedItemsForActiveProductionSlot( productionSlot, mongoInterface ){\n\n        let escrowedItems = await mongoInterface.findAll('items', {escrowedForProductionSlot: productionSlot._id })\n\n        for(var item of escrowedItems){\n          //again try to spawn remainder if it did not work when the slot was 'pending' for some reason\n           await ItemHelper.spawnRemainderStackForItem(item,mongoInterface)\n        }\n\n       let result  = await mongoInterface.deleteMany('items', {escrowedForProductionSlot: productionSlot._id, remainingQuantityToSpawn: null })\n       return result\n      }\n\n     //IMPLEMENT ME\n     static async spawnOutputItemForCompletedProductionSlot(productionSlot, mongoInterface){\n       //use the child lock Id so no dupes can happen\n\n       let stationUnitId = productionSlot.stationUnitId\n       let playerPublicAddress = productionSlot.playerPublicAddress\n\n       let stationItemContainer = await ItemHelper.getContainerFromPlayerAndUnitOwner( playerPublicAddress ,stationUnitId, mongoInterface )\n\n       if(!stationItemContainer){\n         console.trace('WARN: tried to spawn output item to invalid container ', productionSlot)\n         return null\n       }\n\n       if(!productionSlot.childStackLockId){\n         console.trace('WARN: tried to spawn output item with no child stack lock id ', productionSlot)\n         return null\n\n       }\n\n\n       let producedItemInsert = await ItemHelper.spawnNewItem({\n\n         containerId: stationItemContainer._id,\n         internalName: productionSlot.producingItemTypeName,\n         stackQuantity: productionSlot.quantityToProduce,\n         spawnLockId: productionSlot.childStackLockId   //indexed and unique so no dupes can happen\n\n       }, mongoInterface)\n\n       return producedItemInsert\n\n     }\n\n\n\n\n\n\n\n\n     static   getTotalInputItemsToProduce(itemTypeName, quantityToProduce     ){\n\n       let itemTypeData = ItemHelper.getItemTypeByInternalName(itemTypeName)\n\n       let inputItemsToProduceEach = ProductionHelper.getItemsInputForProduction( itemTypeData )\n\n       console.log('meep input items ',itemTypeName ,  itemTypeData ,  inputItemsToProduceEach )\n\n       let inputItemsTotal = inputItemsToProduceEach.map(function(inputItem){\n           return { internalName: inputItem.internalName, quantity: (+inputItem.quantity * quantityToProduce)  };\n       }  )\n\n       return inputItemsTotal\n     }\n\n\n     static async getNextAvailableSlotIdForPlayerAtStation(publicAddress, stationUnitId  ){\n       //IMPLEMENT ME\n       return 0\n     }\n\n     static async createNewProductionSlot(productionSlotData,mongoInterface){\n       //if there is enough capacity..\n\n       let currentUnixTime = Date.now()\n\n\n       let newSlotId = await ProductionHelper.getNextAvailableSlotIdForPlayerAtStation( productionSlotData.playerPublicAddress,  productionSlotData.stationUnitId, mongoInterface )\n\n       let insert = await mongoInterface.insertOne('productionSlot',{\n\n         playerPublicAddress: productionSlotData.playerPublicAddress,\n         stationUnitId: productionSlotData.stationUnitId,\n          slotId: newSlotId,\n         producingItemTypeName: productionSlotData.producingItemTypeName ,\n         quantityToProduce: productionSlotData.quantityToProduce,\n         startedAtUnixTime: currentUnixTime,\n         status:'pending'\n       } );\n\n\n       let slot = await mongoInterface.findById('productionSlot',insert.insertedId )\n\n       return slot\n\n\n\n     }\n\n\n\n\n     static async containerHasItems(inputItems, container , mongoInterface){\n\n       for(var item of inputItems){\n          let foundItem = await ProductionHelper.findItemInContainerWithQuantity(item.internalName, item.quantity, container._id, mongoInterface )\n\n          if(!foundItem) return false\n       }\n\n       return true\n     }\n\n\n     static async findItemInContainerWithQuantity(inputItemInternalName, inputQuantity,  containerId, mongoInterface){\n        inputQuantity = parseInt(+inputQuantity)\n\n        if(isNaN(inputQuantity)){\n          console.trace('WARN: input quantity NAN')\n           return false;\n        }\n\n\n        let itemQuery = {internalName: inputItemInternalName, containerId: containerId,  stackQuantity: {$gte: inputQuantity}   }\n\n        let safeItemQuery = ItemHelper.getAllowedToMoveQueryConcatenation(itemQuery)\n\n       return await mongoInterface.findOne('items', safeItemQuery )\n     }\n\n  //production slots are like market orders ..  also input items escrow into it\n\n\n\n\n\n\n}\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"7002\";","const THREE = require('three')\n\nvar solarsystems = require('../../shared/worlddata/solarsystems.json')\nvar celestialtypes = require('../../shared/worlddata/celestialtypes.json')\n//var entitybasetypes = require('../../shared/worlddata/entitybasetypes.json')\nvar constellationtypes = require('../../shared/worlddata/constellations.json')\n\n const entitybasetypes =  require('../../shared/worlddata/entitybasetypes.json')\n\nconst mobtypes = require('../../shared/worlddata/mobs/mobtypes.json')\n\nconst factiondata = require('../../shared/worlddata/factions.json')\nconst equipmenttypes = require('../../shared/worlddata/items/equipmenttypes.json')\n\n\n\nmodule.exports =  class GalaxyHelper {\n\n\n constructor()\n {\n\n }\n\n\n static getNameForUnit(unit)\n {\n   if(unit.mobtype){\n     return mobtypes[unit.mobtype].name;\n   }\n\n   if(unit.basetype){\n     return entitybasetypes[unit.basetype].name;\n   }\n\n\n    return \"?\"\n }\n\n\n static getSkyboxForGrid(grid){\n   let constellationname  = grid.constellation\n\n   let constellationdata = constellationtypes[constellationname]\n\n   return constellationdata.skybox\n }\n\n\n /*\n Anomaly type grids are destroyed on server reboot - stations not allowed to be there\n */\n static celestialGridIsPermanent(celestialgrid){\n\n   if(celestialgrid.celestialtype == 'anomaly'){\n     return false\n   }\n\n   return true\n }\n\n static canDeployStructureOnGrid(celestialgrid){\n\n   if(celestialgrid.celestialtype == 'planet'){\n\n     return true\n   }\n\n }\n\n static getUnitBaseTypeData(unit)\n {\n   if(unit)\n   {\n     return entitybasetypes[unit.basetype]\n   }\n   return null\n }\n\n static getMobTypeData(unit)\n {\n   if(unit)\n   {\n     return mobtypes[unit.mobtype]\n   }\n   return null\n }\n\n static getFactionData(factionName)\n {\n   if(factionName)\n   {\n     return factiondata[factionName]\n   }\n   return null\n }\n\n\n static getConstellationTypeData(name)\n {\n   if(name)\n   {\n     return constellationtypes[name]\n   }\n   return null\n }\n\n\n\n    static getEquipmentTypeData(typename)\n    {\n      return equipmenttypes[typename] ;\n    }\n\n\n//*** FINDER METHODS\n\nstatic async findUnitById(unitId, mongoInterface){\n  return await mongoInterface.findById('units',unitId)\n}\n\n  //rename to FInd\n static async findGridWithUUID(gridUUID, mongoInterface){\n    return await mongoInterface.findOne('celestialgrid', {uuid:gridUUID })\n\n }\n\n static async findPlayerByAddress(publicAddress,mongoInterface){\n     return await mongoInterface.findOne('activePlayers', {publicAddress: publicAddress.toLowerCase()})\n\n }\n\n static async findAllEquipmentOnShip(unit,mongoInterface){\n\n   return await mongoInterface.findAll('equipmentSlots', {unitId: unit._id} )\n\n }\n\n\n   static async findAllEquipmentEngagedTargettingShip(unit,mongoInterface){\n\n     return await mongoInterface.findAll('equipmentSlots', { targetUnitId: unit._id, engaged: true } )\n\n   }\n\n\n//***  ----\n\n   static playerOwnsUnit(player,unit)\n   {\n     return unit.owningPlayerAddress.toLowerCase() == player.publicAddress.toLowerCase()\n   }\n\n   static async getPlayerHomeStation(player,mongoInterface){\n\n     let homeStationGridUUID = \"86dbca36ab49ae87\" //the circle, central station\n\n     if(player.playerFaction){\n\n       let faction = GalaxyHelper.getFactionData(player.playerFaction)\n       if(faction && faction.allowsPlayers){\n          homeStationGridUUID = player.homeStationGridUUID\n       }\n\n     }\n\n     let homeGrid = await GalaxyHelper.findGridWithUUID(homeStationGridUUID, mongoInterface)\n\n     let homeStationUnitId = await mongoInterface.findOne('units', {grid: homeGrid.uuid, unittype: 'station'  } )\n\n      return homeStationUnitId;\n\n   }\n\n  static getPlayerOwnerAddressForUnit(unit)\n  {\n    let address = unit.owningPlayerAddress\n\n    if(!address){\n      if(  unit.aiFaction){\n         address = GalaxyHelper.getFactionData(unit.aiFaction).publicAddress\n      }else{\n         console.trace('WARN: null owner address for ', unit )\n        return null\n      }\n\n\n    }\n\n\n\n\n    return address\n  }\n\n\n\n static getCelestialsInSolarsystem(ssname)\n {\n\n   return solarsystems[ssname.toLowerCase()].celestials\n\n   /*for(var i in Object.keys(solarsystems))\n   {\n     if(solarsystems[i].name.toLowerCase() === ssname.toLowerCase())\n     {\n       return solarsystems[i].celestials\n     }\n\n   }*/\n\n }\n\n\n static async getListOfGridsWithPlayers(mongoInterface)\n {\n\n     var activeGrids = await  mongoInterface.findAll('celestialgrid', { hasActivePlayerUnits:true })\n\n     return activeGrids ;\n\n }\n\n\n static getCelestialData(celestial)\n {\n  var celestialtypedata = celestialtypes[celestial.type]\n\n  return {\n    name: GalaxyHelper.getCelestialName(celestial,celestialtypedata),\n    uuid: celestial.uuid,\n    celestialtype: celestialtypedata.celestialtype,\n    staticEntities: celestialtypedata.entities,\n    warpInLocationVector: new THREE.Vector3( celestial.x, celestial.y, celestial.z ),\n    basetype: celestial.type\n  }\n\n }\n\n static getCelestialName(celestial,celestialtypedata)\n {\n  switch(celestialtypedata.celestialtype )\n  {\n    case 'warpgate': return 'Warp Gate - '.concat(celestial.jumpDestinationSystemName);\n    case 'anomaly': return celestial.name   ;\n    case 'planet': return celestial.name ;\n    case 'structure': return celestial.name ;\n  }\n\n\n }\n\n\n static async getEntitiesOnGrid( gridUUID, mongoInterface )\n  {\n     // var statics = this.getStaticEntitiesOnGrid( gridUUID ) // use mongo\n\n\n      var existingGrid = await mongoInterface.findOne('celestialgrid',{uuid: gridUUID  }  )\n\n\n      var units = await mongoInterface.findAll('units', {grid: gridUUID, active:true   }) //have to tell players of ships docked or else player wont think they are docked...\n\n\n   //   var statics = await this.mongoInterface.findAll('units', {grid: gridUUID, active:true, isStatic:true })\n     // var gridentities = entities.concat(statics)\n\n\n   //   var unitStatuses = await this.mongoInterface.findAll('unitStatuses', {grid: gridUUID, active:true })\n   //   var entityStatuses = await redisInterface.findHashInRedis('entityStatus', )\n\n      //var players = await mongoInterface.findAll('activePlayers', {grid: gridUUID })\n\n      return { grid:existingGrid, entities: units    }\n\n\n  }\n\n\n\n //get the ID of the unit or the station-unit that the player is inside\nstatic async getActiveItemContainerEncapsulatingUnitIDForPlayer( player, mongoInterface )\n {\n\n   let playerPossessedUnit = await GalaxyHelper.getPossessedUnitForPlayer(player,mongoInterface)\n   //if it doesnt exist then make it.. associate it either to the ship or to the station.  Belogns to a plaer and has a max mass size\n\n   let playerIsDocked = await GalaxyHelper.playerDockedInStation(player, mongoInterface)\n   if(playerIsDocked)\n   {\n     return playerPossessedUnit.dockedInStation\n   }else if(player.possessedUnitId){\n     return player.possessedUnitId\n   }else{\n     console.log('WARN: Could not get active item container for ', player)\n     return null;\n\n   }\n\n\n\n }\n\n\n  static getFacingVectorFromGridToGrid(from,to)\n  {\n\n    var fromVector = new THREE.Vector3(from.gridLocationVector.x,from.gridLocationVector.y,from.gridLocationVector.z  )\n\n    var facing = (fromVector.clone().sub(to.gridLocationVector)).normalize().negate()\n    return facing;\n\n  }\n\n  //returns the _id of the station their ship is docked in\n  static async playerDockedInStation(player, mongoInterface)\n  {\n    let playerPossessedUnit = await GalaxyHelper.getPossessedUnitForPlayer(player,mongoInterface)\n\n    return playerPossessedUnit.dockedInStation\n  }\n\n\n   static async getPossessedUnitForPlayer(player,mongoInterface){\n     return await mongoInterface.findById('units', player.possessedUnitId)\n   }\n\n\n\n\n}\n","\n\nconst iconmap = require('../../worlddata/textures/iconsmap.json')\n\nmodule.exports =  class ImageHelper {\n\n  static getBackgroundOffsetFromImageSlot(slot, tileWidth, tilesPerRow){\n\n    let tileX = Math.floor(slot % tilesPerRow);\n    let tileY = Math.floor(slot / tilesPerRow);\n\n    let pixelX = Math.floor(-1*tileX*tileWidth).toString()\n    let pixelY = Math.floor(-1*tileY*tileWidth).toString()\n\n    return pixelX.concat('px ').concat(pixelY).concat('px')\n\n  }\n\n  static getIconDetailsFromIconName( iconName ){\n\n    return iconmap[iconName]\n\n  }\n\n\n}\n","module.exports = {\n  assets: {\n    \"0xBTC\": {\n      \"Decimals\": 8,\n      \"EthereumContract\": \"0xb6ed7644c69416d67b522e20bc294a9a9b405b31\",\n      \"MaticContract\": \"0x71B821aa52a49F32EEd535fCA6Eb5aa130085978\",\n      \"EthereumPredicateContract\": \"0x40ec5b33f54e0e8a33a975908c5ba1c14e5bbbdf\"\n    },\n    \"Matic\": {\n      \"Decimals\": 18,\n      \"EthereumContract\": \"0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0\",\n      \"MaticContract\": \"0x0000000000000000000000000000000000001010\",\n      \"EthereumPredicateContract\": \"0x40ec5b33f54e0e8a33a975908c5ba1c14e5bbbdf\"\n    },\n    \"Dai\": {\n      \"Decimals\": 18,\n      \"EthereumContract\": \"0x6b175474e89094c44da98b954eedeac495271d0f\",\n      \"MaticContract\": \"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063\",\n      \"EthereumPredicateContract\": \"0x40ec5b33f54e0e8a33a975908c5ba1c14e5bbbdf\"\n    },\n    \"KIWI\": {\n      \"Decimals\": 8,\n      \"EthereumContract\": \"0x2bf91c18cd4ae9c2f2858ef9fe518180f7b5096d\",\n      \"MaticContract\": \"0x578360AdF0BbB2F10ec9cEC7EF89Ef495511ED5f\",\n      \"EthereumPredicateContract\": \"0x40ec5b33f54e0e8a33a975908c5ba1c14e5bbbdf\"\n    },\n    \"WETH\": {\n      \"Decimals\": 18,\n      \"EthereumContract\": \"0xa45b966996374E9e65ab991C6FE4Bfce3a56DDe8\",\n      \"MaticContract\": \"0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619\",\n      \"EthereumPredicateContract\": \"0x40ec5b33f54e0e8a33a975908c5ba1c14e5bbbdf\"\n    }\n\n\n\n\n  }\n};\n","module.exports={\n\n\"tokenName\": '0xBTC',\n\"tokenContractAddress\": \"0x71B821aa52a49F32EEd535fCA6Eb5aa130085978\",\n\"tokenDecimals\": 8\n\n\n}\n","\nmodule.exports =  class MongoHelper {\n\n  static isValidObjectId(obj){\n\n    return (obj && typeof obj === 'object')\n\n  }\n\n\n    static documentIdsAreEqual(id1, id2)\n    {\n      if(!id1){\n          console.trace('id1 null')\n            return false\n      }\n      if(!id2){\n          console.trace('id2 null')\n          return false\n      }\n\n      return id1.toString() == id2.toString()\n    }\n\n\n\n}\n","const THREE = require('three')\n\n\nconst GalaxyHelper = require('./GalaxyHelper')\nmodule.exports =  class StatsHelper   {\n\n\n\n constructor()\n {\n\n }\n\n\n   static getInitialVitalsForEntityType(basetype)\n   {\n     let stats = StatsHelper.getInitialStatsForEntityType(basetype)\n     let vitals = GalaxyHelper.getUnitBaseTypeData({basetype:basetype}).vitals\n\n\n     return {energy: Math.min(vitals.energy,stats.max_energy),\n       shields: Math.min(vitals.shields,stats.max_shields),\n       armor: Math.min( vitals.armor, stats.max_armor ) };\n   }\n\n    static getInitialStatsForEntityType(basetype)\n    {\n      return GalaxyHelper.getUnitBaseTypeData({basetype:basetype}).stats;\n    }\n\n    /*\n       static getInitialStatsForEntityType(basetype)\n       {\n         return entitybasetypes[basetype].stats;\n       }\n\n*/\n\n\n    //only to be done by GridUpdater !!\n    static async modifyUnitVitals(unitId, vitalsDelta, mongoInterface){\n\n      //console.log('modifyUnitVitals', unitId)\n      let unit = await GalaxyHelper.findUnitById(unitId, mongoInterface)\n\n      if(!vitalsDelta || Object.keys(vitalsDelta).length == 0 )return\n      if(!unit)return\n\n      let oldVitals = unit.vitals\n      let stats = unit.stats\n\n      let newVitals = Object.assign({}, oldVitals)\n\n\n\n  /*\n    damage is handled in combathelper.. not here\n     if(!isNaN(vitalsDelta.emDamage)){\n     ///   newVitals.shields = Math.min(  Math.max(parseInt(oldVitals.shields) + parseInt(vitalsDelta.shields),0) , parseInt(stats.max_shields))\n      }\n      if(!isNaN(vitalsDelta.kinDamage)){\n     ///   newVitals.shields = Math.min(  Math.max(parseInt(oldVitals.shields) + parseInt(vitalsDelta.shields),0) , parseInt(stats.max_shields))\n   }*/\n\n\n\n\n       if(!isNaN(vitalsDelta.energy)){\n         newVitals.energy = Math.min( Math.max(parseInt(oldVitals.energy) + parseInt(vitalsDelta.energy),0) ,  parseInt(stats.max_energy))\n       }\n\n       if(!isNaN(vitalsDelta.shields)){\n         newVitals.shields = Math.min(  Math.max(parseInt(oldVitals.shields) + parseInt(vitalsDelta.shields),0) , parseInt(stats.max_shields))\n       }\n\n       if(!isNaN(vitalsDelta.armor)){\n         newVitals.armor = Math.min( Math.max(parseInt(oldVitals.armor) + parseInt(vitalsDelta.armor), 0) , parseInt(stats.max_armor))\n       }\n\n\n       //only update the ones we are affecting now\n       let newUnit = await mongoInterface.updateAndFindOne('units',{_id: unit._id},\n       {'vitals.energy': newVitals.energy,'vitals.shields': newVitals.shields,'vitals.armor': newVitals.armor })\n\n       //  console.log('modified vitals', newUnit )\n         return newUnit\n    }\n\n\n\n\n    static getUnitStatTypes(){\n\n      return [\"max_energy\",\n               \"max_armor\",\n               \"max_shields\",\n               \"mass\",\n               \"speed\",\n               \"warp_strength\",\n               \"sensor_frequency\",\n               \"sensor_range\",\n               \"signature_radius\",\n               \"cpu_size\",\n               \"shield_regen\"]\n\n    }\n\n\n         //TEST to make sure this works\n       static async rebuildStatsForUnit(sUnit,mongoInterface){\n\n         let unit = await GalaxyHelper.findUnitById( sUnit._id, mongoInterface)\n\n         console.log('rebuildStatsForUnit', sUnit, unit )\n         if(!unit){\n           console.trace('tried to rebuild stats for ', unit )\n         }\n\n         let newStats =  StatsHelper.getInitialStatsForEntityType(unit.basetype)\n\n\n         let equipmentSlots = await GalaxyHelper.findAllEquipmentOnShip(unit,mongoInterface)\n\n\n         //const statNames = Object.keys( newStats )\n         //console.log(\"rebuilding\",statNames)\n\n\n         //add item self stat bonuses\n         for(var slot of equipmentSlots){\n\n           let equipmentTypeData = GalaxyHelper.getEquipmentTypeData( slot.equipmenttype )\n           let stat_bonuses_self = equipmentTypeData.stat_bonuses_self\n\n           if(stat_bonuses_self)\n           {\n             let statbonuskeys = Object.keys( stat_bonuses_self  )\n\n             for(var key of statbonuskeys){\n               let bonusAmount = stat_bonuses_self[key]\n               if(bonusAmount && !isNaN(bonusAmount)){\n\n                   newStats[stattype]  = Math.max( newStats[stattype] + parseInt(bonusAmount), StatsHelper.getMinimumValueForStatType(key))\n\n               }\n\n             }\n           }\n         }\n\n\n         //add item target bonuses\n         let targetEngagedSlots = await GalaxyHelper.findAllEquipmentEngagedTargettingShip(unit,mongoInterface)\n\n         for(var engagedSlot of targetEngagedSlots){\n\n           let equipmentTypeData = GalaxyHelper.getEquipmentTypeData( engagedSlot.equipmenttype )\n           let stat_bonuses_target = equipmentTypeData.stat_bonuses_target\n\n           if(stat_bonuses_target)\n           {\n             let statbonuskeys = Object.keys( stat_bonuses_target  )\n\n             for(var key of statbonuskeys){\n               let bonusAmount = stat_bonuses_target[key]\n               if(bonusAmount && !isNaN(bonusAmount)){\n                   newStats[stattype]  = Math.max( newStats[stattype] + parseInt(bonusAmount), StatsHelper.getMinimumValueForStatType(key))\n               }\n\n             }\n           }\n         }\n\n\n          return await mongoInterface.updateAndFindOne('units', {_id: unit._id},{ stats: newStats })\n\n\n       }\n\n\n    static getMinimumValueForStatType(statType){\n      if(statType ==\"warp_strength\"){\n        return -100\n      }\n      if(statType ==\"max_armor\"){\n        return 1\n      }\n      if(statType ==\"signature_radius\"){\n        return 1\n      } \n\n\n      return 0\n    }\n\n   //for GUI mostly\n     static getCompiledStatsAndVitals(unit)\n     {\n\n\n       if(unit && unit.vitals && unit.stats)\n       {\n\n       //  var baseStats = UnitHelper.getInitialStatsForEntityType( unit.basetype )\n\n\n         return {\n           currentEnergy: unit.vitals.energy ,\n           maxEnergy: unit.stats.max_energy,\n           currentArmor: unit.vitals.armor ,\n           maxArmor: unit.stats.max_armor,\n           currentShields: unit.vitals.shields ,\n           maxShields: unit.stats.max_shields,\n           speed: unit.stats.speed,\n           mass: unit.stats.mass,\n           sensorRange: unit.stats.sensor_range,\n           warpStrength: unit.stats.warp_strength,\n           sensorFrequency: unit.stats.sensor_frequency,\n           signatureRadius: unit.stats.signature_radius,\n           cpuSize: unit.stats.cpu_size,\n           shieldRegen:unit.stats.shield_regen\n\n\n         }\n       }else{\n         return {\n           currentEnergy: 0,\n           maxEnergy: 0,\n           currentArmor: 0,\n           maxArmor: 0,\n           currentShields:0,\n           maxShields:0,\n           speed: 0,\n           mass: 0,\n           sensorRange: 0,\n           warpStrength: 0,\n           sensorFrequency: 0,\n           signatureRadius: 0,\n           cpuSize:0,\n           shieldRegen:0\n\n         }\n       }\n\n\n     }\n\n\n\n\n\n}\n","module.exports = {\r\n  root: {\r\n    RPC: \"https://mainnet.infura.io/v3/ff7c8dd5cc424fc1b78b5509d033dea2\",\r\n    DERC20: \"0xb6ed7644c69416d67b522e20bc294a9a9b405b31\",  // ROOT ADDRESS https://etherscan.io/token/0xb6ed7644c69416d67b522e20bc294a9a9b405b31\r\n  },\r\n  child: {\r\n    RPC: \"https://rpc-mainnet.matic.network\",\r\n    DERC20: \"0x71B821aa52a49F32EEd535fCA6Eb5aa130085978\",  // CHILD ADDRESS https://explorer.matic.network/address/0x71B821aa52a49F32EEd535fCA6Eb5aa130085978/contracts\r\n  },\r\n  user: {\r\n    privateKey:\r\n      \"YOUR PK HERE\",\r\n    address: \"0x123ABC_YOUR_ADDRESS_HERE\",\r\n    amount: \"100000000000\", // Transfer 1000 0xBTC - CHANGE THIS\r\n    amount1: \"2300000000000000\", // Approve 23m 0xBTC - NO NEED TO CHANGE\r\n  },\r\n};\r\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&style=text%2Fcss&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&style=text%2Fcss&lang=css&\"","/*!\n* meshwalk\n * https://github.com/yomotsu/meshwalk.js\n * (c) 2015 @yomotsu\n * Released under the MIT License.\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.MW = {}));\n}(this, (function (exports) { 'use strict';\n\n\tvar THREE$1; // bind on install\n\n\tvar onInstallHandlers = [];\n\tfunction install(_THREE) {\n\t  if (THREE$1 && _THREE === THREE$1) {\n\t    console.error('[THREE] already installed. `install` should be called only once.');\n\t    return;\n\t  }\n\n\t  THREE$1 = _THREE;\n\t  onInstallHandlers.forEach(function (handler) {\n\t    return handler();\n\t  });\n\t}\n\n\tfunction _classCallCheck(instance, Constructor) {\n\t  if (!(instance instanceof Constructor)) {\n\t    throw new TypeError(\"Cannot call a class as a function\");\n\t  }\n\t}\n\n\tfunction _defineProperties(target, props) {\n\t  for (var i = 0; i < props.length; i++) {\n\t    var descriptor = props[i];\n\t    descriptor.enumerable = descriptor.enumerable || false;\n\t    descriptor.configurable = true;\n\t    if (\"value\" in descriptor) descriptor.writable = true;\n\t    Object.defineProperty(target, descriptor.key, descriptor);\n\t  }\n\t}\n\n\tfunction _createClass(Constructor, protoProps, staticProps) {\n\t  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n\t  if (staticProps) _defineProperties(Constructor, staticProps);\n\t  return Constructor;\n\t}\n\n\tfunction _inherits(subClass, superClass) {\n\t  if (typeof superClass !== \"function\" && superClass !== null) {\n\t    throw new TypeError(\"Super expression must either be null or a function\");\n\t  }\n\n\t  subClass.prototype = Object.create(superClass && superClass.prototype, {\n\t    constructor: {\n\t      value: subClass,\n\t      writable: true,\n\t      configurable: true\n\t    }\n\t  });\n\t  if (superClass) _setPrototypeOf(subClass, superClass);\n\t}\n\n\tfunction _getPrototypeOf(o) {\n\t  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n\t    return o.__proto__ || Object.getPrototypeOf(o);\n\t  };\n\t  return _getPrototypeOf(o);\n\t}\n\n\tfunction _setPrototypeOf(o, p) {\n\t  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n\t    o.__proto__ = p;\n\t    return o;\n\t  };\n\n\t  return _setPrototypeOf(o, p);\n\t}\n\n\tfunction _isNativeReflectConstruct() {\n\t  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n\t  if (Reflect.construct.sham) return false;\n\t  if (typeof Proxy === \"function\") return true;\n\n\t  try {\n\t    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n\t    return true;\n\t  } catch (e) {\n\t    return false;\n\t  }\n\t}\n\n\tfunction _assertThisInitialized(self) {\n\t  if (self === void 0) {\n\t    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n\t  }\n\n\t  return self;\n\t}\n\n\tfunction _possibleConstructorReturn(self, call) {\n\t  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n\t    return call;\n\t  }\n\n\t  return _assertThisInitialized(self);\n\t}\n\n\tfunction _createSuper(Derived) {\n\t  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n\t  return function _createSuperInternal() {\n\t    var Super = _getPrototypeOf(Derived),\n\t        result;\n\n\t    if (hasNativeReflectConstruct) {\n\t      var NewTarget = _getPrototypeOf(this).constructor;\n\n\t      result = Reflect.construct(Super, arguments, NewTarget);\n\t    } else {\n\t      result = Super.apply(this, arguments);\n\t    }\n\n\t    return _possibleConstructorReturn(this, result);\n\t  };\n\t}\n\n\tfunction _superPropBase(object, property) {\n\t  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n\t    object = _getPrototypeOf(object);\n\t    if (object === null) break;\n\t  }\n\n\t  return object;\n\t}\n\n\tfunction _get(target, property, receiver) {\n\t  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n\t    _get = Reflect.get;\n\t  } else {\n\t    _get = function _get(target, property, receiver) {\n\t      var base = _superPropBase(target, property);\n\n\t      if (!base) return;\n\t      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n\t      if (desc.get) {\n\t        return desc.get.call(receiver);\n\t      }\n\n\t      return desc.value;\n\t    };\n\t  }\n\n\t  return _get(target, property, receiver || target);\n\t}\n\n\tvar vec3;\n\tvar vec3_0;\n\tvar vec3_1;\n\tvar center;\n\tvar extents;\n\tonInstallHandlers.push(function () {\n\t  vec3 = new THREE$1.Vector3();\n\t  vec3_0 = new THREE$1.Vector3();\n\t  vec3_1 = new THREE$1.Vector3();\n\t  center = new THREE$1.Vector3();\n\t  extents = new THREE$1.Vector3();\n\t}); // aabb: <THREE.Box3>\n\t// Plane: <THREE.Plane>\n\n\tfunction isIntersectionAABBPlane(aabb, Plane) {\n\t  center.addVectors(aabb.max, aabb.min).multiplyScalar(0.5);\n\t  extents.subVectors(aabb.max, center);\n\t  var r = extents.x * Math.abs(Plane.normal.x) + extents.y * Math.abs(Plane.normal.y) + extents.z * Math.abs(Plane.normal.z);\n\t  var s = Plane.normal.dot(center) - Plane.constant;\n\t  return Math.abs(s) <= r;\n\t}\n\tvar v0;\n\tvar v1;\n\tvar v2;\n\tvar f0;\n\tvar f1;\n\tvar f2;\n\tvar a00;\n\tvar a01;\n\tvar a02;\n\tvar a10;\n\tvar a11;\n\tvar a12;\n\tvar a20;\n\tvar a21;\n\tvar a22;\n\tvar plane;\n\tonInstallHandlers.push(function () {\n\t  v0 = new THREE$1.Vector3();\n\t  v1 = new THREE$1.Vector3();\n\t  v2 = new THREE$1.Vector3();\n\t  f0 = new THREE$1.Vector3();\n\t  f1 = new THREE$1.Vector3();\n\t  f2 = new THREE$1.Vector3();\n\t  a00 = new THREE$1.Vector3();\n\t  a01 = new THREE$1.Vector3();\n\t  a02 = new THREE$1.Vector3();\n\t  a10 = new THREE$1.Vector3();\n\t  a11 = new THREE$1.Vector3();\n\t  a12 = new THREE$1.Vector3();\n\t  a20 = new THREE$1.Vector3();\n\t  a21 = new THREE$1.Vector3();\n\t  a22 = new THREE$1.Vector3();\n\t  plane = new THREE$1.Plane();\n\t}); // based on http://www.gamedev.net/topic/534655-aabb-triangleplane-intersection--distance-to-plane-is-incorrect-i-have-solved-it/\n\t//\n\t// a: <THREE.Vector3>, // vertex of a triangle\n\t// b: <THREE.Vector3>, // vertex of a triangle\n\t// c: <THREE.Vector3>, // vertex of a triangle\n\t// aabb: <THREE.Box3>\n\n\tfunction isIntersectionTriangleAABB(a, b, c, aabb) {\n\t  var p0, p1, p2, r; // Compute box center and extents of AABoundingBox (if not already given in that format)\n\n\t  center.addVectors(aabb.max, aabb.min).multiplyScalar(0.5);\n\t  extents.subVectors(aabb.max, center); // Translate triangle as conceptually moving AABB to origin\n\n\t  v0.subVectors(a, center);\n\t  v1.subVectors(b, center);\n\t  v2.subVectors(c, center); // Compute edge vectors for triangle\n\n\t  f0.subVectors(v1, v0);\n\t  f1.subVectors(v2, v1);\n\t  f2.subVectors(v0, v2); // Test axes a00..a22 (category 3)\n\n\t  a00.set(0, -f0.z, f0.y);\n\t  a01.set(0, -f1.z, f1.y);\n\t  a02.set(0, -f2.z, f2.y);\n\t  a10.set(f0.z, 0, -f0.x);\n\t  a11.set(f1.z, 0, -f1.x);\n\t  a12.set(f2.z, 0, -f2.x);\n\t  a20.set(-f0.y, f0.x, 0);\n\t  a21.set(-f1.y, f1.x, 0);\n\t  a22.set(-f2.y, f2.x, 0); // Test axis a00\n\n\t  p0 = v0.dot(a00);\n\t  p1 = v1.dot(a00);\n\t  p2 = v2.dot(a00);\n\t  r = extents.y * Math.abs(f0.z) + extents.z * Math.abs(f0.y);\n\n\t  if (Math.max(-Math.max(p0, p1, p2), Math.min(p0, p1, p2)) > r) {\n\t    return false; // Axis is a separating axis\n\t  } // Test axis a01\n\n\n\t  p0 = v0.dot(a01);\n\t  p1 = v1.dot(a01);\n\t  p2 = v2.dot(a01);\n\t  r = extents.y * Math.abs(f1.z) + extents.z * Math.abs(f1.y);\n\n\t  if (Math.max(-Math.max(p0, p1, p2), Math.min(p0, p1, p2)) > r) {\n\t    return false; // Axis is a separating axis\n\t  } // Test axis a02\n\n\n\t  p0 = v0.dot(a02);\n\t  p1 = v1.dot(a02);\n\t  p2 = v2.dot(a02);\n\t  r = extents.y * Math.abs(f2.z) + extents.z * Math.abs(f2.y);\n\n\t  if (Math.max(-Math.max(p0, p1, p2), Math.min(p0, p1, p2)) > r) {\n\t    return false; // Axis is a separating axis\n\t  } // Test axis a10\n\n\n\t  p0 = v0.dot(a10);\n\t  p1 = v1.dot(a10);\n\t  p2 = v2.dot(a10);\n\t  r = extents.x * Math.abs(f0.z) + extents.z * Math.abs(f0.x);\n\n\t  if (Math.max(-Math.max(p0, p1, p2), Math.min(p0, p1, p2)) > r) {\n\t    return false; // Axis is a separating axis\n\t  } // Test axis a11\n\n\n\t  p0 = v0.dot(a11);\n\t  p1 = v1.dot(a11);\n\t  p2 = v2.dot(a11);\n\t  r = extents.x * Math.abs(f1.z) + extents.z * Math.abs(f1.x);\n\n\t  if (Math.max(-Math.max(p0, p1, p2), Math.min(p0, p1, p2)) > r) {\n\t    return false; // Axis is a separating axis\n\t  } // Test axis a12\n\n\n\t  p0 = v0.dot(a12);\n\t  p1 = v1.dot(a12);\n\t  p2 = v2.dot(a12);\n\t  r = extents.x * Math.abs(f2.z) + extents.z * Math.abs(f2.x);\n\n\t  if (Math.max(-Math.max(p0, p1, p2), Math.min(p0, p1, p2)) > r) {\n\t    return false; // Axis is a separating axis\n\t  } // Test axis a20\n\n\n\t  p0 = v0.dot(a20);\n\t  p1 = v1.dot(a20);\n\t  p2 = v2.dot(a20);\n\t  r = extents.x * Math.abs(f0.y) + extents.y * Math.abs(f0.x);\n\n\t  if (Math.max(-Math.max(p0, p1, p2), Math.min(p0, p1, p2)) > r) {\n\t    return false; // Axis is a separating axis\n\t  } // Test axis a21\n\n\n\t  p0 = v0.dot(a21);\n\t  p1 = v1.dot(a21);\n\t  p2 = v2.dot(a21);\n\t  r = extents.x * Math.abs(f1.y) + extents.y * Math.abs(f1.x);\n\n\t  if (Math.max(-Math.max(p0, p1, p2), Math.min(p0, p1, p2)) > r) {\n\t    return false; // Axis is a separating axis\n\t  } // Test axis a22\n\n\n\t  p0 = v0.dot(a22);\n\t  p1 = v1.dot(a22);\n\t  p2 = v2.dot(a22);\n\t  r = extents.x * Math.abs(f2.y) + extents.y * Math.abs(f2.x);\n\n\t  if (Math.max(-Math.max(p0, p1, p2), Math.min(p0, p1, p2)) > r) {\n\t    return false; // Axis is a separating axis\n\t  } // Test the three axes corresponding to the face normals of AABB b (category 1).\n\t  // Exit if...\n\t  // ... [-extents.x, extents.x] and [min(v0.x,v1.x,v2.x), max(v0.x,v1.x,v2.x)] do not overlap\n\n\n\t  if (Math.max(v0.x, v1.x, v2.x) < -extents.x || Math.min(v0.x, v1.x, v2.x) > extents.x) {\n\t    return false;\n\t  } // ... [-extents.y, extents.y] and [min(v0.y,v1.y,v2.y), max(v0.y,v1.y,v2.y)] do not overlap\n\n\n\t  if (Math.max(v0.y, v1.y, v2.y) < -extents.y || Math.min(v0.y, v1.y, v2.y) > extents.y) {\n\t    return false;\n\t  } // ... [-extents.z, extents.z] and [min(v0.z,v1.z,v2.z), max(v0.z,v1.z,v2.z)] do not overlap\n\n\n\t  if (Math.max(v0.z, v1.z, v2.z) < -extents.z || Math.min(v0.z, v1.z, v2.z) > extents.z) {\n\t    return false;\n\t  } // Test separating axis corresponding to triangle face normal (category 2)\n\t  // Face Normal is -ve as Triangle is clockwise winding (and XNA uses -z for into screen)\n\n\n\t  plane.normal.copy(f1).cross(f0).normalize();\n\t  plane.constant = plane.normal.dot(a);\n\t  return isIntersectionAABBPlane(aabb, plane);\n\t} // sphere1: <THREE.Sphere>\n\t// sphere: <THREE.Sphere>\n\t// aabb: <THREE.Box3>\n\n\tfunction isIntersectionSphereAABB(sphere, aabb) {\n\t  var sqDist = 0;\n\t  if (sphere.center.x < aabb.min.x) sqDist += (aabb.min.x - sphere.center.x) * (aabb.min.x - sphere.center.x);\n\t  if (sphere.center.x > aabb.max.x) sqDist += (sphere.center.x - aabb.max.x) * (sphere.center.x - aabb.max.x);\n\t  if (sphere.center.y < aabb.min.y) sqDist += (aabb.min.y - sphere.center.y) * (aabb.min.y - sphere.center.y);\n\t  if (sphere.center.y > aabb.max.y) sqDist += (sphere.center.y - aabb.max.y) * (sphere.center.y - aabb.max.y);\n\t  if (sphere.center.z < aabb.min.z) sqDist += (aabb.min.z - sphere.center.z) * (aabb.min.z - sphere.center.z);\n\t  if (sphere.center.z > aabb.max.z) sqDist += (sphere.center.z - aabb.max.z) * (sphere.center.z - aabb.max.z);\n\t  return sqDist <= sphere.radius * sphere.radius;\n\t}\n\tvar A;\n\tvar B;\n\tvar C;\n\tvar V;\n\tvar AB;\n\tvar BC;\n\tvar CA;\n\tvar Q1;\n\tvar Q2;\n\tvar Q3;\n\tvar QC;\n\tvar QA;\n\tvar QB;\n\tvar negatedNormal;\n\tonInstallHandlers.push(function () {\n\t  A = new THREE$1.Vector3();\n\t  B = new THREE$1.Vector3();\n\t  C = new THREE$1.Vector3();\n\t  V = new THREE$1.Vector3();\n\t  AB = new THREE$1.Vector3();\n\t  BC = new THREE$1.Vector3();\n\t  CA = new THREE$1.Vector3();\n\t  Q1 = new THREE$1.Vector3();\n\t  Q2 = new THREE$1.Vector3();\n\t  Q3 = new THREE$1.Vector3();\n\t  QC = new THREE$1.Vector3();\n\t  QA = new THREE$1.Vector3();\n\t  QB = new THREE$1.Vector3();\n\t  negatedNormal = new THREE$1.Vector3();\n\t}); //http://clb.demon.fi/MathGeoLib/docs/Triangle.cpp_code.html#459\n\t// sphere: <THREE.Sphere>\n\t// a: <THREE.Vector3>, // vertex of a triangle\n\t// b: <THREE.Vector3>, // vertex of a triangle\n\t// c: <THREE.Vector3>, // vertex of a triangle\n\t// normal: <THREE.Vector3>, // normal of a triangle\n\n\tfunction isIntersectionSphereTriangle(sphere, a, b, c, normal) {\n\t  // http://realtimecollisiondetection.net/blog/?p=103\n\t  // vs plain of triangle face\n\t  A.subVectors(a, sphere.center);\n\t  B.subVectors(b, sphere.center);\n\t  C.subVectors(c, sphere.center);\n\t  var rr = sphere.radius * sphere.radius;\n\t  V.crossVectors(vec3_0.subVectors(B, A), vec3_1.subVectors(C, A));\n\t  var d = A.dot(V);\n\t  var e = V.dot(V);\n\n\t  if (d * d > rr * e) {\n\t    return false;\n\t  } // vs triangle vertex\n\n\n\t  var aa = A.dot(A);\n\t  var ab = A.dot(B);\n\t  var ac = A.dot(C);\n\t  var bb = B.dot(B);\n\t  var bc = B.dot(C);\n\t  var cc = C.dot(C);\n\n\t  if (aa > rr & ab > aa & ac > aa || bb > rr & ab > bb & bc > bb || cc > rr & ac > cc & bc > cc) {\n\t    return false;\n\t  } // vs edge\n\n\n\t  AB.subVectors(B, A);\n\t  BC.subVectors(C, B);\n\t  CA.subVectors(A, C);\n\t  var d1 = ab - aa;\n\t  var d2 = bc - bb;\n\t  var d3 = ac - cc;\n\t  var e1 = AB.dot(AB);\n\t  var e2 = BC.dot(BC);\n\t  var e3 = CA.dot(CA);\n\t  Q1.subVectors(A.multiplyScalar(e1), AB.multiplyScalar(d1));\n\t  Q2.subVectors(B.multiplyScalar(e2), BC.multiplyScalar(d2));\n\t  Q3.subVectors(C.multiplyScalar(e3), CA.multiplyScalar(d3));\n\t  QC.subVectors(C.multiplyScalar(e1), Q1);\n\t  QA.subVectors(A.multiplyScalar(e2), Q2);\n\t  QB.subVectors(B.multiplyScalar(e3), Q3);\n\n\t  if (Q1.dot(Q1) > rr * e1 * e1 && Q1.dot(QC) >= 0 || Q2.dot(Q2) > rr * e2 * e2 && Q2.dot(QA) >= 0 || Q3.dot(Q3) > rr * e3 * e3 && Q3.dot(QB) >= 0) {\n\t    return false;\n\t  }\n\n\t  var distance = Math.sqrt(d * d / e) - sphere.radius - 1;\n\t  negatedNormal.set(-normal.x, -normal.y, -normal.z);\n\t  var contactPoint = sphere.center.clone().add(negatedNormal.multiplyScalar(distance));\n\t  return {\n\t    distance: distance,\n\t    contactPoint: contactPoint\n\t  };\n\t} // based on Real-Time Collision Detection Section 5.3.4\n\t// p: <THREE.Vector3>, // line3.start\n\t// q: <THREE.Vector3>, // line3.end\n\t// a: <THREE.Vector3>, // triangle.a\n\t// b: <THREE.Vector3>, // triangle.b\n\t// c: <THREE.Vector3>, // triangle.c\n\t// normal: <THREE.Vector3>, // triangle.normal, optional\n\t// var scalarTriple = function ( a, b, c ) {\n\t//   var m = b.clone().cross( c );\n\t//   return a.dot( m );\n\t// }\n\t// var vectorTriple = function ( a, b, c ) {\n\t//   var m = b.clone().cross( c );\n\t//   return a.clone().cross( m );\n\t// }\n\t// export function isIntersectionLineTrianglefunction ( p, q, a, b, c, precisio{\n\t//   var pq = q.clone().sub( p ),\n\t//       pa = a.clone().sub( p ),\n\t//       pb = b.clone().sub( p ),\n\t//       pc = c.clone().sub( p ),\n\t//       u, v, w;\n\t//   u = scalarTriple( pq, pc, pb );\n\t//   if ( u < 0 ) { return false; }\n\t//   v = scalarTriple( pq, pa, pc );\n\t//   if ( v < 0 ) { return false; }\n\t//   w = scalarTriple( pq, pb, pa );\n\t//   if ( w < 0 ) { return false; }\n\t//   var denom = 1 / ( u + v + w );\n\t//   u *= denom;\n\t//   v *= denom;\n\t//   w *= denom;\n\t//   var au = a.clone().multiplyScalar( u ),\n\t//       bv = b.clone().multiplyScalar( v ),\n\t//       cw = c.clone().multiplyScalar( w ),\n\t//       contactPoint = au.clone().add( bv ).add( cw );\n\t//   return {\n\t//     contactPoint: contactPoint\n\t//   }\n\t// }\n\n\tvar ab;\n\tvar ac;\n\tvar qp;\n\tvar n;\n\tvar ap;\n\tvar e;\n\tvar au;\n\tvar bv;\n\tvar cw;\n\tonInstallHandlers.push(function () {\n\t  ab = new THREE$1.Vector3();\n\t  ac = new THREE$1.Vector3();\n\t  qp = new THREE$1.Vector3();\n\t  n = new THREE$1.Vector3();\n\t  ap = new THREE$1.Vector3();\n\t  e = new THREE$1.Vector3();\n\t  au = new THREE$1.Vector3();\n\t  bv = new THREE$1.Vector3();\n\t  cw = new THREE$1.Vector3();\n\t});\n\tfunction testSegmentTriangle(p, q, a, b, c) {\n\t  ab.subVectors(b, a);\n\t  ac.subVectors(c, a);\n\t  qp.subVectors(p, q);\n\t  n.copy(ab).cross(ac);\n\t  var d = qp.dot(n);\n\t  if (d <= 0) return false;\n\t  ap.subVectors(p, a);\n\t  var t = ap.dot(n);\n\t  if (t < 0) return 0;\n\t  if (t > d) return 0;\n\t  e.copy(qp).cross(ap);\n\t  var v = ac.dot(e);\n\t  if (v < 0 || v > d) return 0;\n\t  var w = vec3.copy(ab).dot(e) * -1;\n\t  if (w < 0 || v + w > d) return 0;\n\t  var ood = 1 / d;\n\t  t *= ood;\n\t  v *= ood;\n\t  w *= ood;\n\t  var u = 1 - v - w;\n\t  au.copy(a).multiplyScalar(u);\n\t  bv.copy(b).multiplyScalar(v);\n\t  cw.copy(c).multiplyScalar(w);\n\t  var contactPoint = au.clone().add(bv).add(cw);\n\t  return {\n\t    contactPoint: contactPoint\n\t  };\n\t}\n\n\t// based on http://marupeke296.com/COL_3D_No15_Octree.html\n\t//\n\t//       +------+------+\n\t//       |\\   2  \\   3  \\\n\t//       | +------+------+\n\t//       + |\\      \\      \\\n\t//       |\\| +------+------+\n\t//       | + |      |      |\n\t//       +0|\\|   6  |   7  |\n\t//        \\| +------+------+\n\t//         + |      |      |\n\t//    y     \\|   4  |   5  |\n\t//    |      +------+------+\n\t//    +--x\n\t//     \\\n\t//      z\n\t//\n\t//\n\t//       +------+------+\n\t//       |\\   6  \\   7  \\\n\t//       | +------+------+\n\t//       + |\\      \\      \\\n\t//       |\\| +------+------+\n\t//       | + |      |      |\n\t//       +4|\\|   2  |   3  |\n\t//        \\| +------+------+\n\t//         + |      |      |\n\t//  z y     \\|   0  |   1  |\n\t//   \\|      +------+------+\n\t//    +--x\n\t//\n\t// min: <THREE.Vector3>\n\t// max: <THREE.Vector3>\n\t// maxDepth: <Number>\n\n\tvar Octree = /*#__PURE__*/function () {\n\t  function Octree(min, max, maxDepth) {\n\t    _classCallCheck(this, Octree);\n\n\t    this.min = min;\n\t    this.max = max;\n\t    this.maxDepth = maxDepth;\n\t    this.nodes = [];\n\t    this.isOctree = true;\n\t    var nodeBoxSize = new THREE$1.Vector3();\n\t    var nodeBoxMin = new THREE$1.Vector3();\n\t    var nodeBoxMax = new THREE$1.Vector3();\n\n\t    for (var depth = 0; depth < this.maxDepth; depth++) {\n\t      this.nodes.push([]);\n\t      var pow2 = Math.pow(2, depth);\n\t      var pow4 = Math.pow(4, depth);\n\t      nodeBoxSize.subVectors(this.max, this.min).divideScalar(pow2);\n\n\t      for (var i = 0, length = Math.pow(8, depth); i < length; i++) {\n\t        var indexX = i % pow2;\n\t        var indexY = i / pow4 | 0;\n\t        var indexZ = (i / pow2 | 0) % pow2;\n\t        nodeBoxMin.set(this.min.x + indexX * nodeBoxSize.x, this.min.y + indexY * nodeBoxSize.y, this.min.z + indexZ * nodeBoxSize.z);\n\t        nodeBoxMax.copy(nodeBoxMin).add(nodeBoxSize);\n\t        var mortonNumber = Octree.getMortonNumber(indexX, indexY, indexZ);\n\t        this.nodes[depth][mortonNumber] = new OctreeNode(this, depth, mortonNumber, nodeBoxMin, nodeBoxMax);\n\t      }\n\t    }\n\t  }\n\n\t  _createClass(Octree, [{\n\t    key: \"importThreeMesh\",\n\t    value: function importThreeMesh(threeMesh) {\n\t      threeMesh.updateMatrix();\n\t      var geometryId = threeMesh.geometry.uuid;\n\t      var geometry = threeMesh.geometry.clone();\n\t      geometry.applyMatrix4(threeMesh.matrix);\n\t      geometry.computeVertexNormals();\n\n\t      if (geometry instanceof THREE$1.BufferGeometry) {\n\t        if (geometry.index !== undefined) {\n\t          var indices = geometry.index.array;\n\t          var positions = geometry.attributes.position.array; // const normals   = geometry.attributes.normal.array;\n\n\t          var offsets = geometry.groups.length !== 0 ? geometry.groups : [{\n\t            start: 0,\n\t            count: indices.length,\n\t            materialIndex: 0\n\t          }];\n\n\t          for (var i = 0, l = offsets.length; i < l; ++i) {\n\t            var start = offsets[i].start;\n\t            var count = offsets[i].count;\n\t            var index = offsets[i].materialIndex;\n\n\t            for (var ii = start, ll = start + count; ii < ll; ii += 3) {\n\t              var a = index + indices[ii];\n\t              var b = index + indices[ii + 1];\n\t              var c = index + indices[ii + 2];\n\t              var vA = new THREE$1.Vector3().fromArray(positions, a * 3);\n\t              var vB = new THREE$1.Vector3().fromArray(positions, b * 3);\n\t              var vC = new THREE$1.Vector3().fromArray(positions, c * 3); // https://github.com/mrdoob/three.js/issues/4691\n\t              // make face normal\n\n\t              var cb = new THREE$1.Vector3().subVectors(vC, vB);\n\t              var ab = new THREE$1.Vector3().subVectors(vA, vB);\n\t              var faceNormal = cb.cross(ab).normalize().clone();\n\t              var face = new Face(vA, vB, vC, faceNormal, geometryId);\n\t              this.addFace(face);\n\t            }\n\t          }\n\t        }\n\n\t        return;\n\t      }\n\n\t      geometry.computeFaceNormals();\n\n\t      for (var _i = 0, _l = geometry.faces.length; _i < _l; _i++) {\n\t        var _face = new Face(geometry.vertices[geometry.faces[_i].a], geometry.vertices[geometry.faces[_i].b], geometry.vertices[geometry.faces[_i].c], geometry.faces[_i].normal, geometryId);\n\n\t        this.addFace(_face);\n\t      }\n\t    }\n\t  }, {\n\t    key: \"addFace\",\n\t    value: function addFace(face) {\n\t      var tmp = [];\n\t      var targetNodes = this.nodes[0].slice(0);\n\n\t      for (var i = 0, l = this.maxDepth; i < l; i++) {\n\t        for (var ii = 0, ll = targetNodes.length; ii < ll; ii++) {\n\t          var node = targetNodes[ii];\n\t          var isIntersected = isIntersectionTriangleAABB(face.a, face.b, face.c, node);\n\n\t          if (isIntersected) {\n\t            node.trianglePool.push(face);\n\n\t            if (i + 1 !== this.maxDepth) {\n\t              tmp = tmp.concat(node.getChildNodes());\n\t            }\n\t          }\n\t        }\n\n\t        if (tmp.length === 0) {\n\t          break;\n\t        }\n\n\t        targetNodes = tmp.slice(0);\n\t        tmp.length = 0;\n\t      }\n\t    }\n\t  }, {\n\t    key: \"removeThreeMesh\",\n\t    value: function removeThreeMesh(meshID) {\n\t      this.nodes.forEach(function (nodeDepth) {\n\t        nodeDepth.forEach(function (node) {\n\t          var newTrianglePool = [];\n\t          node.trianglePool.forEach(function (face) {\n\t            if (face.meshID !== meshID) {\n\t              newTrianglePool.push(face);\n\t            }\n\t          });\n\t          node.trianglePool = newTrianglePool;\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: \"getIntersectedNodes\",\n\t    value: function getIntersectedNodes(sphere, depth) {\n\t      var tmp = [];\n\t      var intersectedNodes = [];\n\t      var isIntersected = isIntersectionSphereAABB(sphere, this);\n\t      if (!isIntersected) return [];\n\t      var targetNodes = this.nodes[0].slice(0);\n\n\t      for (var i = 0, l = depth; i < l; i++) {\n\t        for (var ii = 0, ll = targetNodes.length; ii < ll; ii++) {\n\t          var node = targetNodes[ii];\n\n\t          var _isIntersected = isIntersectionSphereAABB(sphere, node);\n\n\t          if (_isIntersected) {\n\t            var isAtMaxDepth = i + 1 === depth;\n\n\t            if (isAtMaxDepth) {\n\t              if (node.trianglePool.length !== 0) {\n\t                intersectedNodes.push(node);\n\t              }\n\t            } else {\n\t              tmp = tmp.concat(node.getChildNodes());\n\t            }\n\t          }\n\t        }\n\n\t        targetNodes = tmp.slice(0);\n\t        tmp.length = 0;\n\t      }\n\n\t      return intersectedNodes;\n\t    }\n\t  }]);\n\n\t  return Octree;\n\t}();\n\n\tOctree.separate3Bit = function (n) {\n\t  n = (n | n << 8) & 0x0000f00f;\n\t  n = (n | n << 4) & 0x000c30c3;\n\t  n = (n | n << 2) & 0x00249249;\n\t  return n;\n\t};\n\n\tOctree.getMortonNumber = function (x, y, z) {\n\t  return Octree.separate3Bit(x) | Octree.separate3Bit(y) << 1 | Octree.separate3Bit(z) << 2;\n\t};\n\n\tOctree.uniqTrianglesFromNodes = function (nodes) {\n\t  var uniq = [];\n\t  var isContained = false;\n\t  if (nodes.length === 0) return [];\n\t  if (nodes.length === 1) return nodes[0].trianglePool.slice(0);\n\n\t  for (var i = 0, l = nodes.length; i < l; i++) {\n\t    for (var ii = 0, ll = nodes[i].trianglePool.length; ii < ll; ii++) {\n\t      for (var iii = 0, lll = uniq.length; iii < lll; iii++) {\n\t        if (nodes[i].trianglePool[ii] === uniq[iii]) {\n\t          isContained = true;\n\t        }\n\t      }\n\n\t      if (!isContained) {\n\t        uniq.push(nodes[i].trianglePool[ii]);\n\t      }\n\n\t      isContained = false;\n\t    }\n\t  }\n\n\t  return uniq;\n\t}; //\n\n\n\tvar OctreeNode = /*#__PURE__*/function () {\n\t  function OctreeNode(tree, depth, mortonNumber, min, max) {\n\t    _classCallCheck(this, OctreeNode);\n\n\t    this.tree = tree;\n\t    this.depth = depth;\n\t    this.mortonNumber = mortonNumber;\n\t    this.min = new THREE$1.Vector3(min.x, min.y, min.z);\n\t    this.max = new THREE$1.Vector3(max.x, max.y, max.z);\n\t    this.trianglePool = [];\n\t  }\n\n\t  _createClass(OctreeNode, [{\n\t    key: \"getParentNode\",\n\t    value: function getParentNode() {\n\t      if (this.depth === 0) return null;\n\t      this.tree.nodes[this.depth][this.mortonNumber >> 3];\n\t    }\n\t  }, {\n\t    key: \"getChildNodes\",\n\t    value: function getChildNodes() {\n\t      if (this.tree.maxDepth === this.depth) {\n\t        return null;\n\t      }\n\n\t      var firstChild = this.mortonNumber << 3;\n\t      return [this.tree.nodes[this.depth + 1][firstChild], this.tree.nodes[this.depth + 1][firstChild + 1], this.tree.nodes[this.depth + 1][firstChild + 2], this.tree.nodes[this.depth + 1][firstChild + 3], this.tree.nodes[this.depth + 1][firstChild + 4], this.tree.nodes[this.depth + 1][firstChild + 5], this.tree.nodes[this.depth + 1][firstChild + 6], this.tree.nodes[this.depth + 1][firstChild + 7]];\n\t    }\n\t  }]);\n\n\t  return OctreeNode;\n\t}(); //\n\t// a: <THREE.Vector3>\n\t// b: <THREE.Vector3>\n\t// c: <THREE.Vector3>\n\t// normal: <THREE.Vector3>\n\t// meshID: <String>\n\n\n\tvar Face = function Face(a, b, c, normal, meshID) {\n\t  _classCallCheck(this, Face);\n\n\t  this.a = a.clone();\n\t  this.b = b.clone();\n\t  this.c = c.clone();\n\t  this.normal = normal.clone();\n\t  this.meshID = meshID;\n\t}; // origin   : <THREE.Vector3>\n\t// direction: <THREE.Vector3>\n\t// distance : <Float>\n\t// class Ray{\n\t// \tconstructor( origin, direction, distance ) {\n\t// \t\tthis.origin = origin;\n\t// \t\tthis.direction = direction;\n\t// \t\tthis.distance = distance;\n\t// \t}\n\t// }\n\n\tvar sphere;\n\tonInstallHandlers.push(function () {\n\t  sphere = new THREE$1.Sphere();\n\t});\n\tvar World = /*#__PURE__*/function () {\n\t  function World() {\n\t    _classCallCheck(this, World);\n\n\t    this.colliderPool = [];\n\t    this.characterPool = [];\n\t  }\n\n\t  _createClass(World, [{\n\t    key: \"add\",\n\t    value: function add(object) {\n\t      if (object.isOctree) {\n\t        this.colliderPool.push(object);\n\t      } else if (object.isCharacterController) {\n\t        this.characterPool.push(object);\n\t        object.world = this;\n\t      }\n\t    }\n\t  }, {\n\t    key: \"step\",\n\t    value: function step(dt) {\n\t      for (var i = 0, l = this.characterPool.length; i < l; i++) {\n\t        var character = this.characterPool[i];\n\t        var faces = void 0; // octree で絞られた node に含まれる face だけを\n\t        // character に渡して判定する\n\n\t        for (var ii = 0, ll = this.colliderPool.length; ii < ll; ii++) {\n\t          var octree = this.colliderPool[ii];\n\t          sphere.set(character.center, character.radius + character.groundPadding);\n\t          var intersectedNodes = octree.getIntersectedNodes(sphere, octree.maxDepth);\n\t          faces = Octree.uniqTrianglesFromNodes(intersectedNodes);\n\t        }\n\n\t        character.collisionCandidate = faces;\n\t        character.update(dt);\n\t      }\n\t    }\n\t  }]);\n\n\t  return World;\n\t}();\n\n\t// based on https://github.com/mrdoob/eventdispatcher.js/\n\tvar EventDispatcher = /*#__PURE__*/function () {\n\t  function EventDispatcher() {\n\t    _classCallCheck(this, EventDispatcher);\n\n\t    this._listeners = {};\n\t  }\n\n\t  _createClass(EventDispatcher, [{\n\t    key: \"addEventListener\",\n\t    value: function addEventListener(type, listener) {\n\t      var listeners = this._listeners;\n\n\t      if (listeners[type] === undefined) {\n\t        listeners[type] = [];\n\t      }\n\n\t      if (listeners[type].indexOf(listener) === -1) {\n\t        listeners[type].push(listener);\n\t      }\n\t    }\n\t  }, {\n\t    key: \"hasEventListener\",\n\t    value: function hasEventListener(type, listener) {\n\t      var listeners = this._listeners;\n\t      return listeners[type] !== undefined && listeners[type].indexOf(listener) !== -1;\n\t    }\n\t  }, {\n\t    key: \"removeEventListener\",\n\t    value: function removeEventListener(type, listener) {\n\t      var listeners = this._listeners;\n\t      var listenerArray = listeners[type];\n\n\t      if (listenerArray !== undefined) {\n\t        var index = listenerArray.indexOf(listener);\n\n\t        if (index !== -1) {\n\t          listenerArray.splice(index, 1);\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: \"dispatchEvent\",\n\t    value: function dispatchEvent(event) {\n\t      var listeners = this._listeners;\n\t      var listenerArray = listeners[event.type];\n\n\t      if (listenerArray !== undefined) {\n\t        event.target = this;\n\t        var array = listenerArray.slice(0);\n\n\t        for (var i = 0, l = array.length; i < l; i++) {\n\t          array[i].call(this, event);\n\t        }\n\t      }\n\t    }\n\t  }]);\n\n\t  return EventDispatcher;\n\t}();\n\n\tvar FALL_VELOCITY = -20;\n\tvar JUMP_DURATION = 1000;\n\tvar PI_HALF = Math.PI * 0.5;\n\tvar PI_ONE_HALF = Math.PI * 1.5;\n\tvar direction2D;\n\tvar wallNormal2D;\n\tvar groundingHead;\n\tvar groundingTo;\n\tvar point1;\n\tvar point2;\n\tvar direction;\n\tvar translateScoped;\n\tvar translate;\n\tonInstallHandlers.push(function () {\n\t  direction2D = new THREE$1.Vector2();\n\t  wallNormal2D = new THREE$1.Vector2();\n\t  groundingHead = new THREE$1.Vector3();\n\t  groundingTo = new THREE$1.Vector3();\n\t  point1 = new THREE$1.Vector3();\n\t  point2 = new THREE$1.Vector3();\n\t  direction = new THREE$1.Vector3();\n\t  translateScoped = new THREE$1.Vector3();\n\t  translate = new THREE$1.Vector3();\n\t});\n\tvar CharacterController = /*#__PURE__*/function (_EventDispatcher) {\n\t  _inherits(CharacterController, _EventDispatcher);\n\n\t  var _super = _createSuper(CharacterController);\n\n\t  function CharacterController(object3d, radius) {\n\t    var _this;\n\n\t    _classCallCheck(this, CharacterController);\n\n\t    _this = _super.call(this);\n\t    _this.isCharacterController = true;\n\t    _this.object = object3d;\n\t    _this.center = _this.object.position.clone();\n\t    _this.radius = radius;\n\t    _this.groundPadding = .5;\n\t    _this.maxSlopeGradient = Math.cos(50 * THREE$1.Math.DEG2RAD);\n\t    _this.isGrounded = false;\n\t    _this.isOnSlope = false;\n\t    _this.isIdling = false;\n\t    _this.isRunning = false;\n\t    _this.isJumping = false;\n\t    _this.direction = 0; // 0 to 2PI(=360deg) in rad\n\n\t    _this.movementSpeed = 10; // Meters Per Second\n\n\t    _this.velocity = new THREE$1.Vector3(0, -10, 0);\n\t    _this.currentJumpPower = 0;\n\t    _this.jumpStartTime = 0;\n\t    _this.groundHeight = 0;\n\t    _this.groundNormal = new THREE$1.Vector3();\n\t    _this.collisionCandidate;\n\t    _this.contactInfo = [];\n\t    var isFirstUpdate = true;\n\t    var wasGrounded;\n\t    var wasOnSlope; // let wasIdling;\n\n\t    var wasRunning;\n\t    var wasJumping;\n\n\t    _this._events = function () {\n\t      // 初回のみ、過去状態を作るだけで終わり\n\t      if (isFirstUpdate) {\n\t        isFirstUpdate = false;\n\t        wasGrounded = _this.isGrounded;\n\t        wasOnSlope = _this.isOnSlope; // wasIdling   = this.isIdling;\n\n\t        wasRunning = _this.isRunning;\n\t        wasJumping = _this.isJumping;\n\t        return;\n\t      }\n\n\t      if (!wasRunning && !_this.isRunning && _this.isGrounded && !_this.isIdling) {\n\t        _this.isIdling = true;\n\n\t        _this.dispatchEvent({\n\t          type: 'startIdling'\n\t        });\n\t      } else if (!wasRunning && _this.isRunning && !_this.isJumping && _this.isGrounded || !wasGrounded && _this.isGrounded && _this.isRunning || wasOnSlope && !_this.isOnSlope && _this.isRunning && _this.isGrounded) {\n\t        _this.isIdling = false;\n\n\t        _this.dispatchEvent({\n\t          type: 'startWalking'\n\t        });\n\t      } else if (!wasJumping && _this.isJumping) {\n\t        _this.isIdling = false;\n\n\t        _this.dispatchEvent({\n\t          type: 'startJumping'\n\t        });\n\t      } else if (!wasOnSlope && _this.isOnSlope) {\n\t        _this.dispatchEvent({\n\t          type: 'startSliding'\n\t        });\n\t      } else if (wasGrounded && !_this.isGrounded && !_this.isJumping) {\n\t        _this.dispatchEvent({\n\t          type: 'startFalling'\n\t        });\n\t      }\n\n\t      if (!wasGrounded && _this.isGrounded) ;\n\n\t      wasGrounded = _this.isGrounded;\n\t      wasOnSlope = _this.isOnSlope; // wasIdling   = this.isIdling;\n\n\t      wasRunning = _this.isRunning;\n\t      wasJumping = _this.isJumping;\n\t    };\n\n\t    return _this;\n\t  }\n\n\t  _createClass(CharacterController, [{\n\t    key: \"update\",\n\t    value: function update(dt) {\n\t      // 状態をリセットしておく\n\t      this.isGrounded = false;\n\t      this.isOnSlope = false;\n\t      this.groundHeight = -Infinity;\n\t      this.groundNormal.set(0, 1, 0);\n\n\t      this._updateGrounding();\n\n\t      this._updateJumping();\n\n\t      this._updatePosition(dt);\n\n\t      this._collisionDetection();\n\n\t      this._solvePosition();\n\n\t      this._updateVelocity();\n\n\t      this._events();\n\t    }\n\t  }, {\n\t    key: \"_updateVelocity\",\n\t    value: function _updateVelocity() {\n\t      var frontDirection = -Math.cos(this.direction);\n\t      var rightDirection = -Math.sin(this.direction);\n\t      var isHittingCeiling = false;\n\t      this.velocity.set(rightDirection * this.movementSpeed * this.isRunning, FALL_VELOCITY, frontDirection * this.movementSpeed * this.isRunning); // 急勾配や自由落下など、自動で付与される速度の処理\n\n\t      if (this.contactInfo.length === 0 && !this.isJumping) {\n\t        // 何とも衝突していないので、自由落下\n\t        return;\n\t      } else if (this.isGrounded && !this.isOnSlope && !this.isJumping) {\n\t        // 通常の地面上にいる場合、ただしジャンプ開始時は除く\n\t        this.velocity.y = 0;\n\t      } else if (this.isOnSlope) {\n\t        // TODO 0.2 はマジックナンバーなので、幾何学的な求め方を考える\n\t        var slidingDownVelocity = FALL_VELOCITY;\n\t        var horizontalSpeed = -slidingDownVelocity / (1 - this.groundNormal.y) * 0.2;\n\t        this.velocity.x = this.groundNormal.x * horizontalSpeed;\n\t        this.velocity.y = FALL_VELOCITY;\n\t        this.velocity.z = this.groundNormal.z * horizontalSpeed;\n\t      } else if (!this.isGrounded && !this.isOnSlope && this.isJumping) {\n\t        // ジャンプの処理\n\t        this.velocity.y = this.currentJumpPower * -FALL_VELOCITY;\n\t      } // 壁に向かった場合、壁方向の速度を0にする処理\n\t      // vs walls and sliding on the wall\n\n\n\t      direction2D.set(rightDirection, frontDirection); // const frontAngle = Math.atan2( direction2D.y, direction2D.x );\n\n\t      var negativeFrontAngle = Math.atan2(-direction2D.y, -direction2D.x);\n\n\t      for (var i = 0, l = this.contactInfo.length; i < l; i++) {\n\t        var normal = this.contactInfo[i].face.normal; // var distance = this.contactInfo[ i ].distance;\n\n\t        if (this.maxSlopeGradient < normal.y || this.isOnSlope) {\n\t          // フェイスは地面なので、壁としての衝突の可能性はない。\n\t          // 速度の減衰はしないでいい\n\t          continue;\n\t        }\n\n\t        if (!isHittingCeiling && normal.y < 0) {\n\t          isHittingCeiling = true;\n\t        }\n\n\t        wallNormal2D.set(normal.x, normal.z).normalize();\n\t        var wallAngle = Math.atan2(wallNormal2D.y, wallNormal2D.x);\n\n\t        if (Math.abs(negativeFrontAngle - wallAngle) >= PI_HALF && //  90deg\n\t        Math.abs(negativeFrontAngle - wallAngle) <= PI_ONE_HALF // 270deg\n\t        ) {\n\t            // フェイスは進行方向とは逆方向、要は背中側の壁なので\n\t            // 速度の減衰はしないでいい\n\t            continue;\n\t          } // 上記までの条件に一致しなければ、フェイスは壁\n\t        // 壁の法線を求めて、その逆方向に向いている速度ベクトルを0にする\n\n\n\t        wallNormal2D.set(direction2D.dot(wallNormal2D) * wallNormal2D.x, direction2D.dot(wallNormal2D) * wallNormal2D.y);\n\t        direction2D.sub(wallNormal2D);\n\t        this.velocity.x = direction2D.x * this.movementSpeed * this.isRunning;\n\t        this.velocity.z = direction2D.y * this.movementSpeed * this.isRunning;\n\t      } // ジャンプ中に天井にぶつかったら、ジャンプを中断する\n\n\n\t      if (isHittingCeiling) {\n\t        this.velocity.y = Math.min(0, this.velocity.y);\n\t        this.isJumping = false;\n\t      }\n\t    }\n\t  }, {\n\t    key: \"_updateGrounding\",\n\t    value: function _updateGrounding() {\n\t      // \"頭上からほぼ無限に下方向までの線 (segment)\" vs \"フェイス (triangle)\" の\n\t      // 交差判定を行う\n\t      // もし、フェイスとの交差点が「頭上」から「下groundPadding」までの間だったら\n\t      // 地面上 (isGrounded) にいることとみなす\n\t      //\n\t      //   ___\n\t      //  / | \\\n\t      // |  |  | player sphere\n\t      //  \\_|_/\n\t      //    |\n\t      //---[+]---- ground\n\t      //    |\n\t      //    |\n\t      //    | segment (player's head to almost -infinity)\n\t      var groundContactInfo;\n\t      var groundContactInfoTmp;\n\t      var faces = this.collisionCandidate;\n\t      groundingHead.set(this.center.x, this.center.y + this.radius, this.center.z);\n\t      groundingTo.set(this.center.x, this.center.y - 1e10, this.center.z);\n\n\t      for (var i = 0, l = faces.length; i < l; i++) {\n\t        groundContactInfoTmp = testSegmentTriangle(groundingHead, groundingTo, faces[i].a, faces[i].b, faces[i].c);\n\n\t        if (groundContactInfoTmp && !groundContactInfo) {\n\t          groundContactInfo = groundContactInfoTmp;\n\t          groundContactInfo.face = faces[i];\n\t        } else if (groundContactInfoTmp && groundContactInfoTmp.contactPoint.y > groundContactInfo.contactPoint.y) {\n\t          groundContactInfo = groundContactInfoTmp;\n\t          groundContactInfo.face = faces[i];\n\t        }\n\t      }\n\n\t      if (!groundContactInfo) {\n\t        return;\n\t      }\n\n\t      this.groundHeight = groundContactInfo.contactPoint.y;\n\t      this.groundNormal.copy(groundContactInfo.face.normal);\n\t      var top = groundingHead.y;\n\t      var bottom = this.center.y - this.radius - this.groundPadding; // ジャンプ中、かつ上方向に移動中だったら、強制接地しない\n\n\t      if (this.isJumping && 0 < this.currentJumpPower) {\n\t        this.isOnSlope = false;\n\t        this.isGrounded = false;\n\t        return;\n\t      }\n\n\t      this.isGrounded = bottom <= this.groundHeight && this.groundHeight <= top;\n\t      this.isOnSlope = this.groundNormal.y <= this.maxSlopeGradient;\n\n\t      if (this.isGrounded) {\n\t        this.isJumping = false;\n\t      }\n\t    }\n\t  }, {\n\t    key: \"_updatePosition\",\n\t    value: function _updatePosition(dt) {\n\t      // 壁などを無視してひとまず(速度 * 時間)だけ\n\t      // centerの座標を進める\n\t      // 壁との衝突判定はこのこの後のステップで行うのでここではやらない\n\t      // もしisGrounded状態なら、強制的にyの値を地面に合わせる\n\t      var groundedY = this.groundHeight + this.radius;\n\t      var x = this.center.x + this.velocity.x * dt;\n\t      var y = this.center.y + this.velocity.y * dt;\n\t      var z = this.center.z + this.velocity.z * dt;\n\t      this.center.set(x, this.isGrounded ? groundedY : y, z);\n\t    }\n\t  }, {\n\t    key: \"_collisionDetection\",\n\t    value: function _collisionDetection() {\n\t      // 交差していそうなフェイス (collisionCandidate) のリストから、\n\t      // 実際に交差している壁フェイスを抜き出して\n\t      // this.contactInfoに追加する\n\t      var faces = this.collisionCandidate;\n\t      this.contactInfo.length = 0;\n\n\t      for (var i = 0, l = faces.length; i < l; i++) {\n\t        var contactInfo = isIntersectionSphereTriangle(this, faces[i].a, faces[i].b, faces[i].c, faces[i].normal);\n\t        if (!contactInfo) continue;\n\t        contactInfo.face = faces[i];\n\t        this.contactInfo.push(contactInfo);\n\t      }\n\t    }\n\t  }, {\n\t    key: \"_solvePosition\",\n\t    value: function _solvePosition() {\n\t      // updatePosition() で center を動かした後\n\t      // 壁と衝突し食い込んでいる場合、\n\t      // ここで壁の外への押し出しをする\n\t      var face;\n\t      var normal; // let distance;\n\n\t      if (this.contactInfo.length === 0) {\n\t        // 何とも衝突していない\n\t        // centerの値をそのままつかって終了\n\t        this.object.position.copy(this.center);\n\t        return;\n\t      } //\n\t      // vs walls and sliding on the wall\n\n\n\t      translate.set(0, 0, 0);\n\n\t      for (var i = 0, l = this.contactInfo.length; i < l; i++) {\n\t        face = this.contactInfo[i].face;\n\t        normal = this.contactInfo[i].face.normal; // distance = this.contactInfo[ i ].distance;\n\t        // if ( 0 <= distance ) {\n\t        //   // 交差点までの距離が 0 以上ならこのフェイスとは衝突していない\n\t        //   // 無視する\n\t        //   continue;\n\t        // }\n\n\t        if (this.maxSlopeGradient < normal.y) {\n\t          // this triangle is a ground or slope, not a wall or ceil\n\t          // フェイスは急勾配でない坂、つまり地面。\n\t          // 接地の処理は updatePosition() 内で解決しているので無視する\n\t          continue;\n\t        } // フェイスは急勾配な坂か否か\n\n\n\t        var isSlopeFace = this.maxSlopeGradient <= face.normal.y && face.normal.y < 1; // ジャンプ降下中に、急勾配な坂に衝突したらジャンプ終わり\n\n\t        if (this.isJumping && 0 >= this.currentJumpPower && isSlopeFace) {\n\t          this.isJumping = false;\n\t          this.isGrounded = true; // console.log( 'jump end' );\n\t        }\n\n\t        if (this.isGrounded || this.isOnSlope) {\n\t          // 地面の上にいる場合はy(縦)方向は同一のまま\n\t          // x, z (横) 方向だけを変更して押し出す\n\t          // http://gamedev.stackexchange.com/questions/80293/how-do-i-resolve-a-sphere-triangle-collision-in-a-given-direction\n\t          point1.copy(normal).multiplyScalar(-this.radius).add(this.center);\n\t          direction.set(normal.x, 0, normal.z).normalize();\n\t          var plainD = face.a.dot(normal);\n\t          var t = (plainD - (normal.x * point1.x + normal.y * point1.y + normal.z * point1.z)) / (normal.x * direction.x + normal.y * direction.y + normal.z * direction.z);\n\t          point2.copy(direction).multiplyScalar(t).add(point1);\n\t          translateScoped.subVectors(point2, point1);\n\n\t          if (Math.abs(translate.x) > Math.abs(translateScoped.x)) {\n\t            translate.x += translateScoped.x;\n\t          }\n\n\t          if (Math.abs(translate.z) > Math.abs(translateScoped.z)) {\n\t            translate.z += translateScoped.z;\n\t          } // break;\n\n\n\t          continue;\n\t        }\n\t      }\n\n\t      this.center.add(translate);\n\t      this.object.position.copy(this.center);\n\t    }\n\t  }, {\n\t    key: \"setDirection\",\n\t    value: function setDirection() {}\n\t  }, {\n\t    key: \"jump\",\n\t    value: function jump() {\n\t      if (this.isJumping || !this.isGrounded || this.isOnSlope) return;\n\t      this.jumpStartTime = performance.now();\n\t      this.currentJumpPower = 1;\n\t      this.isJumping = true;\n\t    }\n\t  }, {\n\t    key: \"_updateJumping\",\n\t    value: function _updateJumping() {\n\t      if (!this.isJumping) return;\n\t      var elapsed = performance.now() - this.jumpStartTime;\n\t      var progress = elapsed / JUMP_DURATION;\n\t      this.currentJumpPower = Math.cos(Math.min(progress, 1) * Math.PI);\n\t    }\n\t  }]);\n\n\t  return CharacterController;\n\t}(EventDispatcher);\n\n\tvar TURN_DURATION = 200;\n\tvar TAU = 2 * Math.PI;\n\n\tvar modulo = function modulo(n, d) {\n\t  return (n % d + d) % d;\n\t};\n\n\tvar getDeltaTurnAngle = function getDeltaTurnAngle(current, target) {\n\t  var a = modulo(current - target, TAU);\n\t  var b = modulo(target - current, TAU);\n\t  return a < b ? -a : b;\n\t};\n\n\tvar AnimationController = /*#__PURE__*/function () {\n\t  function AnimationController(mesh) {\n\t    _classCallCheck(this, AnimationController);\n\n\t    this.mesh = mesh;\n\t    this.motion = {};\n\t    this.mixer = new THREE.AnimationMixer(mesh);\n\t    this.currentMotionName = '';\n\n\t    for (var i = 0, l = this.mesh.geometry.animations.length; i < l; i++) {\n\t      var anim = this.mesh.geometry.animations[i];\n\t      this.motion[anim.name] = this.mixer.clipAction(anim);\n\t      this.motion[anim.name].setEffectiveWeight(1);\n\t    }\n\t  }\n\n\t  _createClass(AnimationController, [{\n\t    key: \"play\",\n\t    value: function play(name) {\n\t      if (this.currentMotionName === name) return;\n\n\t      if (this.motion[this.currentMotionName]) {\n\t        var from = this.motion[this.currentMotionName].play();\n\t        var to = this.motion[name].play();\n\t        from.enabled = true;\n\t        to.enabled = true;\n\t        from.crossFadeTo(to, .3);\n\t      } else {\n\t        this.motion[name].enabled = true;\n\t        this.motion[name].play();\n\t      }\n\n\t      this.currentMotionName = name;\n\t    }\n\t  }, {\n\t    key: \"turn\",\n\t    value: function turn(rad, immediate) {\n\t      var that = this;\n\t      var prevRotY = this.mesh.rotation.y;\n\t      var targetRotY = rad;\n\t      var deltaY = getDeltaTurnAngle(prevRotY, targetRotY); // const duration   = Math.abs( deltaY ) * 100;\n\n\t      var start = Date.now();\n\t      var end = start + TURN_DURATION;\n\t      var progress = 0;\n\n\t      if (immediate) {\n\t        this.mesh.rotation.y = targetRotY;\n\t        return;\n\t      }\n\n\t      if (this._targetRotY === targetRotY) return;\n\t      this._targetRotY = targetRotY;\n\t      {\n\t        var _targetRotY = targetRotY;\n\n\t        (function interval() {\n\t          var now = Date.now();\n\t          var isAborted = _targetRotY !== that._targetRotY;\n\t          if (isAborted) return;\n\n\t          if (now >= end) {\n\t            that.mesh.rotation.y = _targetRotY;\n\t            delete that._targetRotY;\n\t            return;\n\t          }\n\n\t          requestAnimationFrame(interval);\n\t          progress = (now - start) / TURN_DURATION;\n\t          that.mesh.rotation.y = prevRotY + deltaY * progress;\n\t        })();\n\t      }\n\t    }\n\t  }, {\n\t    key: \"update\",\n\t    value: function update(delta) {\n\t      this.mixer.update(delta);\n\t    }\n\t  }]);\n\n\t  return AnimationController;\n\t}();\n\n\tvar KEY_W = 87;\n\tvar KEY_UP = 38;\n\tvar KEY_S = 83;\n\tvar KEY_DOWN = 40;\n\tvar KEY_A = 65;\n\tvar KEY_LEFT = 37;\n\tvar KEY_D = 68;\n\tvar KEY_RIGHT = 39;\n\tvar KEY_SPACE = 32;\n\tvar DEG2RAD = Math.PI / 180;\n\tvar DEG_0 = 0 * DEG2RAD;\n\tvar DEG_45 = 45 * DEG2RAD;\n\tvar DEG_90 = 90 * DEG2RAD;\n\tvar DEG_135 = 135 * DEG2RAD;\n\tvar DEG_180 = 180 * DEG2RAD;\n\tvar DEG_225 = 225 * DEG2RAD;\n\tvar DEG_270 = 270 * DEG2RAD;\n\tvar DEG_315 = 315 * DEG2RAD;\n\tvar KeyInputControl = /*#__PURE__*/function (_EventDispatcher) {\n\t  _inherits(KeyInputControl, _EventDispatcher);\n\n\t  var _super = _createSuper(KeyInputControl);\n\n\t  function KeyInputControl() {\n\t    var _this;\n\n\t    _classCallCheck(this, KeyInputControl);\n\n\t    _this = _super.call(this);\n\t    _this.isDisabled = false;\n\t    _this.isUp = false;\n\t    _this.isDown = false;\n\t    _this.isLeft = false;\n\t    _this.isRight = false;\n\t    _this.isMoveKeyHolding = false;\n\t    _this.frontAngle = 0;\n\t    _this._keydownListener = onKeyDown.bind(_assertThisInitialized(_this));\n\t    _this._keyupListener = onKeyUp.bind(_assertThisInitialized(_this));\n\t    _this._blurListener = onBlur.bind(_assertThisInitialized(_this));\n\t    window.addEventListener('keydown', _this._keydownListener);\n\t    window.addEventListener('keyup', _this._keyupListener);\n\t    window.addEventListener('blur', _this._blurListener);\n\t    return _this;\n\t  }\n\n\t  _createClass(KeyInputControl, [{\n\t    key: \"jump\",\n\t    value: function jump() {\n\t      this.dispatchEvent({\n\t        type: 'jumpkeypress'\n\t      });\n\t    }\n\t  }, {\n\t    key: \"updateAngle\",\n\t    value: function updateAngle() {\n\t      var up = this.isUp;\n\t      var down = this.isDown;\n\t      var left = this.isLeft;\n\t      var right = this.isRight;\n\t      if (up && !left && !down && !right) this.frontAngle = DEG_0;else if (up && left && !down && !right) this.frontAngle = DEG_45;else if (!up && left && !down && !right) this.frontAngle = DEG_90;else if (!up && left && down && !right) this.frontAngle = DEG_135;else if (!up && !left && down && !right) this.frontAngle = DEG_180;else if (!up && !left && down && right) this.frontAngle = DEG_225;else if (!up && !left && !down && right) this.frontAngle = DEG_270;else if (up && !left && !down && right) this.frontAngle = DEG_315;\n\t    }\n\t  }]);\n\n\t  return KeyInputControl;\n\t}(EventDispatcher);\n\n\tfunction onKeyDown(event) {\n\t  if (this.isDisabled) return;\n\t  if (isInputEvent(event)) return;\n\n\t  switch (event.keyCode) {\n\t    case KEY_W:\n\t    case KEY_UP:\n\t      this.isUp = true;\n\t      break;\n\n\t    case KEY_S:\n\t    case KEY_DOWN:\n\t      this.isDown = true;\n\t      break;\n\n\t    case KEY_A:\n\t    case KEY_LEFT:\n\t      this.isLeft = true;\n\t      break;\n\n\t    case KEY_D:\n\t    case KEY_RIGHT:\n\t      this.isRight = true;\n\t      break;\n\n\t    case KEY_SPACE:\n\t      this.jump();\n\t      break;\n\n\t    default:\n\t      return;\n\t  }\n\n\t  var prevAngle = this.frontAngle;\n\t  this.updateAngle();\n\n\t  if (prevAngle !== this.frontAngle) {\n\t    this.dispatchEvent({\n\t      type: 'movekeychange'\n\t    });\n\t  }\n\n\t  if ((this.isUp || this.isDown || this.isLeft || this.isRight) && !this.isMoveKeyHolding) {\n\t    this.isMoveKeyHolding = true;\n\t    this.dispatchEvent({\n\t      type: 'movekeyon'\n\t    });\n\t  }\n\t}\n\n\tfunction onKeyUp(event) {\n\t  if (this.isDisabled) return;\n\n\t  switch (event.keyCode) {\n\t    case KEY_W:\n\t    case KEY_UP:\n\t      this.isUp = false;\n\t      break;\n\n\t    case KEY_S:\n\t    case KEY_DOWN:\n\t      this.isDown = false;\n\t      break;\n\n\t    case KEY_A:\n\t    case KEY_LEFT:\n\t      this.isLeft = false;\n\t      break;\n\n\t    case KEY_D:\n\t    case KEY_RIGHT:\n\t      this.isRight = false;\n\t      break;\n\n\t    case KEY_SPACE:\n\t      break;\n\n\t    default:\n\t      return;\n\t  }\n\n\t  var prevAngle = this.frontAngle;\n\t  this.updateAngle();\n\n\t  if (prevAngle !== this.frontAngle) {\n\t    this.dispatchEvent({\n\t      type: 'movekeychange'\n\t    });\n\t  }\n\n\t  if (!this.isUp && !this.isDown && !this.isLeft && !this.isRight && (event.keyCode === KEY_W || event.keyCode === KEY_UP || event.keyCode === KEY_S || event.keyCode === KEY_DOWN || event.keyCode === KEY_A || event.keyCode === KEY_LEFT || event.keyCode === KEY_D || event.keyCode === KEY_RIGHT)) {\n\t    this.isMoveKeyHolding = false;\n\t    this.dispatchEvent({\n\t      type: 'movekeyoff'\n\t    });\n\t  }\n\t}\n\n\tfunction onBlur() {\n\t  this.isUp = false;\n\t  this.isDown = false;\n\t  this.isLeft = false;\n\t  this.isRight = false;\n\n\t  if (this.isMoveKeyHolding) {\n\t    this.isMoveKeyHolding = false;\n\t    this.dispatchEvent({\n\t      type: 'movekeyoff'\n\t    });\n\t  }\n\t}\n\n\tfunction isInputEvent(event) {\n\t  var target = event.target;\n\t  return target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable;\n\t}\n\n\t/*!\n\t * camera-controls\n\t * https://github.com/yomotsu/camera-controls\n\t * (c) 2017 @yomotsu\n\t * Released under the MIT License.\n\t */\n\t/*! *****************************************************************************\n\tCopyright (c) Microsoft Corporation. All rights reserved.\n\tLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\n\tthis file except in compliance with the License. You may obtain a copy of the\n\tLicense at http://www.apache.org/licenses/LICENSE-2.0\n\n\tTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n\tKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\n\tWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\n\tMERCHANTABLITY OR NON-INFRINGEMENT.\n\n\tSee the Apache Version 2.0 License for specific language governing permissions\n\tand limitations under the License.\n\t***************************************************************************** */\n\t/* global Reflect, Promise */\n\n\tvar extendStatics = function(d, b) {\n\t    extendStatics = Object.setPrototypeOf ||\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n\t    return extendStatics(d, b);\n\t};\n\n\tfunction __extends(d, b) {\n\t    extendStatics(d, b);\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t}\n\n\tvar ACTION;\n\t(function (ACTION) {\n\t    ACTION[ACTION[\"NONE\"] = 0] = \"NONE\";\n\t    ACTION[ACTION[\"ROTATE\"] = 1] = \"ROTATE\";\n\t    ACTION[ACTION[\"TRUCK\"] = 2] = \"TRUCK\";\n\t    ACTION[ACTION[\"DOLLY\"] = 3] = \"DOLLY\";\n\t    ACTION[ACTION[\"ZOOM\"] = 4] = \"ZOOM\";\n\t    ACTION[ACTION[\"TOUCH_ROTATE\"] = 5] = \"TOUCH_ROTATE\";\n\t    ACTION[ACTION[\"TOUCH_TRUCK\"] = 6] = \"TOUCH_TRUCK\";\n\t    ACTION[ACTION[\"TOUCH_DOLLY\"] = 7] = \"TOUCH_DOLLY\";\n\t    ACTION[ACTION[\"TOUCH_ZOOM\"] = 8] = \"TOUCH_ZOOM\";\n\t    ACTION[ACTION[\"TOUCH_DOLLY_TRUCK\"] = 9] = \"TOUCH_DOLLY_TRUCK\";\n\t    ACTION[ACTION[\"TOUCH_ZOOM_TRUCK\"] = 10] = \"TOUCH_ZOOM_TRUCK\";\n\t})(ACTION || (ACTION = {}));\n\n\tvar PI_2 = Math.PI * 2;\n\tvar PI_HALF$1 = Math.PI / 2;\n\tvar FPS_60 = 1 / 0.016;\n\n\tvar EPSILON = 1e-5;\n\tfunction approxZero(number) {\n\t    return Math.abs(number) < EPSILON;\n\t}\n\tfunction approxEquals(a, b) {\n\t    return approxZero(a - b);\n\t}\n\tfunction roundToStep(value, step) {\n\t    return Math.round(value / step) * step;\n\t}\n\tfunction infinityToMaxNumber(value) {\n\t    if (isFinite(value))\n\t        return value;\n\t    if (value < 0)\n\t        return -Number.MAX_VALUE;\n\t    return Number.MAX_VALUE;\n\t}\n\tfunction maxNumberToInfinity(value) {\n\t    if (Math.abs(value) < Number.MAX_VALUE)\n\t        return value;\n\t    return value * Infinity;\n\t}\n\n\tfunction isTouchEvent(event) {\n\t    return 'TouchEvent' in window && event instanceof TouchEvent;\n\t}\n\n\tfunction extractClientCoordFromEvent(event, out) {\n\t    out.set(0, 0);\n\t    if (isTouchEvent(event)) {\n\t        var touchEvent = event;\n\t        for (var i = 0; i < touchEvent.touches.length; i++) {\n\t            out.x += touchEvent.touches[i].clientX;\n\t            out.y += touchEvent.touches[i].clientY;\n\t        }\n\t        out.x /= touchEvent.touches.length;\n\t        out.y /= touchEvent.touches.length;\n\t        return out;\n\t    }\n\t    else {\n\t        var mouseEvent = event;\n\t        out.set(mouseEvent.clientX, mouseEvent.clientY);\n\t        return out;\n\t    }\n\t}\n\n\tfunction notSupportedInOrthographicCamera(camera, message) {\n\t    if (!camera.isPerspectiveCamera) {\n\t        console.warn(message + \" is not supported in OrthographicCamera\");\n\t        return true;\n\t    }\n\t    return false;\n\t}\n\n\tvar EventDispatcher$1 = (function () {\n\t    function EventDispatcher() {\n\t        this._listeners = {};\n\t    }\n\t    EventDispatcher.prototype.addEventListener = function (type, listener) {\n\t        var listeners = this._listeners;\n\t        if (listeners[type] === undefined)\n\t            listeners[type] = [];\n\t        if (listeners[type].indexOf(listener) === -1)\n\t            listeners[type].push(listener);\n\t    };\n\t    EventDispatcher.prototype.removeEventListener = function (type, listener) {\n\t        var listeners = this._listeners;\n\t        var listenerArray = listeners[type];\n\t        if (listenerArray !== undefined) {\n\t            var index = listenerArray.indexOf(listener);\n\t            if (index !== -1)\n\t                listenerArray.splice(index, 1);\n\t        }\n\t    };\n\t    EventDispatcher.prototype.removeAllEventListeners = function (type) {\n\t        if (!type) {\n\t            this._listeners = {};\n\t            return;\n\t        }\n\t        if (Array.isArray(this._listeners[type]))\n\t            this._listeners[type].length = 0;\n\t    };\n\t    EventDispatcher.prototype.dispatchEvent = function (event) {\n\t        var listeners = this._listeners;\n\t        var listenerArray = listeners[event.type];\n\t        if (listenerArray !== undefined) {\n\t            event.target = this;\n\t            var array = listenerArray.slice(0);\n\t            for (var i = 0, l = array.length; i < l; i++) {\n\t                array[i].call(this, event);\n\t            }\n\t        }\n\t    };\n\t    return EventDispatcher;\n\t}());\n\n\tvar isMac = /Mac/.test(navigator.platform);\n\tvar readonlyACTION = Object.freeze(ACTION);\n\tvar TOUCH_DOLLY_FACTOR = 1 / 8;\n\tvar THREE$2;\n\tvar _ORIGIN;\n\tvar _AXIS_Y;\n\tvar _AXIS_Z;\n\tvar _v2;\n\tvar _v3A;\n\tvar _v3B;\n\tvar _v3C;\n\tvar _xColumn;\n\tvar _yColumn;\n\tvar _sphericalA;\n\tvar _sphericalB;\n\tvar _box3A;\n\tvar _box3B;\n\tvar _quaternionA;\n\tvar _quaternionB;\n\tvar _rotationMatrix;\n\tvar _raycaster;\n\tvar CameraControls = (function (_super) {\n\t    __extends(CameraControls, _super);\n\t    function CameraControls(camera, domElement) {\n\t        var _this = _super.call(this) || this;\n\t        _this.enabled = true;\n\t        _this.minPolarAngle = 0;\n\t        _this.maxPolarAngle = Math.PI;\n\t        _this.minAzimuthAngle = -Infinity;\n\t        _this.maxAzimuthAngle = Infinity;\n\t        _this.minDistance = 0;\n\t        _this.maxDistance = Infinity;\n\t        _this.minZoom = 0.01;\n\t        _this.maxZoom = Infinity;\n\t        _this.dampingFactor = 0.05;\n\t        _this.draggingDampingFactor = 0.25;\n\t        _this.azimuthRotateSpeed = 1.0;\n\t        _this.polarRotateSpeed = 1.0;\n\t        _this.dollySpeed = 1.0;\n\t        _this.truckSpeed = 2.0;\n\t        _this.dollyToCursor = false;\n\t        _this.verticalDragToForward = false;\n\t        _this.boundaryFriction = 0.0;\n\t        _this.colliderMeshes = [];\n\t        _this._state = ACTION.NONE;\n\t        _this._viewport = null;\n\t        _this._dollyControlAmount = 0;\n\t        _this._boundaryEnclosesCamera = false;\n\t        _this._needsUpdate = true;\n\t        _this._updatedLastTime = false;\n\t        _this._camera = camera;\n\t        _this._yAxisUpSpace = new THREE$2.Quaternion().setFromUnitVectors(_this._camera.up, _AXIS_Y);\n\t        _this._yAxisUpSpaceInverse = _this._yAxisUpSpace.clone().inverse();\n\t        _this._state = ACTION.NONE;\n\t        _this._domElement = domElement;\n\t        _this._target = new THREE$2.Vector3();\n\t        _this._targetEnd = _this._target.clone();\n\t        _this._spherical = new THREE$2.Spherical().setFromVector3(_v3A.copy(_this._camera.position).applyQuaternion(_this._yAxisUpSpace));\n\t        _this._sphericalEnd = _this._spherical.clone();\n\t        _this._zoom = _this._camera.zoom;\n\t        _this._zoomEnd = _this._zoom;\n\t        _this._nearPlaneCorners = [\n\t            new THREE$2.Vector3(),\n\t            new THREE$2.Vector3(),\n\t            new THREE$2.Vector3(),\n\t            new THREE$2.Vector3(),\n\t        ];\n\t        _this._updateNearPlaneCorners();\n\t        _this._boundary = new THREE$2.Box3(new THREE$2.Vector3(-Infinity, -Infinity, -Infinity), new THREE$2.Vector3(Infinity, Infinity, Infinity));\n\t        _this._target0 = _this._target.clone();\n\t        _this._position0 = _this._camera.position.clone();\n\t        _this._zoom0 = _this._zoom;\n\t        _this._dollyControlAmount = 0;\n\t        _this._dollyControlCoord = new THREE$2.Vector2();\n\t        _this.mouseButtons = {\n\t            left: ACTION.ROTATE,\n\t            middle: ACTION.DOLLY,\n\t            right: ACTION.TRUCK,\n\t            wheel: _this._camera.isPerspectiveCamera ? ACTION.DOLLY :\n\t                _this._camera.isOrthographicCamera ? ACTION.ZOOM :\n\t                    ACTION.NONE,\n\t        };\n\t        _this.touches = {\n\t            one: ACTION.TOUCH_ROTATE,\n\t            two: _this._camera.isPerspectiveCamera ? ACTION.TOUCH_DOLLY_TRUCK :\n\t                _this._camera.isOrthographicCamera ? ACTION.TOUCH_ZOOM_TRUCK :\n\t                    ACTION.NONE,\n\t            three: ACTION.TOUCH_TRUCK,\n\t        };\n\t        if (_this._domElement) {\n\t            var dragStartPosition_1 = new THREE$2.Vector2();\n\t            var lastDragPosition_1 = new THREE$2.Vector2();\n\t            var dollyStart_1 = new THREE$2.Vector2();\n\t            var elementRect_1 = new THREE$2.Vector4();\n\t            var truckInternal_1 = function (deltaX, deltaY) {\n\t                if (_this._camera.isPerspectiveCamera) {\n\t                    var camera_1 = _this._camera;\n\t                    var offset = _v3A.copy(camera_1.position).sub(_this._target);\n\t                    var fov = camera_1.getEffectiveFOV() * THREE$2.Math.DEG2RAD;\n\t                    var targetDistance = offset.length() * Math.tan(fov * 0.5);\n\t                    var truckX = (_this.truckSpeed * deltaX * targetDistance / elementRect_1.w);\n\t                    var pedestalY = (_this.truckSpeed * deltaY * targetDistance / elementRect_1.w);\n\t                    if (_this.verticalDragToForward) {\n\t                        _this.truck(truckX, 0, true);\n\t                        _this.forward(-pedestalY, true);\n\t                    }\n\t                    else {\n\t                        _this.truck(truckX, pedestalY, true);\n\t                    }\n\t                }\n\t                else if (_this._camera.isOrthographicCamera) {\n\t                    var camera_2 = _this._camera;\n\t                    var truckX = deltaX * (camera_2.right - camera_2.left) / camera_2.zoom / elementRect_1.z;\n\t                    var pedestalY = deltaY * (camera_2.top - camera_2.bottom) / camera_2.zoom / elementRect_1.w;\n\t                    _this.truck(truckX, pedestalY, true);\n\t                }\n\t            };\n\t            var rotateInternal_1 = function (deltaX, deltaY) {\n\t                var theta = PI_2 * _this.azimuthRotateSpeed * deltaX / elementRect_1.w;\n\t                var phi = PI_2 * _this.polarRotateSpeed * deltaY / elementRect_1.w;\n\t                _this.rotate(theta, phi, true);\n\t            };\n\t            var dollyInternal_1 = function (delta, x, y) {\n\t                var dollyScale = Math.pow(0.95, -delta * _this.dollySpeed);\n\t                var distance = _this._sphericalEnd.radius * dollyScale;\n\t                var prevRadius = _this._sphericalEnd.radius;\n\t                _this.dollyTo(distance);\n\t                if (_this.dollyToCursor) {\n\t                    _this._dollyControlAmount += _this._sphericalEnd.radius - prevRadius;\n\t                    _this._dollyControlCoord.set(x, y);\n\t                }\n\t                return;\n\t            };\n\t            var zoomInternal_1 = function (delta) {\n\t                var zoomScale = Math.pow(0.95, delta * _this.dollySpeed);\n\t                _this.zoomTo(_this._zoom * zoomScale);\n\t                return;\n\t            };\n\t            var onMouseDown_1 = function (event) {\n\t                if (!_this.enabled)\n\t                    return;\n\t                event.preventDefault();\n\t                var prevState = _this._state;\n\t                switch (event.button) {\n\t                    case THREE$2.MOUSE.LEFT:\n\t                        _this._state = _this.mouseButtons.left;\n\t                        break;\n\t                    case THREE$2.MOUSE.MIDDLE:\n\t                        _this._state = _this.mouseButtons.middle;\n\t                        break;\n\t                    case THREE$2.MOUSE.RIGHT:\n\t                        _this._state = _this.mouseButtons.right;\n\t                        break;\n\t                }\n\t                if (prevState !== _this._state) {\n\t                    startDragging_1(event);\n\t                }\n\t            };\n\t            var onTouchStart_1 = function (event) {\n\t                if (!_this.enabled)\n\t                    return;\n\t                event.preventDefault();\n\t                var prevState = _this._state;\n\t                switch (event.touches.length) {\n\t                    case 1:\n\t                        _this._state = _this.touches.one;\n\t                        break;\n\t                    case 2:\n\t                        _this._state = _this.touches.two;\n\t                        break;\n\t                    case 3:\n\t                        _this._state = _this.touches.three;\n\t                        break;\n\t                }\n\t                if (prevState !== _this._state) {\n\t                    startDragging_1(event);\n\t                }\n\t            };\n\t            var lastScrollTimeStamp_1 = -1;\n\t            var onMouseWheel_1 = function (event) {\n\t                if (!_this.enabled || _this.mouseButtons.wheel === ACTION.NONE)\n\t                    return;\n\t                event.preventDefault();\n\t                if (_this.dollyToCursor ||\n\t                    _this.mouseButtons.wheel === ACTION.ROTATE ||\n\t                    _this.mouseButtons.wheel === ACTION.TRUCK) {\n\t                    var now = performance.now();\n\t                    if (lastScrollTimeStamp_1 - now < 1000)\n\t                        _this._getClientRect(elementRect_1);\n\t                    lastScrollTimeStamp_1 = now;\n\t                }\n\t                var deltaYFactor = isMac ? -1 : -3;\n\t                var delta = (event.deltaMode === 1) ? event.deltaY / deltaYFactor : event.deltaY / (deltaYFactor * 10);\n\t                var x = _this.dollyToCursor ? (event.clientX - elementRect_1.x) / elementRect_1.z * 2 - 1 : 0;\n\t                var y = _this.dollyToCursor ? (event.clientY - elementRect_1.y) / elementRect_1.w * -2 + 1 : 0;\n\t                switch (_this.mouseButtons.wheel) {\n\t                    case ACTION.ROTATE: {\n\t                        rotateInternal_1(event.deltaX, event.deltaY);\n\t                        break;\n\t                    }\n\t                    case ACTION.TRUCK: {\n\t                        truckInternal_1(event.deltaX, event.deltaY);\n\t                        break;\n\t                    }\n\t                    case ACTION.DOLLY: {\n\t                        dollyInternal_1(-delta, x, y);\n\t                        break;\n\t                    }\n\t                    case ACTION.ZOOM: {\n\t                        zoomInternal_1(-delta);\n\t                        break;\n\t                    }\n\t                }\n\t                _this.dispatchEvent({\n\t                    type: 'control',\n\t                    originalEvent: event,\n\t                });\n\t            };\n\t            var onContextMenu_1 = function (event) {\n\t                if (!_this.enabled)\n\t                    return;\n\t                event.preventDefault();\n\t            };\n\t            var startDragging_1 = function (event) {\n\t                if (!_this.enabled)\n\t                    return;\n\t                event.preventDefault();\n\t                extractClientCoordFromEvent(event, _v2);\n\t                _this._getClientRect(elementRect_1);\n\t                dragStartPosition_1.copy(_v2);\n\t                lastDragPosition_1.copy(_v2);\n\t                var isMultiTouch = isTouchEvent(event) && event.touches.length >= 2;\n\t                if (isMultiTouch) {\n\t                    var touchEvent = event;\n\t                    var dx = _v2.x - touchEvent.touches[1].clientX;\n\t                    var dy = _v2.y - touchEvent.touches[1].clientY;\n\t                    var distance = Math.sqrt(dx * dx + dy * dy);\n\t                    dollyStart_1.set(0, distance);\n\t                    var x = (touchEvent.touches[0].clientX + touchEvent.touches[1].clientX) * 0.5;\n\t                    var y = (touchEvent.touches[0].clientY + touchEvent.touches[1].clientY) * 0.5;\n\t                    lastDragPosition_1.set(x, y);\n\t                }\n\t                document.addEventListener('mousemove', dragging_1);\n\t                document.addEventListener('touchmove', dragging_1, { passive: false });\n\t                document.addEventListener('mouseup', endDragging_1);\n\t                document.addEventListener('touchend', endDragging_1);\n\t                _this.dispatchEvent({\n\t                    type: 'controlstart',\n\t                    originalEvent: event,\n\t                });\n\t            };\n\t            var dragging_1 = function (event) {\n\t                if (!_this.enabled)\n\t                    return;\n\t                event.preventDefault();\n\t                extractClientCoordFromEvent(event, _v2);\n\t                var deltaX = lastDragPosition_1.x - _v2.x;\n\t                var deltaY = lastDragPosition_1.y - _v2.y;\n\t                lastDragPosition_1.copy(_v2);\n\t                switch (_this._state) {\n\t                    case ACTION.ROTATE:\n\t                    case ACTION.TOUCH_ROTATE: {\n\t                        rotateInternal_1(deltaX, deltaY);\n\t                        break;\n\t                    }\n\t                    case ACTION.DOLLY:\n\t                    case ACTION.ZOOM: {\n\t                        var dollyX = _this.dollyToCursor ? (dragStartPosition_1.x - elementRect_1.x) / elementRect_1.z * 2 - 1 : 0;\n\t                        var dollyY = _this.dollyToCursor ? (dragStartPosition_1.y - elementRect_1.y) / elementRect_1.w * -2 + 1 : 0;\n\t                        _this._state === ACTION.DOLLY ?\n\t                            dollyInternal_1(deltaY * TOUCH_DOLLY_FACTOR, dollyX, dollyY) :\n\t                            zoomInternal_1(deltaY * TOUCH_DOLLY_FACTOR);\n\t                        break;\n\t                    }\n\t                    case ACTION.TOUCH_DOLLY:\n\t                    case ACTION.TOUCH_ZOOM:\n\t                    case ACTION.TOUCH_DOLLY_TRUCK:\n\t                    case ACTION.TOUCH_ZOOM_TRUCK: {\n\t                        var touchEvent = event;\n\t                        var dx = _v2.x - touchEvent.touches[1].clientX;\n\t                        var dy = _v2.y - touchEvent.touches[1].clientY;\n\t                        var distance = Math.sqrt(dx * dx + dy * dy);\n\t                        var dollyDelta = dollyStart_1.y - distance;\n\t                        dollyStart_1.set(0, distance);\n\t                        var dollyX = _this.dollyToCursor ? (lastDragPosition_1.x - elementRect_1.x) / elementRect_1.z * 2 - 1 : 0;\n\t                        var dollyY = _this.dollyToCursor ? (lastDragPosition_1.y - elementRect_1.y) / elementRect_1.w * -2 + 1 : 0;\n\t                        _this._state === ACTION.TOUCH_DOLLY ||\n\t                            _this._state === ACTION.TOUCH_DOLLY_TRUCK ?\n\t                            dollyInternal_1(dollyDelta * TOUCH_DOLLY_FACTOR, dollyX, dollyY) :\n\t                            zoomInternal_1(dollyDelta * TOUCH_DOLLY_FACTOR);\n\t                        if (_this._state === ACTION.TOUCH_DOLLY_TRUCK ||\n\t                            _this._state === ACTION.TOUCH_ZOOM_TRUCK) {\n\t                            truckInternal_1(deltaX, deltaY);\n\t                        }\n\t                        break;\n\t                    }\n\t                    case ACTION.TRUCK:\n\t                    case ACTION.TOUCH_TRUCK: {\n\t                        truckInternal_1(deltaX, deltaY);\n\t                        break;\n\t                    }\n\t                }\n\t                _this.dispatchEvent({\n\t                    type: 'control',\n\t                    originalEvent: event,\n\t                });\n\t            };\n\t            var endDragging_1 = function (event) {\n\t                if (!_this.enabled)\n\t                    return;\n\t                _this._state = ACTION.NONE;\n\t                document.removeEventListener('mousemove', dragging_1);\n\t                document.removeEventListener('touchmove', dragging_1, { passive: false });\n\t                document.removeEventListener('mouseup', endDragging_1);\n\t                document.removeEventListener('touchend', endDragging_1);\n\t                _this.dispatchEvent({\n\t                    type: 'controlend',\n\t                    originalEvent: event,\n\t                });\n\t            };\n\t            _this._domElement.addEventListener('mousedown', onMouseDown_1);\n\t            _this._domElement.addEventListener('touchstart', onTouchStart_1);\n\t            _this._domElement.addEventListener('wheel', onMouseWheel_1);\n\t            _this._domElement.addEventListener('contextmenu', onContextMenu_1);\n\t            _this._removeAllEventListeners = function () {\n\t                _this._domElement.removeEventListener('mousedown', onMouseDown_1);\n\t                _this._domElement.removeEventListener('touchstart', onTouchStart_1);\n\t                _this._domElement.removeEventListener('wheel', onMouseWheel_1);\n\t                _this._domElement.removeEventListener('contextmenu', onContextMenu_1);\n\t                document.removeEventListener('mousemove', dragging_1);\n\t                document.removeEventListener('touchmove', dragging_1, { passive: false });\n\t                document.removeEventListener('mouseup', endDragging_1);\n\t                document.removeEventListener('touchend', endDragging_1);\n\t            };\n\t        }\n\t        _this.update(0);\n\t        return _this;\n\t    }\n\t    CameraControls.install = function (libs) {\n\t        THREE$2 = libs.THREE;\n\t        _ORIGIN = Object.freeze(new THREE$2.Vector3(0, 0, 0));\n\t        _AXIS_Y = Object.freeze(new THREE$2.Vector3(0, 1, 0));\n\t        _AXIS_Z = Object.freeze(new THREE$2.Vector3(0, 0, 1));\n\t        _v2 = new THREE$2.Vector2();\n\t        _v3A = new THREE$2.Vector3();\n\t        _v3B = new THREE$2.Vector3();\n\t        _v3C = new THREE$2.Vector3();\n\t        _xColumn = new THREE$2.Vector3();\n\t        _yColumn = new THREE$2.Vector3();\n\t        _sphericalA = new THREE$2.Spherical();\n\t        _sphericalB = new THREE$2.Spherical();\n\t        _box3A = new THREE$2.Box3();\n\t        _box3B = new THREE$2.Box3();\n\t        _quaternionA = new THREE$2.Quaternion();\n\t        _quaternionB = new THREE$2.Quaternion();\n\t        _rotationMatrix = new THREE$2.Matrix4();\n\t        _raycaster = new THREE$2.Raycaster();\n\t    };\n\t    Object.defineProperty(CameraControls, \"ACTION\", {\n\t        get: function () {\n\t            return readonlyACTION;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(CameraControls.prototype, \"currentAction\", {\n\t        get: function () {\n\t            return this._state;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(CameraControls.prototype, \"distance\", {\n\t        get: function () {\n\t            return this._spherical.radius;\n\t        },\n\t        set: function (distance) {\n\t            if (this._spherical.radius === distance &&\n\t                this._sphericalEnd.radius === distance)\n\t                return;\n\t            this._spherical.radius = distance;\n\t            this._sphericalEnd.radius = distance;\n\t            this._needsUpdate = true;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(CameraControls.prototype, \"azimuthAngle\", {\n\t        get: function () {\n\t            return this._spherical.theta;\n\t        },\n\t        set: function (azimuthAngle) {\n\t            if (this._spherical.theta === azimuthAngle &&\n\t                this._sphericalEnd.theta === azimuthAngle)\n\t                return;\n\t            this._spherical.theta = azimuthAngle;\n\t            this._sphericalEnd.theta = azimuthAngle;\n\t            this._needsUpdate = true;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(CameraControls.prototype, \"polarAngle\", {\n\t        get: function () {\n\t            return this._spherical.phi;\n\t        },\n\t        set: function (polarAngle) {\n\t            if (this._spherical.phi === polarAngle &&\n\t                this._sphericalEnd.phi === polarAngle)\n\t                return;\n\t            this._spherical.phi = polarAngle;\n\t            this._sphericalEnd.phi = polarAngle;\n\t            this._needsUpdate = true;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(CameraControls.prototype, \"phiSpeed\", {\n\t        set: function (speed) {\n\t            console.warn('phiSpeed was renamed. use azimuthRotateSpeed instead');\n\t            this.azimuthRotateSpeed = speed;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(CameraControls.prototype, \"thetaSpeed\", {\n\t        set: function (speed) {\n\t            console.warn('thetaSpeed was renamed. use polarRotateSpeed instead');\n\t            this.polarRotateSpeed = speed;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(CameraControls.prototype, \"boundaryEnclosesCamera\", {\n\t        get: function () {\n\t            return this._boundaryEnclosesCamera;\n\t        },\n\t        set: function (boundaryEnclosesCamera) {\n\t            this._boundaryEnclosesCamera = boundaryEnclosesCamera;\n\t            this._needsUpdate = true;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    CameraControls.prototype.rotate = function (azimuthAngle, polarAngle, enableTransition) {\n\t        if (enableTransition === void 0) { enableTransition = false; }\n\t        this.rotateTo(this._sphericalEnd.theta + azimuthAngle, this._sphericalEnd.phi + polarAngle, enableTransition);\n\t    };\n\t    CameraControls.prototype.rotateTo = function (azimuthAngle, polarAngle, enableTransition) {\n\t        if (enableTransition === void 0) { enableTransition = false; }\n\t        var theta = THREE$2.Math.clamp(azimuthAngle, this.minAzimuthAngle, this.maxAzimuthAngle);\n\t        var phi = THREE$2.Math.clamp(polarAngle, this.minPolarAngle, this.maxPolarAngle);\n\t        this._sphericalEnd.theta = theta;\n\t        this._sphericalEnd.phi = phi;\n\t        this._sphericalEnd.makeSafe();\n\t        if (!enableTransition) {\n\t            this._spherical.theta = this._sphericalEnd.theta;\n\t            this._spherical.phi = this._sphericalEnd.phi;\n\t        }\n\t        this._needsUpdate = true;\n\t    };\n\t    CameraControls.prototype.dolly = function (distance, enableTransition) {\n\t        if (enableTransition === void 0) { enableTransition = false; }\n\t        this.dollyTo(this._sphericalEnd.radius - distance, enableTransition);\n\t    };\n\t    CameraControls.prototype.dollyTo = function (distance, enableTransition) {\n\t        if (enableTransition === void 0) { enableTransition = false; }\n\t        if (notSupportedInOrthographicCamera(this._camera, 'dolly'))\n\t            return;\n\t        this._sphericalEnd.radius = THREE$2.Math.clamp(distance, this.minDistance, this.maxDistance);\n\t        if (!enableTransition) {\n\t            this._spherical.radius = this._sphericalEnd.radius;\n\t        }\n\t        this._needsUpdate = true;\n\t    };\n\t    CameraControls.prototype.zoom = function (zoomStep, enableTransition) {\n\t        if (enableTransition === void 0) { enableTransition = false; }\n\t        this.zoomTo(this._zoomEnd + zoomStep, enableTransition);\n\t    };\n\t    CameraControls.prototype.zoomTo = function (zoom, enableTransition) {\n\t        if (enableTransition === void 0) { enableTransition = false; }\n\t        this._zoomEnd = THREE$2.Math.clamp(zoom, this.minZoom, this.maxZoom);\n\t        if (!enableTransition) {\n\t            this._zoom = this._zoomEnd;\n\t        }\n\t        this._needsUpdate = true;\n\t    };\n\t    CameraControls.prototype.pan = function (x, y, enableTransition) {\n\t        if (enableTransition === void 0) { enableTransition = false; }\n\t        console.log('`pan` has been renamed to `truck`');\n\t        this.truck(x, y, enableTransition);\n\t    };\n\t    CameraControls.prototype.truck = function (x, y, enableTransition) {\n\t        if (enableTransition === void 0) { enableTransition = false; }\n\t        this._camera.updateMatrix();\n\t        _xColumn.setFromMatrixColumn(this._camera.matrix, 0);\n\t        _yColumn.setFromMatrixColumn(this._camera.matrix, 1);\n\t        _xColumn.multiplyScalar(x);\n\t        _yColumn.multiplyScalar(-y);\n\t        var offset = _v3A.copy(_xColumn).add(_yColumn);\n\t        this._encloseToBoundary(this._targetEnd, offset, this.boundaryFriction);\n\t        if (!enableTransition) {\n\t            this._target.copy(this._targetEnd);\n\t        }\n\t        this._needsUpdate = true;\n\t    };\n\t    CameraControls.prototype.forward = function (distance, enableTransition) {\n\t        if (enableTransition === void 0) { enableTransition = false; }\n\t        _v3A.setFromMatrixColumn(this._camera.matrix, 0);\n\t        _v3A.crossVectors(this._camera.up, _v3A);\n\t        _v3A.multiplyScalar(distance);\n\t        this._encloseToBoundary(this._targetEnd, _v3A, this.boundaryFriction);\n\t        if (!enableTransition) {\n\t            this._target.copy(this._targetEnd);\n\t        }\n\t        this._needsUpdate = true;\n\t    };\n\t    CameraControls.prototype.moveTo = function (x, y, z, enableTransition) {\n\t        if (enableTransition === void 0) { enableTransition = false; }\n\t        this._targetEnd.set(x, y, z);\n\t        if (!enableTransition) {\n\t            this._target.copy(this._targetEnd);\n\t        }\n\t        this._needsUpdate = true;\n\t    };\n\t    CameraControls.prototype.fitTo = function (box3OrObject, enableTransition, _a) {\n\t        var _b = _a === void 0 ? {} : _a, _c = _b.paddingLeft, paddingLeft = _c === void 0 ? 0 : _c, _d = _b.paddingRight, paddingRight = _d === void 0 ? 0 : _d, _e = _b.paddingBottom, paddingBottom = _e === void 0 ? 0 : _e, _f = _b.paddingTop, paddingTop = _f === void 0 ? 0 : _f;\n\t        var aabb = box3OrObject.isBox3\n\t            ? _box3A.copy(box3OrObject)\n\t            : _box3A.setFromObject(box3OrObject);\n\t        var theta = roundToStep(this._sphericalEnd.theta, PI_HALF$1);\n\t        var phi = roundToStep(this._sphericalEnd.phi, PI_HALF$1);\n\t        this.rotateTo(theta, phi, enableTransition);\n\t        var normal = _v3A.setFromSpherical(this._sphericalEnd).normalize();\n\t        var rotation = _quaternionA.setFromUnitVectors(normal, _AXIS_Z);\n\t        var viewFromPolar = approxEquals(Math.abs(normal.y), 1);\n\t        if (viewFromPolar) {\n\t            rotation.multiply(_quaternionB.setFromAxisAngle(_AXIS_Y, theta));\n\t        }\n\t        var bb = _box3B.makeEmpty();\n\t        _v3B.copy(aabb.min).applyQuaternion(rotation);\n\t        bb.expandByPoint(_v3B);\n\t        _v3B.copy(aabb.min).setX(aabb.max.x).applyQuaternion(rotation);\n\t        bb.expandByPoint(_v3B);\n\t        _v3B.copy(aabb.min).setY(aabb.max.y).applyQuaternion(rotation);\n\t        bb.expandByPoint(_v3B);\n\t        _v3B.copy(aabb.max).setZ(aabb.min.z).applyQuaternion(rotation);\n\t        bb.expandByPoint(_v3B);\n\t        _v3B.copy(aabb.min).setZ(aabb.max.z).applyQuaternion(rotation);\n\t        bb.expandByPoint(_v3B);\n\t        _v3B.copy(aabb.max).setY(aabb.min.y).applyQuaternion(rotation);\n\t        bb.expandByPoint(_v3B);\n\t        _v3B.copy(aabb.max).setX(aabb.min.x).applyQuaternion(rotation);\n\t        bb.expandByPoint(_v3B);\n\t        _v3B.copy(aabb.max).applyQuaternion(rotation);\n\t        bb.expandByPoint(_v3B);\n\t        rotation.setFromUnitVectors(_AXIS_Z, normal);\n\t        bb.min.x -= paddingLeft;\n\t        bb.min.y -= paddingBottom;\n\t        bb.max.x += paddingRight;\n\t        bb.max.y += paddingTop;\n\t        var bbSize = bb.getSize(_v3A);\n\t        var center = bb.getCenter(_v3B).applyQuaternion(rotation);\n\t        var isPerspectiveCamera = this._camera.isPerspectiveCamera;\n\t        var isOrthographicCamera = this._camera.isOrthographicCamera;\n\t        if (isPerspectiveCamera) {\n\t            var distance = this.getDistanceToFit(bbSize.x, bbSize.y, bbSize.z);\n\t            this.moveTo(center.x, center.y, center.z, enableTransition);\n\t            this.dollyTo(distance, enableTransition);\n\t            return;\n\t        }\n\t        else if (isOrthographicCamera) {\n\t            var camera = this._camera;\n\t            var width = camera.right - camera.left;\n\t            var height = camera.top - camera.bottom;\n\t            var zoom = Math.min(width / bbSize.x, height / bbSize.y);\n\t            this.moveTo(center.x, center.y, center.z, enableTransition);\n\t            this.zoomTo(zoom, enableTransition);\n\t            return;\n\t        }\n\t    };\n\t    CameraControls.prototype.setLookAt = function (positionX, positionY, positionZ, targetX, targetY, targetZ, enableTransition) {\n\t        if (enableTransition === void 0) { enableTransition = false; }\n\t        var position = _v3A.set(positionX, positionY, positionZ);\n\t        var target = _v3B.set(targetX, targetY, targetZ);\n\t        this._targetEnd.copy(target);\n\t        this._sphericalEnd.setFromVector3(position.sub(target).applyQuaternion(this._yAxisUpSpace));\n\t        this.normalizeRotations();\n\t        if (!enableTransition) {\n\t            this._target.copy(this._targetEnd);\n\t            this._spherical.copy(this._sphericalEnd);\n\t        }\n\t        this._needsUpdate = true;\n\t    };\n\t    CameraControls.prototype.lerpLookAt = function (positionAX, positionAY, positionAZ, targetAX, targetAY, targetAZ, positionBX, positionBY, positionBZ, targetBX, targetBY, targetBZ, t, enableTransition) {\n\t        if (enableTransition === void 0) { enableTransition = false; }\n\t        var positionA = _v3A.set(positionAX, positionAY, positionAZ);\n\t        var targetA = _v3B.set(targetAX, targetAY, targetAZ);\n\t        _sphericalA.setFromVector3(positionA.sub(targetA).applyQuaternion(this._yAxisUpSpace));\n\t        var targetB = _v3A.set(targetBX, targetBY, targetBZ);\n\t        this._targetEnd.copy(targetA).lerp(targetB, t);\n\t        var positionB = _v3B.set(positionBX, positionBY, positionBZ);\n\t        _sphericalB.setFromVector3(positionB.sub(targetB).applyQuaternion(this._yAxisUpSpace));\n\t        var deltaTheta = _sphericalB.theta - _sphericalA.theta;\n\t        var deltaPhi = _sphericalB.phi - _sphericalA.phi;\n\t        var deltaRadius = _sphericalB.radius - _sphericalA.radius;\n\t        this._sphericalEnd.set(_sphericalA.radius + deltaRadius * t, _sphericalA.phi + deltaPhi * t, _sphericalA.theta + deltaTheta * t);\n\t        this.normalizeRotations();\n\t        if (!enableTransition) {\n\t            this._target.copy(this._targetEnd);\n\t            this._spherical.copy(this._sphericalEnd);\n\t        }\n\t        this._needsUpdate = true;\n\t    };\n\t    CameraControls.prototype.setPosition = function (positionX, positionY, positionZ, enableTransition) {\n\t        if (enableTransition === void 0) { enableTransition = false; }\n\t        this.setLookAt(positionX, positionY, positionZ, this._targetEnd.x, this._targetEnd.y, this._targetEnd.z, enableTransition);\n\t    };\n\t    CameraControls.prototype.setTarget = function (targetX, targetY, targetZ, enableTransition) {\n\t        if (enableTransition === void 0) { enableTransition = false; }\n\t        var pos = this.getPosition(_v3A);\n\t        this.setLookAt(pos.x, pos.y, pos.z, targetX, targetY, targetZ, enableTransition);\n\t    };\n\t    CameraControls.prototype.setBoundary = function (box3) {\n\t        if (!box3) {\n\t            this._boundary.min.set(-Infinity, -Infinity, -Infinity);\n\t            this._boundary.max.set(Infinity, Infinity, Infinity);\n\t            this._needsUpdate = true;\n\t            return;\n\t        }\n\t        this._boundary.copy(box3);\n\t        this._boundary.clampPoint(this._targetEnd, this._targetEnd);\n\t        this._needsUpdate = true;\n\t    };\n\t    CameraControls.prototype.setViewport = function (viewportOrX, y, width, height) {\n\t        if (viewportOrX === null) {\n\t            this._viewport = null;\n\t            return;\n\t        }\n\t        this._viewport = this._viewport || new THREE$2.Vector4();\n\t        if (typeof viewportOrX === 'number') {\n\t            this._viewport.set(viewportOrX, y, width, height);\n\t        }\n\t        else {\n\t            this._viewport.copy(viewportOrX);\n\t        }\n\t    };\n\t    CameraControls.prototype.getDistanceToFit = function (width, height, depth) {\n\t        if (notSupportedInOrthographicCamera(this._camera, 'getDistanceToFit'))\n\t            return this._spherical.radius;\n\t        var camera = this._camera;\n\t        var boundingRectAspect = width / height;\n\t        var fov = camera.getEffectiveFOV() * THREE$2.Math.DEG2RAD;\n\t        var aspect = camera.aspect;\n\t        var heightToFit = boundingRectAspect < aspect ? height : width / aspect;\n\t        return heightToFit * 0.5 / Math.tan(fov * 0.5) + depth * 0.5;\n\t    };\n\t    CameraControls.prototype.getTarget = function (out) {\n\t        var _out = !!out && out.isVector3 ? out : new THREE$2.Vector3();\n\t        return _out.copy(this._targetEnd);\n\t    };\n\t    CameraControls.prototype.getPosition = function (out) {\n\t        var _out = !!out && out.isVector3 ? out : new THREE$2.Vector3();\n\t        return _out.setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).add(this._targetEnd);\n\t    };\n\t    CameraControls.prototype.normalizeRotations = function () {\n\t        this._sphericalEnd.theta = this._sphericalEnd.theta % PI_2;\n\t        if (this._sphericalEnd.theta < 0)\n\t            this._sphericalEnd.theta += PI_2;\n\t        this._spherical.theta += PI_2 * Math.round((this._sphericalEnd.theta - this._spherical.theta) / PI_2);\n\t    };\n\t    CameraControls.prototype.reset = function (enableTransition) {\n\t        if (enableTransition === void 0) { enableTransition = false; }\n\t        this.setLookAt(this._position0.x, this._position0.y, this._position0.z, this._target0.x, this._target0.y, this._target0.z, enableTransition);\n\t        this.zoomTo(this._zoom0, enableTransition);\n\t    };\n\t    CameraControls.prototype.saveState = function () {\n\t        this._target0.copy(this._target);\n\t        this._position0.copy(this._camera.position);\n\t        this._zoom0 = this._zoom;\n\t    };\n\t    CameraControls.prototype.updateCameraUp = function () {\n\t        this._yAxisUpSpace.setFromUnitVectors(this._camera.up, _AXIS_Y);\n\t        this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).inverse();\n\t    };\n\t    CameraControls.prototype.update = function (delta) {\n\t        var dampingFactor = this._state === ACTION.NONE ? this.dampingFactor : this.draggingDampingFactor;\n\t        var lerpRatio = 1.0 - Math.exp(-dampingFactor * delta * FPS_60);\n\t        var deltaTheta = this._sphericalEnd.theta - this._spherical.theta;\n\t        var deltaPhi = this._sphericalEnd.phi - this._spherical.phi;\n\t        var deltaRadius = this._sphericalEnd.radius - this._spherical.radius;\n\t        var deltaTarget = _v3A.subVectors(this._targetEnd, this._target);\n\t        if (!approxZero(deltaTheta) ||\n\t            !approxZero(deltaPhi) ||\n\t            !approxZero(deltaRadius) ||\n\t            !approxZero(deltaTarget.x) ||\n\t            !approxZero(deltaTarget.y) ||\n\t            !approxZero(deltaTarget.z)) {\n\t            this._spherical.set(this._spherical.radius + deltaRadius * lerpRatio, this._spherical.phi + deltaPhi * lerpRatio, this._spherical.theta + deltaTheta * lerpRatio);\n\t            this._target.add(deltaTarget.multiplyScalar(lerpRatio));\n\t            this._needsUpdate = true;\n\t        }\n\t        else {\n\t            this._spherical.copy(this._sphericalEnd);\n\t            this._target.copy(this._targetEnd);\n\t        }\n\t        if (this._dollyControlAmount !== 0) {\n\t            if (this._camera.isPerspectiveCamera) {\n\t                var camera = this._camera;\n\t                var direction = _v3A.setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate();\n\t                var planeX = _v3B.copy(direction).cross(camera.up).normalize();\n\t                if (planeX.lengthSq() === 0)\n\t                    planeX.x = 1.0;\n\t                var planeY = _v3C.crossVectors(planeX, direction);\n\t                var worldToScreen = this._sphericalEnd.radius * Math.tan(camera.getEffectiveFOV() * THREE$2.Math.DEG2RAD * 0.5);\n\t                var prevRadius = this._sphericalEnd.radius - this._dollyControlAmount;\n\t                var lerpRatio_1 = (prevRadius - this._sphericalEnd.radius) / this._sphericalEnd.radius;\n\t                var cursor = _v3A.copy(this._targetEnd)\n\t                    .add(planeX.multiplyScalar(this._dollyControlCoord.x * worldToScreen * camera.aspect))\n\t                    .add(planeY.multiplyScalar(this._dollyControlCoord.y * worldToScreen));\n\t                this._targetEnd.lerp(cursor, lerpRatio_1);\n\t                this._target.copy(this._targetEnd);\n\t            }\n\t            this._dollyControlAmount = 0;\n\t        }\n\t        var maxDistance = this._collisionTest();\n\t        this._spherical.radius = Math.min(this._spherical.radius, maxDistance);\n\t        this._spherical.makeSafe();\n\t        this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target);\n\t        this._camera.lookAt(this._target);\n\t        if (this._boundaryEnclosesCamera) {\n\t            this._encloseToBoundary(this._camera.position.copy(this._target), _v3A.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse), 1.0);\n\t        }\n\t        var zoomDelta = this._zoomEnd - this._zoom;\n\t        this._zoom += zoomDelta * lerpRatio;\n\t        if (this._camera.zoom !== this._zoom) {\n\t            if (approxZero(zoomDelta))\n\t                this._zoom = this._zoomEnd;\n\t            this._camera.zoom = this._zoom;\n\t            this._camera.updateProjectionMatrix();\n\t            this._updateNearPlaneCorners();\n\t            this._needsUpdate = true;\n\t        }\n\t        var updated = this._needsUpdate;\n\t        if (updated && !this._updatedLastTime) {\n\t            this.dispatchEvent({ type: 'wake' });\n\t            this.dispatchEvent({ type: 'update' });\n\t        }\n\t        else if (updated) {\n\t            this.dispatchEvent({ type: 'update' });\n\t        }\n\t        else if (!updated && this._updatedLastTime) {\n\t            this.dispatchEvent({ type: 'sleep' });\n\t        }\n\t        this._updatedLastTime = updated;\n\t        this._needsUpdate = false;\n\t        return updated;\n\t    };\n\t    CameraControls.prototype.toJSON = function () {\n\t        return JSON.stringify({\n\t            enabled: this.enabled,\n\t            minDistance: this.minDistance,\n\t            maxDistance: infinityToMaxNumber(this.maxDistance),\n\t            minZoom: this.minZoom,\n\t            maxZoom: infinityToMaxNumber(this.maxZoom),\n\t            minPolarAngle: this.minPolarAngle,\n\t            maxPolarAngle: infinityToMaxNumber(this.maxPolarAngle),\n\t            minAzimuthAngle: infinityToMaxNumber(this.minAzimuthAngle),\n\t            maxAzimuthAngle: infinityToMaxNumber(this.maxAzimuthAngle),\n\t            dampingFactor: this.dampingFactor,\n\t            draggingDampingFactor: this.draggingDampingFactor,\n\t            dollySpeed: this.dollySpeed,\n\t            truckSpeed: this.truckSpeed,\n\t            dollyToCursor: this.dollyToCursor,\n\t            verticalDragToForward: this.verticalDragToForward,\n\t            target: this._targetEnd.toArray(),\n\t            position: this._camera.position.toArray(),\n\t            zoom: this._camera.zoom,\n\t            target0: this._target0.toArray(),\n\t            position0: this._position0.toArray(),\n\t            zoom0: this._zoom0,\n\t        });\n\t    };\n\t    CameraControls.prototype.fromJSON = function (json, enableTransition) {\n\t        if (enableTransition === void 0) { enableTransition = false; }\n\t        var obj = JSON.parse(json);\n\t        var position = _v3A.fromArray(obj.position);\n\t        this.enabled = obj.enabled;\n\t        this.minDistance = obj.minDistance;\n\t        this.maxDistance = maxNumberToInfinity(obj.maxDistance);\n\t        this.minZoom = obj.minZoom;\n\t        this.maxZoom = maxNumberToInfinity(obj.maxZoom);\n\t        this.minPolarAngle = obj.minPolarAngle;\n\t        this.maxPolarAngle = maxNumberToInfinity(obj.maxPolarAngle);\n\t        this.minAzimuthAngle = maxNumberToInfinity(obj.minAzimuthAngle);\n\t        this.maxAzimuthAngle = maxNumberToInfinity(obj.maxAzimuthAngle);\n\t        this.dampingFactor = obj.dampingFactor;\n\t        this.draggingDampingFactor = obj.draggingDampingFactor;\n\t        this.dollySpeed = obj.dollySpeed;\n\t        this.truckSpeed = obj.truckSpeed;\n\t        this.dollyToCursor = obj.dollyToCursor;\n\t        this.verticalDragToForward = obj.verticalDragToForward;\n\t        this._target0.fromArray(obj.target0);\n\t        this._position0.fromArray(obj.position0);\n\t        this._zoom0 = obj.zoom0;\n\t        this.moveTo(obj.target[0], obj.target[1], obj.target[2], enableTransition);\n\t        _sphericalA.setFromVector3(position.sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace));\n\t        this.rotateTo(_sphericalA.theta, _sphericalA.phi, enableTransition);\n\t        this.zoomTo(obj.zoom, enableTransition);\n\t        this._needsUpdate = true;\n\t    };\n\t    CameraControls.prototype.dispose = function () {\n\t        this._removeAllEventListeners();\n\t    };\n\t    CameraControls.prototype._encloseToBoundary = function (position, offset, friction) {\n\t        var offsetLength2 = offset.lengthSq();\n\t        if (offsetLength2 === 0.0) {\n\t            return position;\n\t        }\n\t        var newTarget = _v3B.copy(offset).add(position);\n\t        var clampedTarget = this._boundary.clampPoint(newTarget, _v3C);\n\t        var deltaClampedTarget = clampedTarget.sub(newTarget);\n\t        var deltaClampedTargetLength2 = deltaClampedTarget.lengthSq();\n\t        if (deltaClampedTargetLength2 === 0.0) {\n\t            return position.add(offset);\n\t        }\n\t        else if (deltaClampedTargetLength2 === offsetLength2) {\n\t            return position;\n\t        }\n\t        else if (friction === 0.0) {\n\t            return position.add(offset).add(deltaClampedTarget);\n\t        }\n\t        else {\n\t            var offsetFactor = 1.0 + friction * deltaClampedTargetLength2 / offset.dot(deltaClampedTarget);\n\t            return position\n\t                .add(_v3B.copy(offset).multiplyScalar(offsetFactor))\n\t                .add(deltaClampedTarget.multiplyScalar(1.0 - friction));\n\t        }\n\t    };\n\t    CameraControls.prototype._updateNearPlaneCorners = function () {\n\t        if (this._camera.isPerspectiveCamera) {\n\t            var camera = this._camera;\n\t            var near = camera.near;\n\t            var fov = camera.getEffectiveFOV() * THREE$2.Math.DEG2RAD;\n\t            var heightHalf = Math.tan(fov * 0.5) * near;\n\t            var widthHalf = heightHalf * camera.aspect;\n\t            this._nearPlaneCorners[0].set(-widthHalf, -heightHalf, 0);\n\t            this._nearPlaneCorners[1].set(widthHalf, -heightHalf, 0);\n\t            this._nearPlaneCorners[2].set(widthHalf, heightHalf, 0);\n\t            this._nearPlaneCorners[3].set(-widthHalf, heightHalf, 0);\n\t        }\n\t        else if (this._camera.isOrthographicCamera) {\n\t            var camera = this._camera;\n\t            var zoomInv = 1 / camera.zoom;\n\t            var left = camera.left * zoomInv;\n\t            var right = camera.right * zoomInv;\n\t            var top_1 = camera.top * zoomInv;\n\t            var bottom = camera.bottom * zoomInv;\n\t            this._nearPlaneCorners[0].set(left, top_1, 0);\n\t            this._nearPlaneCorners[1].set(right, top_1, 0);\n\t            this._nearPlaneCorners[2].set(right, bottom, 0);\n\t            this._nearPlaneCorners[3].set(left, bottom, 0);\n\t        }\n\t    };\n\t    CameraControls.prototype._collisionTest = function () {\n\t        var distance = Infinity;\n\t        var hasCollider = this.colliderMeshes.length >= 1;\n\t        if (!hasCollider)\n\t            return distance;\n\t        if (notSupportedInOrthographicCamera(this._camera, '_collisionTest'))\n\t            return distance;\n\t        distance = this._spherical.radius;\n\t        var direction = _v3A.setFromSpherical(this._spherical).divideScalar(distance);\n\t        _rotationMatrix.lookAt(_ORIGIN, direction, this._camera.up);\n\t        for (var i = 0; i < 4; i++) {\n\t            var nearPlaneCorner = _v3B.copy(this._nearPlaneCorners[i]);\n\t            nearPlaneCorner.applyMatrix4(_rotationMatrix);\n\t            var origin_1 = _v3C.addVectors(this._target, nearPlaneCorner);\n\t            _raycaster.set(origin_1, direction);\n\t            _raycaster.far = distance;\n\t            var intersects = _raycaster.intersectObjects(this.colliderMeshes);\n\t            if (intersects.length !== 0 && intersects[0].distance < distance) {\n\t                distance = intersects[0].distance;\n\t            }\n\t        }\n\t        return distance;\n\t    };\n\t    CameraControls.prototype._getClientRect = function (target) {\n\t        var rect = this._domElement.getBoundingClientRect();\n\t        target.x = rect.left;\n\t        target.y = rect.top;\n\t        if (this._viewport) {\n\t            target.x += this._viewport.x;\n\t            target.y += rect.height - this._viewport.w - this._viewport.y;\n\t            target.z = this._viewport.z;\n\t            target.w = this._viewport.w;\n\t        }\n\t        else {\n\t            target.z = rect.width;\n\t            target.w = rect.height;\n\t        }\n\t        return target;\n\t    };\n\t    CameraControls.prototype._removeAllEventListeners = function () { };\n\t    return CameraControls;\n\t}(EventDispatcher$1));\n\n\tonInstallHandlers.push(function () {\n\t  CameraControls.install({\n\t    THREE: THREE$1\n\t  });\n\t});\n\tvar TPSCameraControls = /*#__PURE__*/function (_CameraControls) {\n\t  _inherits(TPSCameraControls, _CameraControls);\n\n\t  var _super = _createSuper(TPSCameraControls);\n\n\t  function TPSCameraControls(camera, trackObject, domElement) {\n\t    var _thisSuper, _this;\n\n\t    _classCallCheck(this, TPSCameraControls);\n\n\t    _this = _super.call(this, camera, domElement);\n\t    _this.minDistance = 9;\n\t    _this.maxDistance = 90;\n\t    _this.azimuthRotateSpeed = 0.3; // negative value to invert rotation direction\n\n\t    _this.polarRotateSpeed = 0.2; // negative value to invert rotation direction\n\n\t    _this.minPolarAngle = 0 * THREE$1.Math.DEG2RAD;\n\t    _this.maxPolarAngle = 180 * THREE$1.Math.DEG2RAD;\n\t    _this.draggingDampingFactor = 1;\n\t    _this.mouseButtons.right = CameraControls.ACTION.NONE;\n\t    _this.mouseButtons.middle = CameraControls.ACTION.NONE;\n\t    _this.touches.two = CameraControls.ACTION.TOUCH_DOLLY;\n\t    _this.touches.three = CameraControls.ACTION.TOUCH_DOLLY; // this._trackObject = trackObject;\n\t    // this.offset = new THREE.Vector3( 0, 1, 0 );\n\n\t    var offset = new THREE$1.Vector3(0, 1, 0);\n\n\t    _this.update = function (delta) {\n\t      var x = trackObject.position.x + offset.x;\n\t      var y = trackObject.position.y + offset.y;\n\t      var z = trackObject.position.z + offset.z;\n\n\t      _this.moveTo(x, y, z, false);\n\n\t      _get((_thisSuper = _assertThisInitialized(_this), _getPrototypeOf(TPSCameraControls.prototype)), \"update\", _thisSuper).call(_thisSuper, delta);\n\t    };\n\n\t    return _this;\n\t  }\n\n\t  _createClass(TPSCameraControls, [{\n\t    key: \"frontAngle\",\n\t    get: function get() {\n\t      return this.azimuthAngle;\n\t    }\n\t  }]);\n\n\t  return TPSCameraControls;\n\t}(CameraControls);\n\n\texports.AnimationController = AnimationController;\n\texports.CharacterController = CharacterController;\n\texports.KeyInputControl = KeyInputControl;\n\texports.Octree = Octree;\n\texports.TPSCameraControls = TPSCameraControls;\n\texports.World = World;\n\texports.install = install;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","module.exports = __webpack_public_path__ + \"img/metamask.1e38b912.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAzFBMVEUAAAAgv/8wcO8gcO8ov/coj/coaO8su/cobOsmj/kqrfcop/coj/cqbewru/Ynj/gpj+8pbe0qbu8qu/Uoj/cqvPYrvfcqvfcrbe8oj/cqefMrvPcrc/Irbe8rvPgrbu8rvfcppPgol/kokfkokfgrfvArbe8svfYplPkpkfksbe8rvfcruPYqsvcrrvYqrPgqrPcprPgrpPQpofgrmvMol/kolvkokfkrkPIojPgoivcpg/UrgfEqf/Qqe/Mrd/ArcvAqcfErb/Arbe/HERs1AAAAK3RSTlMAEBAQICAgQEBQYGBgYHBwcHB/gICQn5+foK+/v7/Pz9/f39/f39/v7+/v8lWhcAAAANFJREFUeNrF0mkTwTAQBuAUdd/3XbTOVRS1rqLy//+TkaRqtHxi7Ld9n8xmkllC/lPB/CD1EihOkJpQSqth16IDSmmLBU3KKx8QVhdBlhCCB5s3zmyNBcdZ5Y64s8RZhY3SEK3zEoAj4u4k+H61hogGuIju7JwPIlpXzv2RD/LZlzVs/BBxb2+n4MH5iqsJ4EUdFuYHBOiqHNsjHyzINTRhmPY8hSEhcq8kkXco/vYrmFQZliUHYyrDRoh1xbHeiDyvSUY1Oo9Ajr9slZz45c7eALQETUNQ/TQiAAAAAElFTkSuQmCC\""," \nmodule.exports =  class TrigonometryHelper {\n\n\n\n\n}\n"],"sourceRoot":""}